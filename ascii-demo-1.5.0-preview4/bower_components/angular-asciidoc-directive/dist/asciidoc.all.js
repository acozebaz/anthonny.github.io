/*!
 angular-asciidoc-directive - v0.0.1 - 2014-05-08 

======================================= 
opal version : 0.5.5 
opal-sprockets version : 0.3.0 
asciidoctor version : 1.5.0-preview4 
*/

(function(){function a(){}function b(){}function c(){}function d(){}function e(){}function f(a,b,c){var d=function(){},e=d.prototype=new a.constructor;b._scope=e,e.base=b,b._base_module=a.base,e.constructor=d,e.constants=[],c&&(b._orig_scope=a,a[c]=a.constructor[c]=b,a.constants.push(c))}function g(a,b){function c(){}var d=function(){};d.prototype=a.constructor.prototype,c.prototype=new d;var e=new c;return e._id=u++,e._alloc=b,e._isClass=!0,e.constructor=c,e._super=a,e._methods=[],e.__inc__=[],e.__parent=a,e._proto=b.prototype,b.prototype._klass=e,e}function h(){function a(){}var b=function(){};b.prototype=n.constructor.prototype,a.prototype=new b;var c=new a;return c._id=u++,c._isClass=!0,c.constructor=a,c._super=n,c._methods=[],c.__inc__=[],c.__parent=n,c._proto={},c.__mod__=!0,c.__dep__=[],c}function i(a,b){var c=g(m,b);c._name=a,f(p,c,a),q.push(c);for(var d=l._methods.concat(m._methods),e=0,h=d.length;h>e;e++){var i=d[e];b.prototype[i]=m._proto[i]}return c}function j(a,b){function c(){return this.$method_missing._p=c._p,c._p=null,this.$method_missing.apply(this,[b.slice(1)].concat(t.call(arguments)))}c.rb_stub=!0,a[b]=c}function k(a,b){l._methods.push(a);for(var c=0,d=q.length;d>c;c++)q[c]._proto[a]=b}var l,m,n,o,p=this.Opal={},q=[],r=function(){};r.prototype=p,p.constructor=r,p.constants=[],p.global=this;var s=p.hasOwnProperty,t=p.slice=Array.prototype.slice,u=0;p.uid=function(){return u++},p.cvars={},p.gvars={},p.create_scope=f,p.klass=function(a,b,c,d){a._isClass||(a=a._klass),null===b&&(b=m);var e=a._scope[c];if(s.call(a._scope,c)&&e._orig_scope===a._scope){if(!e._isClass)throw p.TypeError.$new(c+" is not a class");if(b!==e._super&&b!==m)throw p.TypeError.$new("superclass mismatch for class "+c)}else{if("function"==typeof b)return i(c,b);e=v(b,d),e._name=c,f(a._scope,e,c),a[c]=a._scope[c]=e,b!==m&&b!==l&&p.donate_constants(b,e),b.$inherited&&b.$inherited(e)}return e};var v=p.boot=function(a,b){var c=function(){};return c.prototype=a._proto,b.prototype=new c,b.prototype.constructor=b,g(a,b)};p.module=function(a,b){var c;if(a._isClass||(a=a._klass),s.call(a._scope,b)){if(c=a._scope[b],!c.__mod__&&c!==m)throw p.TypeError.$new(b+" is not a module")}else c=h(),c._name=b,f(a._scope,c,b),a[b]=a._scope[b]=c;return c};var w=function(a,b,c){if(c){var d=function(){};d.prototype=c.prototype,b.prototype=new d}return b.prototype.constructor=b,b},x=function(a,b,c){function d(){}var e=function(){};e.prototype=c.prototype,d.prototype=new e;var f=new d;return f._id=u++,f._alloc=b,f._isClass=!0,f._name=a,f._super=c,f.constructor=d,f._methods=[],f.__inc__=[],f.__parent=c,f._proto=b.prototype,b.prototype._klass=f,p[a]=f,p.constants.push(a),f};p.casgn=function(a,b,c){var d=a._scope;return c._isClass&&c._name===z&&(c._name=b),c._isClass&&(c._base_module=a),d.constants.push(b),d[b]=c},p.cdecl=function(a,b,c){return a.constants.push(b),a[b]=c},p.cget=function(a,b){null==b&&(b=a,a=p.Object);var c=a;for(b=b.split("::");0!=b.length;)c=c.$const_get(b.shift());return c},p.donate_constants=function(a,b){for(var c=a._scope.constants,d=b._scope,e=d.constants,f=0,g=c.length;g>f;f++)e.push(c[f]),d[c[f]]=a._scope[c[f]]},p.add_stubs=function(b){for(var c=0,d=b.length;d>c;c++){var e=b[c];a.prototype[e]||(a.prototype[e]=!0,j(a.prototype,e))}},p.add_stub_for=j,p.cm=function(a){return this.base.$const_missing(a)},p.ac=function(a,b,c,d){var e=(c._isClass?c._name+".":c._klass._name+"#")+d,f="["+e+"] wrong number of arguments("+a+" for "+b+")";throw p.ArgumentError.$new(f)},p.find_super_dispatcher=function(a,b,c,d,e){var f;return f=e?a._isClass?e._super:a._klass._proto:a._isClass?a._super:y(a,b,c),f=f["$"+b],f._p=d,f},p.find_iter_super_dispatcher=function(a,b,c,d,e){return c._def?p.find_super_dispatcher(a,c._jsid,c,d,e):p.find_super_dispatcher(a,b,c,d,e)};var y=function(a,b,c){for(var d=a.__meta__||a._klass;d&&d._proto["$"+b]!==c;)d=d.__parent;if(!d)throw new Error("could not find current class for super()");for(d=d.__parent;d;){var e=d._proto["$"+b];if(e&&e!==c)break;d=d.__parent}return d._proto};p.$return=function(a){throw p.returner.$v=a,p.returner},p.$yield1=function(a,b){if("function"!=typeof a)throw p.LocalJumpError.$new("no block given");return a.length>1?b._isArray?a.apply(null,b):a(b):a(b)},p.$yieldX=function(a,b){if("function"!=typeof a)throw p.LocalJumpError.$new("no block given");return a.length>1&&1==b.length&&b[0]._isArray?a.apply(null,b[0]):(b._isArray||(b=t.call(b)),a.apply(null,b))},p.is_a=function(a,b){if(a.__meta__===b)return!0;for(var c=a._klass;c;){if(c===b)return!0;c=c._super}return!1},p.to_ary=function(a){return a._isArray?a:a.$to_ary&&!a.$to_ary.rb_stub?a.$to_ary():[a]},p.send=function(a,b){var c=t.call(arguments,2),d=a["$"+b];return d?d.apply(a,c):a.$method_missing.apply(a,[b].concat(c))},p.block_send=function(a,b,c){var d=t.call(arguments,3),e=a["$"+b];return e?(e._p=c,e.apply(a,d)):a.$method_missing.apply(a,[b].concat(d))},p.donate=function(a,b){var c=a._methods,d=a.__dep__;if(a._methods=c.concat(b),d)for(var e=0,f=d.length;f>e;e++){for(var g=d[e],h=g._proto,i=0,j=b.length;j>i;i++){var k=b[i];h[k]=a._proto[k],h[k]._donated=!0}g.__dep__&&p.donate(g,b,!0)}},p.defn=function(a,b,c){return a.__mod__?(a._proto[b]=c,p.donate(a,[b])):a._isClass?(a._proto[b]=c,a===l?k(b,c):a===m&&p.donate(a,[b])):a[b]=c,z},p.defs=function(a,b,c){a._isClass||a.__mod__?a.constructor.prototype[b]=c:a[b]=c},p.hash=function(){if(1==arguments.length&&arguments[0]._klass==p.Hash)return arguments[0];var a=new p.Hash._alloc,b=[],c={};if(a.map=c,a.keys=b,1==arguments.length&&arguments[0]._isArray)for(var d=arguments[0],e=0,f=d.length;f>e;e++){var g=d[e][0],h=d[e][1];null==c[g]&&b.push(g),c[g]=h}else for(var e=0,f=arguments.length;f>e;e++){var g=arguments[e],h=arguments[++e];null==c[g]&&b.push(g),c[g]=h}return a},p.hash2=function(a,b){var c=new p.Hash._alloc;return c.keys=a,c.map=b,c},p.range=function(a,b,c){var d=new p.Range._alloc;return d.begin=a,d.end=b,d.exclude=c,d},w("BasicObject",a),w("Object",b,a),w("Module",d,b),w("Class",c,d),l=x("BasicObject",a,c),m=x("Object",b,l.constructor),n=x("Module",d,m.constructor),o=x("Class",c,n.constructor),l._klass=o,m._klass=o,n._klass=o,o._klass=o,l._super=null,m._super=l,n._super=m,o._super=n,m.__dep__=q,p.base=m,l._scope=m._scope=p,l._orig_scope=m._orig_scope=p,p.Kernel=m,n._scope=m._scope,o._scope=m._scope,n._orig_scope=m._orig_scope,o._orig_scope=m._orig_scope,m._proto.toString=function(){return this.$to_s()},p.top=new m._alloc,p.klass(m,m,"NilClass",e);var z=p.nil=new e;z.call=z.apply=function(){throw p.LocalJumpError.$new("no block given")},p.breaker=new Error("unexpected break"),p.returner=new Error("unexpected return"),i("Array",Array),i("Boolean",Boolean),i("Numeric",Number),i("String",String),i("Proc",Function),i("Exception",Error),i("Regexp",RegExp),i("Time",Date),TypeError._super=Error}).call(this),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module;return function(b){var f=e(b,"Opal"),g=(f._proto,f._scope);a.defs(f,"$coerce_to",function(a,b,d){var e,f=this;return(e=b["$==="](a))!==!1&&e!==c?a:(((e=a["$respond_to?"](d))===!1||e===c)&&f.$raise(g.TypeError,"no implicit conversion of "+a.$class()+" into "+b),a.$__send__(d))}),a.defs(f,"$coerce_to!",function(a,b,d){var e,f=this,h=c;return h=f.$coerce_to(a,b,d),((e=b["$==="](h))===!1||e===c)&&f.$raise(g.TypeError,"can't convert "+a.$class()+" into "+b+" ("+a.$class()+"#"+d+" gives "+h.$class()),h}),a.defs(f,"$try_convert",function(a,b,d){var e;return(e=b["$==="](a))!==!1&&e!==c?a:(e=a["$respond_to?"](d))!==!1&&e!==c?a.$__send__(d):c}),a.defs(f,"$compare",function(a,b){var d,e=this,f=c;return f=a["$<=>"](b),(d=f===c)!=!1&&d!==c&&e.$raise(g.ArgumentError,"comparison of "+a.$class().$name()+" with "+b.$class().$name()+" failed"),f}),a.defs(f,"$fits_fixnum!",function(a){var b,d=this;return(b=a>2147483648)!=!1&&b!==c?d.$raise(g.RangeError,"bignum too big to convert into `long'"):c}),a.defs(f,"$fits_array!",function(a){var b,d=this;return(b=a>=536870910)!=!1&&b!==c?d.$raise(g.ArgumentError,"argument too big"):c}),a.defs(f,"$destructure",function(a){return 1==a.length?a[0]:a._isArray?a:d.call(a)})}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return function(b,f){function g(){}var h,i,j,k,l=g=e(b,f,"Module",g),m=g._proto,n=g._scope;return a.defs(l,"$new",h=function(){function b(){}var d=h._p,e=d||c;h._p=null;var f=Opal.boot(Opal.Module,b);if(f._name=c,f._klass=Opal.Module,f.__dep__=[],f.__mod__=!0,f._proto={},a.create_scope(Opal.Module._scope,f),e!==c){var g=e._s;e._s=null,e.call(f),e._s=g}return f}),m["$==="]=function(b){var d,e=this;return(d=null==b)!=!1&&d!==c?!1:a.is_a(b,e)},m["$<"]=function(a){for(var b=this,c=b;c;){if(c===a)return!0;c=c.__parent}return!1},m.$alias_method=function(b,c){var d=this;return d._proto["$"+b]=d._proto["$"+c],d._methods&&a.donate(d,["$"+b]),d},m.$alias_native=function(a,b){var c=this;return null==b&&(b=a),c._proto["$"+a]=c._proto[b]},m.$ancestors=function(){for(var a=this,b=a,c=[];b;)c.push(b),c=c.concat(b.__inc__),b=b._super;return c},m.$append_features=function(b){for(var c=this,d=c,e=b.__inc__,f=0,g=e.length;g>f;f++)if(e[f]===d)return;e.push(d),d.__dep__.push(b);var h={name:d._name,_proto:d._proto,__parent:b.__parent,__iclass:!0};b.__parent=h;for(var i=d._proto,j=b._proto,k=d._methods,f=0,g=k.length;g>f;f++){var l=k[f];j.hasOwnProperty(l)&&!j[l]._donated||(j[l]=i[l],j[l]._donated=!0)}return b.__dep__&&a.donate(b,k.slice(),!0),a.donate_constants(d,b),c},m.$attr_accessor=function(a){var b,c,e=this;return a=d.call(arguments,0),(b=e).$attr_reader.apply(b,[].concat(a)),(c=e).$attr_writer.apply(c,[].concat(a))},m.$attr_reader=function(b){var e=this;b=d.call(arguments,0);for(var f=e._proto,g=e,h=0,i=b.length;i>h;h++)!function(b){f[b]=c;var d=function(){return this[b]};g._isSingleton?f.constructor.prototype["$"+b]=d:(f["$"+b]=d,a.donate(e,["$"+b]))}(b[h]);return c},m.$attr_writer=function(b){var e=this;b=d.call(arguments,0);for(var f=e._proto,g=e,h=0,i=b.length;i>h;h++)!function(b){f[b]=c;var d=function(a){return this[b]=a};g._isSingleton?f.constructor.prototype["$"+b+"="]=d:(f["$"+b+"="]=d,a.donate(e,["$"+b+"="]))}(b[h]);return c},a.defn(l,"$attr",m.$attr_accessor),m.$constants=function(){var a=this;return a._scope.constants},m["$const_defined?"]=function(a,b){var d,e=this;if(null==b&&(b=!0),((d=a["$=~"](/^[A-Z]\w*$/))===!1||d===c)&&e.$raise(n.NameError,"wrong constant name "+a),scopes=[e._scope],b||e===Opal.Object)for(var f=e._super;f!==Opal.BasicObject;)scopes.push(f._scope),f=f._super;for(var g=0,h=scopes.length;h>g;g++)if(scopes[g].hasOwnProperty(a))return!0;return!1},m.$const_get=function(a,b){var d,e=this;null==b&&(b=!0),((d=a["$=~"](/^[A-Z]\w*$/))===!1||d===c)&&e.$raise(n.NameError,"wrong constant name "+a);var f=[e._scope];if(b||e==Opal.Object)for(var g=e._super;g!==Opal.BasicObject;)f.push(g._scope),g=g._super;for(var h=0,i=f.length;i>h;h++)if(f[h].hasOwnProperty(a))return f[h][a];return e.$const_missing(a)},m.$const_missing=function(a){var b=this,d=c;return d=b._name,b.$raise(n.NameError,"uninitialized constant "+d+"::"+a)},m.$const_set=function(b,d){var e,f=this;((e=b["$=~"](/^[A-Z]\w*$/))===!1||e===c)&&f.$raise(n.NameError,"wrong constant name "+b);try{b=b.$to_str()}catch(g){f.$raise(n.TypeError,"conversion with #to_str failed")}return a.casgn(f,b,d),d},m.$define_method=i=function(b,d){var e=this,f=i._p,g=f||c;if(i._p=null,d&&(g=d.$to_proc()),g===c)throw new Error("no block given");var h="$"+b;return g._jsid=b,g._s=null,g._def=g,e._proto[h]=g,a.donate(e,[h]),null},m.$remove_method=function(a){{var b=this,c="$"+a;b._proto[c]}return delete b._proto[c],b},m.$include=function(a){var b=this;a=d.call(arguments,0);for(var c,e=a.length-1;e>=0;)c=a[e],e--,c!==b&&(c.$append_features(b),c.$included(b));return b},m.$instance_method=function(a){var b=this,c=b._proto["$"+a];return(!c||c.rb_stub)&&b.$raise(n.NameError,"undefined method `"+a+"' for class `"+b.$name()+"'"),n.UnboundMethod.$new(b,c,a)},m.$instance_methods=function(a){var b=this;null==a&&(a=!1);var c=[],d=b._proto;for(var e in b._proto)(a||d.hasOwnProperty(e))&&(a||!d[e]._donated)&&"$"===e.charAt(0)&&c.push(e.substr(1));return c},m.$included=function(){return c},m.$module_eval=j=function(){var a=this,b=j._p,d=b||c;if(j._p=null,d===c)throw new Error("no block given");var e,f=d._s;return d._s=null,e=d.call(a),d._s=f,e},a.defn(l,"$class_eval",m.$module_eval),m.$module_exec=k=function(){var a=this,b=k._p,e=b||c;if(k._p=null,e===c)throw new Error("no block given");var f,g=e._s;return e._s=null,f=e.apply(a,d.call(arguments)),e._s=g,f},a.defn(l,"$class_exec",m.$module_exec),m["$method_defined?"]=function(a){var b=this,c=b._proto["$"+a];return!!c&&!c.rb_stub},m.$module_function=function(a){var b=this;a=d.call(arguments,0);for(var c=0,e=a.length;e>c;c++){var f=a[c],g=b._proto["$"+f];b.constructor.prototype["$"+f]=g}return b},m.$name=function(){var b=this;if(b._full_name)return b._full_name;for(var d=[],e=b;e;){if(e._name===c)return 0===d.length?c:d.join("::");if(d.unshift(e._name),e=e._base_module,e===a.Object)break}return 0===d.length?c:b._full_name=d.join("::")},m.$public=function(){return c},m.$private_class_method=function(a){var b=this;return b["$"+a]||c},a.defn(l,"$private",m.$public),a.defn(l,"$protected",m.$public),m["$private_method_defined?"]=function(){return!1},a.defn(l,"$protected_method_defined?",m["$private_method_defined?"]),a.defn(l,"$public_instance_methods",m.$instance_methods),a.defn(l,"$public_method_defined?",m["$method_defined?"]),m.$remove_class_variable=function(){return c},m.$remove_const=function(a){var b=this,c=b._scope[a];return delete b._scope[a],c},m.$to_s=function(){var a=this;return a.$name().$to_s()},m.$undef_method=function(b){var c=this;return a.add_stub_for(c._proto,"$"+b),c},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return function(b,f){function g(){}var h,i,j=g=e(b,f,"Class",g),k=g._proto,l=g._scope;return a.defs(j,"$new",h=function(b){function d(){}var e=this,f=h._p,g=f||c;null==b&&(b=l.Object),h._p=null,(!b._isClass||b.__mod__)&&e.$raise(l.TypeError,"superclass must be a Class");var i=Opal.boot(b,d);if(i._name=c,i.__parent=b,a.create_scope(b._scope,i),b.$inherited(i),g!==c){var j=g._s;g._s=null,g.call(i),g._s=j}return i}),k.$allocate=function(){var a=this,b=new a._alloc;return b._id=Opal.uid(),b},k.$inherited=function(){return c},k.$new=i=function(a){var b=this,e=i._p,f=e||c;a=d.call(arguments,0),i._p=null;var g=b.$allocate();return g.$initialize._p=f,g.$initialize.apply(g,a),g},k.$superclass=function(){var a=this;return a._super||c},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return function(b,f){function g(){}var h,i,j,k,l=g=e(b,f,"BasicObject",g),m=g._proto,n=g._scope;return a.defn(l,"$initialize",function(){return c}),a.defn(l,"$==",function(a){var b=this;return b===a}),a.defn(l,"$__id__",function(){var a=this;return a._id||(a._id=Opal.uid())}),a.defn(l,"$__send__",h=function(a,b){var e=this,f=h._p,g=f||c;b=d.call(arguments,1),h._p=null;var i=e["$"+a];return i?(g!==c&&(i._p=g),i.apply(e,b)):(g!==c&&(e.$method_missing._p=g),e.$method_missing.apply(e,[a].concat(b)))}),a.defn(l,"$eql?",m["$=="]),a.defn(l,"$equal?",m["$=="]),a.defn(l,"$instance_eval",i=function(){var a,b=this,d=i._p,e=d||c;i._p=null,((a=e)===!1||a===c)&&n.Kernel.$raise(n.ArgumentError,"no block given");var f,g=e._s;return e._s=null,f=e.call(b,b),e._s=g,f}),a.defn(l,"$instance_exec",j=function(a){var b,e=this,f=j._p,g=f||c;a=d.call(arguments,0),j._p=null,((b=g)===!1||b===c)&&n.Kernel.$raise(n.ArgumentError,"no block given");var h,i=g._s;return g._s=null,h=g.apply(e,a),g._s=i,h}),a.defn(l,"$method_missing",k=function(a,b){k._p;return b=d.call(arguments,1),k._p=null,n.Kernel.$raise(n.NoMethodError,"undefined method `"+a+"' for BasicObject instance")}),c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.gvars;return function(b){var h,i,j,k,l,m,n,o,p=f(b,"Kernel"),q=p._proto,r=p._scope;q.$method_missing=h=function(a,b){{var c=this;h._p}return b=e.call(arguments,1),h._p=null,c.$raise(r.NoMethodError,"undefined method `"+a+"' for "+c.$inspect())},q["$=~"]=function(){return!1},q["$==="]=function(a){var b=this;return b["$=="](a)},q["$<=>"]=function(a){var b=this;return b["$=="](a)?0:c},q.$method=function(a){var b=this,c=b["$"+a];return(!c||c.rb_stub)&&b.$raise(r.NameError,"undefined method `"+a+"' for class `"+b.$class().$name()+"'"),r.Method.$new(b,c,a)},q.$methods=function(b){var d=this;null==b&&(b=!0);var e=[];for(var f in d)if("$"==f[0]&&"function"==typeof d[f]){if((0==b||b===c)&&!a.hasOwnProperty.call(d,f))continue;e.push(f.substr(1))}return e},q.$Array=i=function(a,b){i._p;return b=e.call(arguments,1),i._p=null,null==a||a===c?[]:a["$respond_to?"]("to_ary")?a.$to_ary():a["$respond_to?"]("to_a")?a.$to_a():[a]},q.$caller=function(){return[]},q.$class=function(){var a=this;return a._klass},q.$copy_instance_variables=function(a){var b=this;for(var c in a)"$"!==c.charAt(0)&&"_id"!==c&&"_klass"!==c&&(b[c]=a[c])},q.$clone=function(){var a=this,b=c;return b=a.$class().$allocate(),b.$copy_instance_variables(a),b.$initialize_clone(a),b},q.$initialize_clone=function(a){var b=this;return b.$initialize_copy(a)},p.$private("initialize_clone"),q.$define_singleton_method=j=function(a){var b,d=this,e=j._p,f=e||c;j._p=null,((b=f)===!1||b===c)&&d.$raise(r.ArgumentError,"tried to create Proc object without a block");var g="$"+a;return f._jsid=a,f._s=null,f._def=f,d.$singleton_class()._proto[g]=f,d},q.$dup=function(){var a=this,b=c;return b=a.$class().$allocate(),b.$copy_instance_variables(a),b.$initialize_dup(a),b},q.$initialize_dup=function(a){var b=this;return b.$initialize_copy(a)},p.$private("initialize_dup"),q.$enum_for=k=function(a,b){var d,f,g=this,h=k._p,i=h||c;return b=e.call(arguments,1),null==a&&(a="each"),k._p=null,(d=(f=r.Enumerator).$for,d._p=i.$to_proc(),d).apply(f,[g,a].concat(b))},q["$equal?"]=function(a){var b=this;return b===a},q.$extend=function(a){var b=this;a=e.call(arguments,0);for(var c=0,d=a.length;d>c;c++)b.$singleton_class().$include(a[c]);return b},q.$format=function(a,b){b=e.call(arguments,1);var c=0;return a.replace(/%(\d+\$)?([-+ 0]*)(\d*|\*(\d+\$)?)(?:\.(\d*|\*(\d+\$)?))?([cspdiubBoxXfgeEG])|(%%)/g,function(a,d,e,f,g,h,i,j,k){if(k)return"%";var l,m,n,o=-1!="diubBoxX".indexOf(j),p=-1!="eEfgG".indexOf(j),q="";if(void 0===f)l=void 0;else if("*"==f.charAt(0)){var r=c++;g&&(r=parseInt(g,10)-1),l=b[r].$to_i()}else l=parseInt(f,10);if(h)if("*"==h.charAt(0)){var s=c++;i&&(s=parseInt(i,10)-1),m=b[s].$to_i()}else m=parseInt(h,10);else m=p?6:void 0;switch(d&&(c=parseInt(d,10)-1),j){case"c":n=b[c],a=n._isString?n.charAt(0):String.fromCharCode(n.$to_i());break;case"s":a=b[c].$to_s(),void 0!==m&&(a=a.substr(0,m));break;case"p":a=b[c].$inspect(),void 0!==m&&(a=a.substr(0,m));break;case"d":case"i":case"u":a=b[c].$to_i().toString();break;case"b":case"B":a=b[c].$to_i().toString(2);break;case"o":a=b[c].$to_i().toString(8);break;case"x":case"X":a=b[c].$to_i().toString(16);break;case"e":case"E":a=b[c].$to_f().toExponential(m);break;case"f":a=b[c].$to_f().toFixed(m);break;case"g":case"G":a=b[c].$to_f().toPrecision(m)}c++,(o||p)&&("-"==a.charAt(0)?(q="-",a=a.substr(1)):-1!=e.indexOf("+")?q="+":-1!=e.indexOf(" ")&&(q=" ")),o&&void 0!==m&&a.length<m&&(a="0"["$*"](m-a.length)+a);var t=q.length+a.length;if(void 0!==l&&l>t)if(-1!=e.indexOf("-"))a+=" "["$*"](l-t);else{-1!=e.indexOf("0")?a="0"["$*"](l-t)+a:q=" "["$*"](l-t)+q}var u=q+a;return-1!="XEG".indexOf(j)&&(u=u.toUpperCase()),u})},q.$hash=function(){var a=this;return a._id},q.$initialize_copy=function(){return c},q.$inspect=function(){var a=this;return a.$to_s()},q["$instance_of?"]=function(a){var b=this;return b._klass===a},q["$instance_variable_defined?"]=function(a){var b=this;return b.hasOwnProperty(a.substr(1))},q.$instance_variable_get=function(a){var b=this,d=b[a.substr(1)];return null==d?c:d},q.$instance_variable_set=function(a,b){var c=this;return c[a.substr(1)]=b},q.$instance_variables=function(){var a=this,b=[];for(var c in a)"$"!==c.charAt(0)&&"_klass"!==c&&"_id"!==c&&b.push("@"+c);return b},q.$Integer=function(a,b){var d,e,f=this,g=c;return null==b&&(b=c),(d=r.String["$==="](a))!==!1&&d!==c?((d=a["$empty?"]())!==!1&&d!==c&&f.$raise(r.ArgumentError,"invalid value for Integer: (empty string)"),parseInt(a,(d=b)!==!1&&d!==c?d:void 0)):(b!==!1&&b!==c&&f.$raise(f.$ArgumentError("base is only valid for String values")),function(){return g=a,r.Integer["$==="](g)?a:r.Float["$==="](g)?((d=(e=a["$nan?"]())!==!1&&e!==c?e:a["$infinite?"]())!==!1&&d!==c&&f.$raise(r.FloatDomainError,"unable to coerce "+a+" to Integer"),a.$to_int()):r.NilClass["$==="](g)?f.$raise(r.TypeError,"can't convert nil into Integer"):(d=a["$respond_to?"]("to_int"))!==!1&&d!==c?a.$to_int():(d=a["$respond_to?"]("to_i"))!==!1&&d!==c?a.$to_i():f.$raise(r.TypeError,"can't convert "+a.$class()+" into Integer")}())},q.$Float=function(a){var b,d=this;return(b=r.String["$==="](a))!==!1&&b!==c?parseFloat(a):(b=a["$respond_to?"]("to_f"))!==!1&&b!==c?a.$to_f():d.$raise(r.TypeError,"can't convert "+a.$class()+" into Float")},q["$is_a?"]=function(b){var c=this;return a.is_a(c,b)},a.defn(p,"$kind_of?",q["$is_a?"]),q.$lambda=l=function(){var a=l._p,b=a||c;return l._p=null,b.is_lambda=!0,b},q.$loop=m=function(){var a=this,b=m._p,e=b||c;for(m._p=null;;)if(e()===d)return d.$v;return a},q["$nil?"]=function(){return!1},a.defn(p,"$object_id",q.$__id__),q.$printf=function(a){var b,d=this;return a=e.call(arguments,0),a.$length()["$>"](0)&&d.$print((b=d).$format.apply(b,[].concat(a))),c},q.$private_methods=function(){return[]},q.$proc=n=function(){var a,b=this,d=n._p,e=d||c;return n._p=null,((a=e)===!1||a===c)&&b.$raise(r.ArgumentError,"tried to create Proc object without a block"),e.is_lambda=!1,e},q.$puts=function(a){var b;return a=e.call(arguments,0),(b=g.stdout).$puts.apply(b,[].concat(a))},q.$p=function(a){var b,d,f,h=this;return a=e.call(arguments,0),(b=(d=a).$each,b._p=(f=function(a){f._s||this;return null==a&&(a=c),g.stdout.$puts(a.$inspect())},f._s=h,f),b).call(d),a.$length()["$<="](1)?a["$[]"](0):a},a.defn(p,"$print",q.$puts),q.$warn=function(a){var b,d;return a=e.call(arguments,0),((b=(d=g.VERBOSE["$nil?"]())!==!1&&d!==c?d:a["$empty?"]())===!1||b===c)&&(b=g.stderr).$puts.apply(b,[].concat(a)),c},q.$raise=function(a,b){throw null==a&&g["!"]?a=g["!"]:a._isString?a=r.RuntimeError.$new(a):a["$is_a?"](r.Exception)||(a=a.$new(b)),a},a.defn(p,"$fail",q.$raise),q.$rand=function(a){var b=this;if(void 0===a)return Math.random();if(a._isRange){var c=a.$to_a();return c[b.$rand(c.length)]}return Math.floor(Math.random()*Math.abs(r.Opal.$coerce_to(a,r.Integer,"to_int")))},a.defn(p,"$srand",q.$rand),q["$respond_to?"]=function(a,b){var c=this;null==b&&(b=!1);var d=c["$"+a];return!!d&&!d.rb_stub},a.defn(p,"$send",q.$__send__),a.defn(p,"$public_send",q.$__send__),q.$singleton_class=function(){var b=this;if(b._isClass){if(b.__meta__)return b.__meta__;var c=new a.Class._alloc;return c._klass=a.Class,b.__meta__=c,c._proto=b.constructor.prototype,c._isSingleton=!0,c.__inc__=[],c._methods=[],c._scope=b._scope,c}if(b._isClass)return b._klass;if(b.__meta__)return b.__meta__;var d=b._klass,e="#<Class:#<"+d._name+":"+d._id+">>",f=function(){},c=Opal.boot(d,f);return c._name=e,c._proto=b,b.__meta__=c,c._klass=d._klass,c._scope=d._scope,c.__parent=d,c},a.defn(p,"$sprintf",q.$format),q.$String=function(a){return String(a)},q.$tap=o=function(){var b=this,e=o._p,f=e||c;return o._p=null,a.$yield1(f,b)===d?d.$v:b},q.$to_proc=function(){var a=this;return a},q.$to_s=function(){var a=this;return"#<"+a.$class().$name()+":"+a._id+">"},q.$freeze=function(){var a=this;return a.___frozen___=!0,a},q["$frozen?"]=function(){var a,b=this;return null==b.___frozen___&&(b.___frozen___=c),(a=b.___frozen___)!==!1&&a!==c?a:!1},q["$respond_to_missing?"]=function(){return!1},a.donate(p,["$method_missing","$=~","$===","$<=>","$method","$methods","$Array","$caller","$class","$copy_instance_variables","$clone","$initialize_clone","$define_singleton_method","$dup","$initialize_dup","$enum_for","$equal?","$extend","$format","$hash","$initialize_copy","$inspect","$instance_of?","$instance_variable_defined?","$instance_variable_get","$instance_variable_set","$instance_variables","$Integer","$Float","$is_a?","$kind_of?","$lambda","$loop","$nil?","$object_id","$printf","$private_methods","$proc","$puts","$p","$print","$warn","$raise","$fail","$rand","$srand","$respond_to?","$send","$public_send","$singleton_class","$sprintf","$String","$tap","$to_proc","$to_s","$freeze","$frozen?","$respond_to_missing?"])}(b)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(b,c){function f(){}var g=f=e(b,c,"NilClass",f),h=f._proto,i=f._scope;return h["$&"]=function(){return!1},h["$|"]=function(a){return a!==!1&&a!==d},h["$^"]=function(a){return a!==!1&&a!==d},h["$=="]=function(a){return a===d},h.$dup=function(){var a=this;return a.$raise(i.TypeError)},h.$inspect=function(){return"nil"},h["$nil?"]=function(){return!0},h.$singleton_class=function(){return i.NilClass},h.$to_a=function(){return[]},h.$to_h=function(){return a.hash()},h.$to_i=function(){return 0},a.defn(g,"$to_f",h.$to_i),h.$to_s=function(){return""},h.$object_id=function(){return i.NilClass._id||(i.NilClass._id=a.uid())},a.defn(g,"$hash",h.$object_id)}(b,null),a.cdecl(c,"NIL",d)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(b,c){function f(){}{var g=f=e(b,c,"Boolean",f),h=f._proto;f._scope}return h._isBoolean=!0,function(a){a._scope,a._proto;return a.$undef_method("new")}(g.$singleton_class()),h["$&"]=function(a){var b=this;return 1==b?a!==!1&&a!==d:!1},h["$|"]=function(a){var b=this;return 1==b?!0:a!==!1&&a!==d},h["$^"]=function(a){var b=this;return 1==b?a===!1||a===d:a!==!1&&a!==d},h["$=="]=function(a){var b=this;return 1==b===a.valueOf()},a.defn(g,"$equal?",h["$=="]),a.defn(g,"$singleton_class",h.$class),h.$to_s=function(){var a=this;return 1==a?"true":"false"},d}(b,null),a.cdecl(c,"TrueClass",c.Boolean),a.cdecl(c,"FalseClass",c.Boolean),a.cdecl(c,"TRUE",!0),a.cdecl(c,"FALSE",!1)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass),f=a.module;return function(b,c){function f(){}{var g=f=e(b,c,"Exception",f),h=f._proto;f._scope}return h.message=d,g.$attr_reader("message"),a.defs(g,"$new",function(a){var b=this;null==a&&(a="");var c=new Error(a);return c._klass=b,c.name=b._name,c}),h.$backtrace=function(){var a=this,b=a.stack;return"string"==typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]},h.$inspect=function(){var a=this;return"#<"+a.$class().$name()+": '"+a.message+"'>"},a.defn(g,"$to_s",h.$message)}(b,null),function(a,b){function c(){}c=e(a,b,"StandardError",c),c._proto,c._scope;return d}(b,c.Exception),function(a,b){function c(){}c=e(a,b,"SystemCallError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"NameError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"NoMethodError",c),c._proto,c._scope;return d}(b,c.NameError),function(a,b){function c(){}c=e(a,b,"RuntimeError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"LocalJumpError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"TypeError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"ArgumentError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"IndexError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"StopIteration",c),c._proto,c._scope;return d}(b,c.IndexError),function(a,b){function c(){}c=e(a,b,"KeyError",c),c._proto,c._scope;return d}(b,c.IndexError),function(a,b){function c(){}c=e(a,b,"RangeError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"FloatDomainError",c),c._proto,c._scope;return d}(b,c.RangeError),function(a,b){function c(){}c=e(a,b,"IOError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"ScriptError",c),c._proto,c._scope;return d}(b,c.Exception),function(a,b){function c(){}c=e(a,b,"SyntaxError",c),c._proto,c._scope;return d}(b,c.ScriptError),function(a,b){function c(){}c=e(a,b,"NotImplementedError",c),c._proto,c._scope;return d}(b,c.ScriptError),function(a,b){function c(){}c=e(a,b,"SystemExit",c),c._proto,c._scope;return d}(b,c.Exception),function(b){var c=f(b,"Errno"),g=(c._proto,c._scope);!function(b,c){function f(){}{var g,h=f=e(b,c,"EINVAL",f);f._proto,f._scope}return a.defs(h,"$new",g=function(){{var b=this;g._p}return g._p=null,a.find_super_dispatcher(b,"new",g,null,f).apply(b,["Invalid argument"])}),d}(c,g.SystemCallError)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass,f=a.gvars;return function(b,g){function h(){}var i=h=e(b,g,"Regexp",h),j=h._proto,k=h._scope;return j._isRegexp=!0,a.defs(i,"$escape",function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\^\$\| ]/g,"\\$&")}),a.defs(i,"$union",function(a){return a=d.call(arguments,0),new RegExp(a.join(""))}),a.defs(i,"$new",function(a,b){return new RegExp(a,b)}),j["$=="]=function(a){var b=this;return a.constructor==RegExp&&b.toString()===a.toString()},j["$==="]=function(a){var b,d,e=this;return d=null==a._isString,(b=d!==!1&&d!==c?a["$respond_to?"]("to_str"):d)!==!1&&b!==c&&(a=a.$to_str()),(b=null==a._isString)!=!1&&b!==c?!1:e.test(a)},j["$=~"]=function(a){var b,d=this;if((b=a===c)!=!1&&b!==c)return f["~"]=f["`"]=f["'"]=c,c;a=k.Opal.$coerce_to(a,k.String,"to_str").$to_s();var e=d;e.global?e.lastIndex=0:e=new RegExp(e.source,"g"+(e.multiline?"m":"")+(e.ignoreCase?"i":""));var g=e.exec(a);return f["~"]=g?k.MatchData.$new(e,g):f["`"]=f["'"]=c,g?g.index:c},a.defn(i,"$eql?",j["$=="]),j.$inspect=function(){var a=this;return a.toString()},j.$match=function(a){var b,d=this;if((b=a===c)!=!1&&b!==c)return f["~"]=f["`"]=f["'"]=c,c;(b=null==a._isString)!=!1&&b!==c&&(((b=a["$respond_to?"]("to_str"))===!1||b===c)&&d.$raise(k.TypeError,"no implicit conversion of "+a.$class()+" into String"),a=a.$to_str());var e=d;e.global?e.lastIndex=0:e=new RegExp(e.source,"g"+(e.multiline?"m":"")+(e.ignoreCase?"i":""));var g=e.exec(a);return f["~"]=g?k.MatchData.$new(e,g):f["`"]=f["'"]=c},j.$source=function(){var a=this;return a.source},a.defn(i,"$to_s",j.$source)}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module);return function(b){var e=d(b,"Comparable"),f=e._proto,g=e._scope;a.defs(e,"$normalize",function(a){var b;return(b=g.Integer["$==="](a))!==!1&&b!==c?a:a["$>"](0)?1:a["$<"](0)?-1:0}),f["$=="]=function(a){var b,d=this,e=c;try{return(b=d["$equal?"](a))!==!1&&b!==c?!0:(b=e=d["$<=>"](a))===!1||b===c?!1:g.Comparable.$normalize(e)["$=="](0)}catch(f){if(g.StandardError["$==="](f))return!1;throw f}},f["$>"]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===!1||b===c)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$>"](0)},f["$>="]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===!1||b===c)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$>="](0)},f["$<"]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===!1||b===c)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$<"](0)},f["$<="]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===!1||b===c)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$<="](0)},f["$between?"]=function(a,b){var c=this;return c["$<"](a)?!1:c["$>"](b)?!1:!0},a.donate(e,["$==","$>","$>=","$<","$<=","$between?"])}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module;return function(b){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=f(b,"Enumerable"),P=O._proto,Q=O._scope;
P["$all?"]=g=function(){var b,e=this,f=g._p,h=f||c;g._p=null;var i=!0;return e.$each._p=h!==c?function(){var e=a.$yieldX(h,arguments);return e===d?(i=d.$v,d):(b=e)===!1||b===c?(i=!1,d):void 0}:function(a){return 1==arguments.length&&(b=a)===!1||b===c?(i=!1,d):void 0},e.$each(),i},P["$any?"]=h=function(){var b,e=this,f=h._p,g=f||c;h._p=null;var i=!1;return e.$each._p=g!==c?function(){var e=a.$yieldX(g,arguments);return e===d?(i=d.$v,d):(b=e)!==!1&&b!==c?(i=!0,d):void 0}:function(a){return 1!=arguments.length||(b=a)!==!1&&b!==c?(i=!0,d):void 0},e.$each(),i},P.$chunk=i=function(){{var a=this;i._p}return i._p=null,a.$raise(Q.NotImplementedError)},P.$collect=j=function(){var b=this,e=j._p,f=e||c;if(j._p=null,f===c)return b.$enum_for("collect");var g=[];return b.$each._p=function(){var b=a.$yieldX(f,arguments);return b===d?(g=d.$v,d):void g.push(b)},b.$each(),g},P.$collect_concat=k=function(){{var a=this;k._p}return k._p=null,a.$raise(Q.NotImplementedError)},P.$count=l=function(b){var e,f=this,g=l._p,h=g||c;l._p=null;var i=0;return null!=b?h=function(){return Q.Opal.$destructure(arguments)["$=="](b)}:h===c&&(h=function(){return!0}),f.$each._p=function(){var b=a.$yieldX(h,arguments);return b===d?(i=d.$v,d):void((e=b)!==!1&&e!==c&&i++)},f.$each(),i},P.$cycle=m=function(b){var e,f=this,g=m._p,h=g||c;if(null==b&&(b=c),m._p=null,(e=h)===!1||e===c)return f.$enum_for("cycle",b);if(((e=b["$nil?"]())===!1||e===c)&&(b=Q.Opal["$coerce_to!"](b,Q.Integer,"to_int"),(e=0>=b)!=!1&&e!==c))return c;var i,j=[];if(f.$each._p=function(){var b=Q.Opal.$destructure(arguments),c=a.$yield1(h,b);return c===d?(i=d.$v,d):void j.push(b)},f.$each(),void 0!==i)return i;if(0===j.length)return c;if((e=b["$nil?"]())!==!1&&e!==c)for(;;)for(var k=0,l=j.length;l>k;k++){var n=a.$yield1(h,j[k]);if(n===d)return d.$v}else for(;b>1;){for(var k=0,l=j.length;l>k;k++){var n=a.$yield1(h,j[k]);if(n===d)return d.$v}b--}},P.$detect=n=function(b){var e,f=this,g=n._p,h=g||c;if(n._p=null,h===c)return f.$enum_for("detect",b);var i=void 0;return f.$each._p=function(){var b=Q.Opal.$destructure(arguments),f=a.$yield1(h,b);return f===d?(i=d.$v,d):(e=f)!==!1&&e!==c?(i=b,d):void 0},f.$each(),void 0===i&&void 0!==b&&(i="function"==typeof b?b():b),void 0===i?c:i},P.$drop=function(a){var b,d=this;a=Q.Opal.$coerce_to(a,Q.Integer,"to_int"),(b=0>a)!=!1&&b!==c&&d.$raise(Q.ArgumentError,"attempt to drop negative size");var e=[],f=0;return d.$each._p=function(){f>=a&&e.push(Q.Opal.$destructure(arguments)),f++},d.$each(),e},P.$drop_while=o=function(){var b,e=this,f=o._p,g=f||c;if(o._p=null,g===c)return e.$enum_for("drop_while");var h=[],i=!0;return e.$each._p=function(){var e=Q.Opal.$destructure(arguments);if(i){var f=a.$yield1(g,e);if(f===d)return h=d.$v,d;((b=f)===!1||b===c)&&(i=!1,h.push(e))}else h.push(e)},e.$each(),h},P.$each_cons=p=function(){{var a=this;p._p}return p._p=null,a.$raise(Q.NotImplementedError)},P.$each_entry=q=function(){{var a=this;q._p}return q._p=null,a.$raise(Q.NotImplementedError)},P.$each_slice=r=function(a){var b,e=this,f=r._p,g=f||c;if(r._p=null,a=Q.Opal.$coerce_to(a,Q.Integer,"to_int"),(b=0>=a)!=!1&&b!==c&&e.$raise(Q.ArgumentError,"invalid slice size"),g===c)return e.$enum_for("each_slice",a);var h,i=[];return e.$each._p=function(){var b=Q.Opal.$destructure(arguments);if(i.push(b),i.length===a){if(g(i)===d)return h=d.$v,d;i=[]}},e.$each(),void 0!==h?h:i.length>0&&g(i)===d?d.$v:c},P.$each_with_index=s=function(a){var b,f=this,g=s._p,h=g||c;if(a=e.call(arguments,0),s._p=null,h===c)return(b=f).$enum_for.apply(b,["each_with_index"].concat(a));var i,j=0;return f.$each._p=function(){var a=Q.Opal.$destructure(arguments),b=h(a,j);return b===d?(i=d.$v,d):void j++},f.$each.apply(f,a),void 0!==i?i:f},P.$each_with_object=t=function(a){var b=this,e=t._p,f=e||c;if(t._p=null,f===c)return b.$enum_for("each_with_object",a);var g;return b.$each._p=function(){var b=Q.Opal.$destructure(arguments),c=f(b,a);return c===d?(g=d.$v,d):void 0},b.$each(),void 0!==g?g:a},P.$entries=function(a){var b=this;a=e.call(arguments,0);var c=[];return b.$each._p=function(){c.push(Q.Opal.$destructure(arguments))},b.$each.apply(b,a),c},a.defn(O,"$find",P.$detect),P.$find_all=u=function(){var b,e=this,f=u._p,g=f||c;if(u._p=null,g===c)return e.$enum_for("find_all");var h=[];return e.$each._p=function(){var e=Q.Opal.$destructure(arguments),f=a.$yield1(g,e);return f===d?(h=d.$v,d):void((b=f)!==!1&&b!==c&&h.push(e))},e.$each(),h},P.$find_index=v=function(b){var e,f=this,g=v._p,h=g||c;if(v._p=null,(e=void 0===b&&h===c)!=!1&&e!==c)return f.$enum_for("find_index");var i=c,j=0;return null!=b?f.$each._p=function(){var a=Q.Opal.$destructure(arguments);return a["$=="](b)?(i=j,d):void(j+=1)}:h!==c&&(f.$each._p=function(){var b=a.$yieldX(h,arguments);return b===d?(i=d.$v,d):(e=b)!==!1&&e!==c?(i=j,d):void(j+=1)}),f.$each(),i},P.$first=function(a){var b,e=this,f=c;if((b=void 0===a)!=!1&&b!==c)f=c,e.$each._p=function(){return f=Q.Opal.$destructure(arguments),d},e.$each();else{if(f=[],a=Q.Opal.$coerce_to(a,Q.Integer,"to_int"),(b=0>a)!=!1&&b!==c&&e.$raise(Q.ArgumentError,"attempt to take negative size"),(b=0==a)!=!1&&b!==c)return[];var g=0,a=Q.Opal.$coerce_to(a,Q.Integer,"to_int");e.$each._p=function(){return f.push(Q.Opal.$destructure(arguments)),a<=++g?d:void 0},e.$each()}return f},a.defn(O,"$flat_map",P.$collect_concat),P.$grep=w=function(b){var e,f=this,g=w._p,h=g||c;w._p=null;var i=[];return f.$each._p=h!==c?function(){var f=Q.Opal.$destructure(arguments),g=b["$==="](f);if((e=g)!==!1&&e!==c){if(g=a.$yield1(h,f),g===d)return i=d.$v,d;i.push(g)}}:function(){var a=Q.Opal.$destructure(arguments),d=b["$==="](a);(e=d)!==!1&&e!==c&&i.push(a)},f.$each(),i},P.$group_by=x=function(){var b,e,f,g=this,h=x._p,i=h||c,j=c;if(x._p=null,i===c)return g.$enum_for("group_by");j=Q.Hash.$new();var k;return g.$each._p=function(){var g=Q.Opal.$destructure(arguments),h=a.$yield1(i,g);return h===d?(k=d.$v,d):void(b=h,e=j,(f=e["$[]"](b))!==!1&&f!==c?f:e["$[]="](b,[]))["$<<"](g)},g.$each(),void 0!==k?k:j},P["$include?"]=function(a){var b=this,c=!1;return b.$each._p=function(){var b=Q.Opal.$destructure(arguments);return b["$=="](a)?(c=!0,d):void 0},b.$each(),c},P.$opalInject=y=function(b,e){var f=this,g=y._p,h=g||c;y._p=null;var i=b;return h!==c&&void 0===e?f.$each._p=function(){var b=Q.Opal.$destructure(arguments);return void 0===i?void(i=b):(b=a.$yieldX(h,[i,b]),b===d?(i=d.$v,d):void(i=b))}:(void 0===e&&(Q.Symbol["$==="](b)||f.$raise(Q.TypeError,""+b.$inspect()+" is not a Symbol"),e=b,i=void 0),f.$each._p=function(){var a=Q.Opal.$destructure(arguments);return void 0===i?void(i=a):void(i=i.$__send__(e,a))}),f.$each(),i},P.$lazy=function(){var a,b,d,f=this;return(a=(b=Q.Enumerator._scope.Lazy).$new,a._p=(d=function(a,b){{var f;d._s||this}return null==a&&(a=c),b=e.call(arguments,1),(f=a).$yield.apply(f,[].concat(b))},d._s=f,d),a).call(b,f,f.$enumerator_size())},P.$enumerator_size=function(){var a,b=this;return(a=b["$respond_to?"]("size"))!==!1&&a!==c?b.$size():c},O.$private("enumerator_size"),a.defn(O,"$map",P.$collect),P.$max=z=function(){var a=this,b=z._p,e=b||c;z._p=null;var f;return a.$each._p=e!==c?function(){var b=Q.Opal.$destructure(arguments);if(void 0===f)return void(f=b);var g=e(b,f);return g===d?(f=d.$v,d):(g===c&&a.$raise(Q.ArgumentError,"comparison failed"),void(g>0&&(f=b)))}:function(){var a=Q.Opal.$destructure(arguments);return void 0===f?void(f=a):void(Q.Opal.$compare(a,f)>0&&(f=a))},a.$each(),void 0===f?c:f},P.$max_by=A=function(){var b,e=this,f=A._p,g=f||c;if(A._p=null,(b=g)===!1||b===c)return e.$enum_for("max_by");var h,i;return e.$each._p=function(){var b=Q.Opal.$destructure(arguments),c=a.$yield1(g,b);return void 0===h?(h=b,void(i=c)):c===d?(h=d.$v,d):void(c["$<=>"](i)>0&&(h=b,i=c))},e.$each(),void 0===h?c:h},a.defn(O,"$member?",P["$include?"]),P.$min=B=function(){var a=this,b=B._p,e=b||c;B._p=null;var f;return a.$each._p=e!==c?function(){var b=Q.Opal.$destructure(arguments);if(void 0===f)return void(f=b);var g=e(b,f);return g===d?(f=d.$v,d):(g===c&&a.$raise(Q.ArgumentError,"comparison failed"),void(0>g&&(f=b)))}:function(){var a=Q.Opal.$destructure(arguments);return void 0===f?void(f=a):void(Q.Opal.$compare(a,f)<0&&(f=a))},a.$each(),void 0===f?c:f},P.$min_by=C=function(){var b,e=this,f=C._p,g=f||c;if(C._p=null,(b=g)===!1||b===c)return e.$enum_for("min_by");var h,i;return e.$each._p=function(){var b=Q.Opal.$destructure(arguments),c=a.$yield1(g,b);return void 0===h?(h=b,void(i=c)):c===d?(h=d.$v,d):void(c["$<=>"](i)<0&&(h=b,i=c))},e.$each(),void 0===h?c:h},P.$minmax=D=function(){{var a=this;D._p}return D._p=null,a.$raise(Q.NotImplementedError)},P.$minmax_by=E=function(){{var a=this;E._p}return E._p=null,a.$raise(Q.NotImplementedError)},P["$none?"]=F=function(){var b,e=this,f=F._p,g=f||c;F._p=null;var h=!0;return e.$each._p=g!==c?function(){var e=a.$yieldX(g,arguments);return e===d?(h=d.$v,d):(b=e)!==!1&&b!==c?(h=!1,d):void 0}:function(){var a=Q.Opal.$destructure(arguments);return(b=a)!==!1&&b!==c?(h=!1,d):void 0},e.$each(),h},P["$one?"]=G=function(){var b,e=this,f=G._p,g=f||c;G._p=null;var h=!1;return e.$each._p=g!==c?function(){var e=a.$yieldX(g,arguments);if(e===d)return h=d.$v,d;if((b=e)!==!1&&b!==c){if(h===!0)return h=!1,d;h=!0}}:function(){var a=Q.Opal.$destructure(arguments);if((b=a)!==!1&&b!==c){if(h===!0)return h=!1,d;h=!0}},e.$each(),h},P.$partition=H=function(){{var a=this;H._p}return H._p=null,a.$raise(Q.NotImplementedError)},a.defn(O,"$reduce",P.$opalInject),P.$reverse_each=I=function(){{var a=this;I._p}return I._p=null,a.$raise(Q.NotImplementedError)},a.defn(O,"$select",P.$find_all),P.$slice_before=J=function(b){var d,e,f,g=this,h=J._p,i=h||c;return J._p=null,(d=void 0===b&&i===c||arguments.length>1)!=!1&&d!==c&&g.$raise(Q.ArgumentError,"wrong number of arguments ("+arguments.length+" for 1)"),(d=(e=Q.Enumerator).$new,d._p=(f=function(d){var e,g=f._s||this;null==d&&(d=c);var h=[];g.$each._p=i!==c?void 0===b?function(){var b=Q.Opal.$destructure(arguments),f=a.$yield1(i,b);(e=f)!==!1&&e!==c&&h.length>0&&(d["$<<"](h),h=[]),h.push(b)}:function(){var a=Q.Opal.$destructure(arguments),f=i(a,b.$dup());(e=f)!==!1&&e!==c&&h.length>0&&(d["$<<"](h),h=[]),h.push(a)}:function(){var a=Q.Opal.$destructure(arguments),f=b["$==="](a);(e=f)!==!1&&e!==c&&h.length>0&&(d["$<<"](h),h=[]),h.push(a)},g.$each(),h.length>0&&d["$<<"](h)},f._s=g,f),d).call(e)},P.$sort=K=function(){{var a=this;K._p}return K._p=null,a.$raise(Q.NotImplementedError)},P.$sort_by=L=function(){var a,b,d,e,f,g,h,i,j,k=this,l=L._p,m=l||c;return L._p=null,m===c?k.$enum_for("sort_by"):(a=(b=(e=(f=(h=(i=k).$map,h._p=(j=function(){j._s||this;return arg=Q.Opal.$destructure(arguments),[m.$call(arg),arg]},j._s=k,j),h).call(i)).$sort,e._p=(g=function(a,b){g._s||this;return null==a&&(a=c),null==b&&(b=c),a["$[]"](0)["$<=>"](b["$[]"](0))},g._s=k,g),e).call(f)).$map,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a[1]},d._s=k,d),a).call(b)},P.$take=function(a){var b=this;return b.$first(a)},P.$take_while=M=function(){var b,e=this,f=M._p,g=f||c;if(M._p=null,(b=g)===!1||b===c)return e.$enum_for("take_while");var h=[];return e.$each._p=function(){var e=Q.Opal.$destructure(arguments),f=a.$yield1(g,e);return f===d?(h=d.$v,d):(b=f)===!1||b===c?d:void h.push(e)},e.$each(),h},a.defn(O,"$to_a",P.$entries),P.$zip=N=function(a){{var b=this;N._p}return a=e.call(arguments,0),N._p=null,b.$raise(Q.NotImplementedError)},a.donate(O,["$all?","$any?","$chunk","$collect","$collect_concat","$count","$cycle","$detect","$drop","$drop_while","$each_cons","$each_entry","$each_slice","$each_with_index","$each_with_object","$entries","$find","$find_all","$find_index","$first","$flat_map","$grep","$group_by","$include?","$opalInject","$lazy","$enumerator_size","$map","$max","$max_by","$member?","$min","$min_by","$minmax","$minmax_by","$none?","$one?","$partition","$reduce","$reverse_each","$select","$slice_before","$sort","$sort_by","$take","$take_while","$to_a","$zip"])}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return function(b,g){function h(){}var i,j,k,l,m=h=f(b,g,"Enumerator",h),n=h._proto,o=h._scope;return n.size=n.object=n.method=n.args=c,m.$include(o.Enumerable),a.defs(m,"$for",i=function(a,b,d){var f=this,g=i._p,h=g||c;d=e.call(arguments,2),null==b&&(b="each"),i._p=null;var j=f.$allocate();return j.object=a,j.size=h,j.method=b,j.args=d,j}),n.$initialize=j=function(){var a,b,d=this,f=j._p,g=f||c;return j._p=null,g!==!1&&g!==c?(d.object=(a=(b=o.Generator).$new,a._p=g.$to_proc(),a).call(b),d.method="each",d.args=[],d.size=arguments[0]||c,(a=d.size)!==!1&&a!==c?d.size=o.Opal.$coerce_to(d.size,o.Integer,"to_int"):c):(d.object=arguments[0],d.method=arguments[1]||"each",d.args=e.call(arguments,2),d.size=c)},n.$each=k=function(){var a,b,d=this,e=k._p,f=e||c;return k._p=null,(a=f)===!1||a===c?d:(a=(b=d.object).$__send__,a._p=f.$to_proc(),a).apply(b,[d.method].concat(d.args))},n.$size=function(){var a,b=this;return(a=o.Proc["$==="](b.size))!==!1&&a!==c?(a=b.size).$call.apply(a,[].concat(b.args)):b.size},n.$with_index=l=function(a){var b,e=this,f=l._p,g=f||c;if(null==a&&(a=0),l._p=null,a=a!==!1&&a!==c?o.Opal.$coerce_to(a,o.Integer,"to_int"):0,(b=g)===!1||b===c)return e.$enum_for("with_index",a);var h;return e.$each._p=function(){var a=o.Opal.$destructure(arguments),b=g(a,index);return b===d?(h=d.$v,d):void index++},e.$each(),void 0!==h?h:void 0},a.defn(m,"$with_object",n.$each_with_object),n.$inspect=function(){var a,b=this,d=c;return d="#<"+b.$class().$name()+": "+b.object.$inspect()+":"+b.method,((a=b.args["$empty?"]())===!1||a===c)&&(d=d["$+"]("("+b.args.$inspect()["$[]"](o.Range.$new(1,-2))+")")),d["$+"](">")},function(b,g){function h(){}var i,j,k=h=f(b,g,"Generator",h),l=h._proto,m=h._scope;return l.block=c,k.$include(m.Enumerable),l.$initialize=i=function(){var a,b=this,d=i._p,e=d||c;return i._p=null,((a=e)===!1||a===c)&&b.$raise(m.LocalJumpError,"no block given"),b.block=e},l.$each=j=function(b){var f,g,h=this,i=j._p,k=i||c,l=c;b=e.call(arguments,0),j._p=null,l=(f=(g=m.Yielder).$new,f._p=k.$to_proc(),f).call(g);try{if(b.unshift(l),a.$yieldX(h.block,b)===d)return d.$v}catch(n){if(n===d)return d.$v;throw n}return h},c}(m,null),function(b,g){function h(){}{var i,j=(h=f(b,g,"Yielder",h),h._proto);h._scope}return j.block=c,j.$initialize=i=function(){var a=this,b=i._p,d=b||c;return i._p=null,a.block=d},j.$yield=function(b){var c=this;b=e.call(arguments,0);var f=a.$yieldX(c.block,b);if(f===d)throw d;return f},j["$<<"]=function(a){var b,c=this;return a=e.call(arguments,0),(b=c).$yield.apply(b,[].concat(a)),c},c}(m,null),function(b,g){function h(){}var i,j,k,l,m,n,o,p,q,r=h=f(b,g,"Lazy",h),s=h._proto,t=h._scope;return s.enumerator=c,function(a,b){function d(){}d=f(a,b,"StopLazyError",d),d._proto,d._scope;return c}(r,t.Exception),s.$initialize=i=function(b,f){var g,h=this,j=i._p,k=j||c;return null==f&&(f=c),i._p=null,k===c&&h.$raise(t.ArgumentError,"tried to call lazy new without a block"),h.enumerator=b,a.find_super_dispatcher(h,"initialize",i,(g=function(f,h){var i,j,l,m=g._s||this;null==f&&(f=c),h=e.call(arguments,1);try{return(i=(j=b).$each,i._p=(l=function(b){l._s||this;return b=e.call(arguments,0),b.unshift(f),a.$yieldX(k,b)===d?d:void 0},l._s=m,l),i).apply(j,[].concat(h))}catch(n){if(t.Exception["$==="](n))return c;throw n}},g._s=h,g)).apply(h,[f])},a.defn(r,"$force",s.$to_a),s.$lazy=function(){var a=this;return a},s.$collect=j=function(){var b,f,g,h=this,i=j._p,k=i||c;return j._p=null,((b=k)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy map without a block"),(b=(f=t.Lazy).$new,b._p=(g=function(b,f){g._s||this;null==b&&(b=c),f=e.call(arguments,1);var h=a.$yieldX(k,f);return h===d?d:void b.$yield(h)},g._s=h,g),b).call(f,h,h.$enumerator_size())},s.$collect_concat=k=function(){var b,f,g,h=this,i=k._p,j=i||c;return k._p=null,((b=j)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy map without a block"),(b=(f=t.Lazy).$new,b._p=(g=function(b,f){var h,i,k,l,m,n=g._s||this;null==b&&(b=c),f=e.call(arguments,1);var o=a.$yieldX(j,f);if(o===d)return d;if(o["$respond_to?"]("force")&&o["$respond_to?"]("each"))(h=(i=o).$each,h._p=(k=function(a){k._s||this;return null==a&&(a=c),b.$yield(a)},k._s=n,k),h).call(i);else{var p=t.Opal.$try_convert(o,t.Array,"to_ary");p===c?b.$yield(o):(h=(l=o).$each,h._p=(m=function(a){m._s||this;return null==a&&(a=c),b.$yield(a)},m._s=n,m),h).call(l)}},g._s=h,g),b).call(f,h,c)},s.$drop=function(a){var b,d,f,g=this,h=c,i=c,j=c;return a=t.Opal.$coerce_to(a,t.Integer,"to_int"),a["$<"](0)&&g.$raise(t.ArgumentError,"attempt to drop negative size"),h=g.$enumerator_size(),i=function(){return(b=t.Integer["$==="](h))!==!1&&b!==c?a["$<"](h)?a:h:h}(),j=0,(b=(d=t.Lazy).$new,b._p=(f=function(b,d){{var g;f._s||this}return null==b&&(b=c),d=e.call(arguments,1),j["$<"](a)?j=j["$+"](1):(g=b).$yield.apply(g,[].concat(d))},f._s=g,f),b).call(d,g,i)},s.$drop_while=l=function(){var b,f,g,h=this,i=l._p,j=i||c,k=c;return l._p=null,((b=j)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy drop_while without a block"),k=!0,(b=(f=t.Lazy).$new,b._p=(g=function(b,f){{var h,i;g._s||this}if(null==b&&(b=c),f=e.call(arguments,1),k===!1||k===c)return(i=b).$yield.apply(i,[].concat(f));var l=a.$yieldX(j,f);return l===d?d:void(((h=l)===!1||h===c)&&(k=!1,(h=b).$yield.apply(h,[].concat(f))))},g._s=h,g),b).call(f,h,c)},s.$enum_for=m=function(a,b){var d,f,g=this,h=m._p,i=h||c;return b=e.call(arguments,1),null==a&&(a="each"),m._p=null,(d=(f=g.$class()).$for,d._p=i.$to_proc(),d).apply(f,[g,a].concat(b))},s.$find_all=n=function(){var b,f,g,h=this,i=n._p,j=i||c;return n._p=null,((b=j)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy select without a block"),(b=(f=t.Lazy).$new,b._p=(g=function(b,f){{var h;g._s||this}null==b&&(b=c),f=e.call(arguments,1);var i=a.$yieldX(j,f);return i===d?d:void((h=i)!==!1&&h!==c&&(h=b).$yield.apply(h,[].concat(f)))},g._s=h,g),b).call(f,h,c)},a.defn(r,"$flat_map",s.$collect_concat),s.$grep=o=function(b){var f,g,h,i,j,k=this,l=o._p,m=l||c;return o._p=null,m!==!1&&m!==c?(f=(g=t.Lazy).$new,f._p=(h=function(f,g){{var i;h._s||this}null==f&&(f=c),g=e.call(arguments,1);var j=t.Opal.$destructure(g),k=b["$==="](j);if((i=k)!==!1&&i!==c){if(k=a.$yield1(m,j),k===d)return d;f.$yield(a.$yield1(m,j))}},h._s=k,h),f).call(g,k,c):(f=(i=t.Lazy).$new,f._p=(j=function(a,d){{var f;j._s||this}null==a&&(a=c),d=e.call(arguments,1);var g=t.Opal.$destructure(d),h=b["$==="](g);(f=h)!==!1&&f!==c&&a.$yield(g)},j._s=k,j),f).call(i,k,c)},a.defn(r,"$map",s.$collect),a.defn(r,"$select",s.$find_all),s.$reject=p=function(){var b,f,g,h=this,i=p._p,j=i||c;return p._p=null,((b=j)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy reject without a block"),(b=(f=t.Lazy).$new,b._p=(g=function(b,f){{var h;g._s||this}null==b&&(b=c),f=e.call(arguments,1);var i=a.$yieldX(j,f);return i===d?d:void(((h=i)===!1||h===c)&&(h=b).$yield.apply(h,[].concat(f)))},g._s=h,g),b).call(f,h,c)},s.$take=function(a){var b,d,f,g=this,h=c,i=c,j=c;return a=t.Opal.$coerce_to(a,t.Integer,"to_int"),a["$<"](0)&&g.$raise(t.ArgumentError,"attempt to take negative size"),h=g.$enumerator_size(),i=function(){return(b=t.Integer["$==="](h))!==!1&&b!==c?a["$<"](h)?a:h:h}(),j=0,(b=(d=t.Lazy).$new,b._p=(f=function(b,d){var g,h=f._s||this;return null==b&&(b=c),d=e.call(arguments,1),j["$<"](a)?((g=b).$yield.apply(g,[].concat(d)),j=j["$+"](1)):h.$raise(t.StopLazyError)},f._s=g,f),b).call(d,g,i)},s.$take_while=q=function(){var b,f,g,h=this,i=q._p,j=i||c;return q._p=null,((b=j)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy take_while without a block"),(b=(f=t.Lazy).$new,b._p=(g=function(b,f){var h,i=g._s||this;null==b&&(b=c),f=e.call(arguments,1);var k=a.$yieldX(j,f);return k===d?d:void((h=k)!==!1&&h!==c?(h=b).$yield.apply(h,[].concat(f)):i.$raise(t.StopLazyError))},g._s=h,g),b).call(f,h,c)},a.defn(r,"$to_enum",s.$enum_for),s.$inspect=function(){var a=this;return"#<"+a.$class().$name()+": "+a.enumerator.$inspect()+">"},c}(m,m)}(b,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=a.breaker,f=a.slice,g=a.klass,h=a.range;return function(b,c){function i(){}var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=i=g(b,c,"Array",i),F=i._proto,G=i._scope;return F.length=d,E.$include(G.Enumerable),F._isArray=!0,a.defs(E,"$inherited",function(a){var b=d;b=G.Class.$new(G.Array._scope.Wrapper),a._proto=b._proto,a._proto._klass=a,a._alloc=b._alloc,a.__parent=G.Array._scope.Wrapper,a.$allocate=b.$allocate,a.$new=b.$new,a["$[]"]=b["$[]"]}),a.defs(E,"$[]",function(a){return a=f.call(arguments,0)}),F.$initialize=function(a){var b,c=this;return a=f.call(arguments,0),(b=c.$class()).$new.apply(b,[].concat(a))},a.defs(E,"$new",j=function(a,b){var c,f=this,g=j._p,h=g||d;if(null==a&&(a=d),null==b&&(b=d),j._p=null,(c=arguments.length>2)!=!1&&c!==d&&f.$raise(G.ArgumentError,"wrong number of arguments ("+arguments.length+" for 0..2)"),(c=0===arguments.length)!=!1&&c!==d)return[];if((c=1===arguments.length)!=!1&&c!==d){if((c=G.Array["$==="](a))!==!1&&c!==d)return a.$to_a();if((c=a["$respond_to?"]("to_ary"))!==!1&&c!==d)return a.$to_ary()}a=G.Opal.$coerce_to(a,G.Integer,"to_int"),(c=0>a)!=!1&&c!==d&&f.$raise(G.ArgumentError,"negative array size");var i=[];if(h===d)for(var k=0;a>k;k++)i.push(b);else for(var l,k=0;a>k;k++){if(l=h(k),l===e)return e.$v;i[k]=l}return i}),a.defs(E,"$try_convert",function(a){var b;return(b=G.Array["$==="](a))!==!1&&b!==d?a:(b=a["$respond_to?"]("to_ary"))!==!1&&b!==d?a.$to_ary():d}),F["$&"]=function(a){var b,c=this;a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a();for(var e=[],f={},g=0,h=c.length;h>g;g++){var i=c[g];if(!f[i])for(var j=0,k=a.length;k>j;j++){var l=a[j];!f[l]&&i["$=="](l)&&(f[i]=!0,e.push(i))}}return e},F["$*"]=function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))!==!1&&b!==d)return c.join(a.$to_str());((b=a["$respond_to?"]("to_int"))===!1||b===d)&&c.$raise(G.TypeError,"no implicit conversion of "+a.$class()+" into Integer"),a=G.Opal.$coerce_to(a,G.Integer,"to_int"),(b=0>a)!=!1&&b!==d&&c.$raise(G.ArgumentError,"negative argument");for(var e=[],f=0;a>f;f++)e=e.concat(c);return e},F["$+"]=function(a){var b,c=this;return a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a(),c.concat(a)},F["$-"]=function(a){var b,c=this;if(a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a(),(b=0===c.length)!=!1&&b!==d)return[];if((b=0===a.length)!=!1&&b!==d)return c.$clone();for(var e={},f=[],g=0,h=a.length;h>g;g++)e[a[g]]=!0;for(var g=0,h=c.length;h>g;g++){var i=c[g];e[i]||f.push(i)}return f},F["$<<"]=function(a){var b=this;return b.push(a),b},F["$<=>"]=function(a){var b,c=this;if((b=G.Array["$==="](a))!==!1&&b!==d)a=a.$to_a();else{if((b=a["$respond_to?"]("to_ary"))===!1||b===d)return d;a=a.$to_ary().$to_a()}if(c.$hash()===a.$hash())return 0;if(c.length!=a.length)return c.length>a.length?1:-1;for(var e=0,f=c.length;f>e;e++){var g=c[e]["$<=>"](a[e]);if(0!==g)return g}return 0},F["$=="]=function(a){var b,c=this;if((b=c===a)!=!1&&b!==d)return!0;if((b=G.Array["$==="](a))===!1||b===d)return(b=a["$respond_to?"]("to_ary"))===!1||b===d?!1:a["$=="](c);if(a=a.$to_a(),(b=c.length===a.length)==!1||b===d)return!1;for(var e=0,f=c.length;f>e;e++){var g=c[e],h=a[e];if(!(g._isArray&&h._isArray&&g===c||g["$=="](h)))return!1}return!0},F["$[]"]=function(a,b){var c,e=this;if((c=G.Range["$==="](a))!==!1&&c!==d){var f=e.length,g=a.exclude,h=G.Opal.$coerce_to(a.begin,G.Integer,"to_int"),i=G.Opal.$coerce_to(a.end,G.Integer,"to_int");return 0>h&&(h+=f,0>h)?d:(G.Opal["$fits_fixnum!"](h),h>f?d:0>i&&(i+=f,0>i)?[]:(G.Opal["$fits_fixnum!"](i),g||(i+=1),e.slice(h,i)))}a=G.Opal.$coerce_to(a,G.Integer,"to_int");var f=e.length;return 0>a&&(a+=f,0>a)?d:(G.Opal["$fits_fixnum!"](a),void 0===b?a>=f||0>a?d:e[a]:(b=G.Opal.$coerce_to(b,G.Integer,"to_int"),G.Opal["$fits_fixnum!"](b),0>b||a>f||0>a?d:e.slice(a,a+b)))},F["$[]="]=function(a,b,c){var e,f=this,g=d,h=d;if((e=G.Range["$==="](a))!==!1&&e!==d){g=(e=G.Array["$==="](b))!==!1&&e!==d?b.$to_a():(e=b["$respond_to?"]("to_ary"))!==!1&&e!==d?b.$to_ary().$to_a():[b];var i=f.length,j=a.exclude,k=G.Opal.$coerce_to(a.begin,G.Integer,"to_int"),l=G.Opal.$coerce_to(a.end,G.Integer,"to_int");if(0>k&&(k+=i,0>k&&f.$raise(G.RangeError,""+a.$inspect()+" out of range")),G.Opal["$fits_fixnum!"](k),0>l&&(l+=i),G.Opal["$fits_fixnum!"](l),j||(l+=1),k>i)for(var m=i;a>m;m++)f[m]=d;return 0>l?f.splice.apply(f,[k,0].concat(g)):f.splice.apply(f,[k,l-k].concat(g)),b}(e=void 0===c)!=!1&&e!==d?h=1:(h=b,b=c,g=(e=G.Array["$==="](b))!==!1&&e!==d?b.$to_a():(e=b["$respond_to?"]("to_ary"))!==!1&&e!==d?b.$to_ary().$to_a():[b]);var n,i=f.length,a=G.Opal.$coerce_to(a,G.Integer,"to_int"),h=G.Opal.$coerce_to(h,G.Integer,"to_int");if(0>a&&(n=a,a+=i,0>a&&f.$raise(G.IndexError,"index "+n+" too small for array; minimum "+-f.length)),G.Opal["$fits_fixnum!"](a),0>h&&f.$raise(G.IndexError,"negative length ("+h+")"),G.Opal["$fits_fixnum!"](h),a>i)for(var m=i;a>m;m++)f[m]=d;return void 0===c?f[a]=b:f.splice.apply(f,[a,h].concat(g)),b},F.$assoc=function(a){for(var b,c=this,e=0,f=c.length;f>e;e++)if(b=c[e],b.length&&b[0]["$=="](a))return b;return d},F.$at=function(a){var b=this;return a=G.Opal.$coerce_to(a,G.Integer,"to_int"),0>a&&(a+=b.length),0>a||a>=b.length?d:b[a]},F.$cycle=k=function(b){var c,f,g=this,h=k._p,i=h||d;if(null==b&&(b=d),k._p=null,(c=(f=g["$empty?"]())!==!1&&f!==d?f:b["$=="](0))!==!1&&c!==d)return d;if((c=i)===!1||c===d)return g.$enum_for("cycle",b);if((c=b["$nil?"]())!==!1&&c!==d)for(;;)for(var j=0,l=g.length;l>j;j++){var m=a.$yield1(i,g[j]);if(m===e)return e.$v}else{if(b=G.Opal["$coerce_to!"](b,G.Integer,"to_int"),0>=b)return g;for(;b>0;){for(var j=0,l=g.length;l>j;j++){var m=a.$yield1(i,g[j]);if(m===e)return e.$v}b--}}return g},F.$clear=function(){var a=this;return a.splice(0,a.length),a},F.$clone=function(){var a=this,b=d;return b=[],b.$initialize_clone(a),b},F.$dup=function(){var a=this,b=d;return b=[],b.$initialize_dup(a),b},F.$initialize_copy=function(a){var b=this;return b.$replace(a)},F.$collect=l=function(){var a=this,b=l._p,c=b||d;if(l._p=null,c===d)return a.$enum_for("collect");for(var f=[],g=0,h=a.length;h>g;g++){var i=Opal.$yield1(c,a[g]);if(i===e)return e.$v;f.push(i)}return f},F["$collect!"]=m=function(){var a=this,b=m._p,c=b||d;if(m._p=null,c===d)return a.$enum_for("collect!");for(var f=0,g=a.length;g>f;f++){var h=Opal.$yield1(c,a[f]);if(h===e)return e.$v;a[f]=h}return a},F.$compact=function(){for(var a,b=this,c=[],e=0,f=b.length;f>e;e++)(a=b[e])!==d&&c.push(a);return c},F["$compact!"]=function(){for(var a=this,b=a.length,c=0,e=a.length;e>c;c++)a[c]===d&&(a.splice(c,1),e--,c--);return a.length===b?d:a},F.$concat=function(a){var b,c=this;a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a();for(var e=0,f=a.length;f>e;e++)c.push(a[e]);return c},F.$delete=function(a){for(var b=this,c=b.length,e=0,f=c;f>e;e++)b[e]["$=="](a)&&(b.splice(e,1),f--,e--);return b.length===c?d:a},F.$delete_at=function(a){var b=this;if(0>a&&(a+=b.length),0>a||a>=b.length)return d;var c=b[a];return b.splice(a,1),c},F.$delete_if=n=function(){var a=this,b=n._p,c=b||d;if(n._p=null,c===d)return a.$enum_for("delete_if");for(var f,g=0,h=a.length;h>g;g++){if((f=c(a[g]))===e)return e.$v;f!==!1&&f!==d&&(a.splice(g,1),h--,g--)}return a},F.$drop=function(a){var b=this;return 0>a&&b.$raise(G.ArgumentError),b.slice(a)},a.defn(E,"$dup",F.$clone),F.$each=o=function(){var b=this,c=o._p,f=c||d;if(o._p=null,f===d)return b.$enum_for("each");for(var g=0,h=b.length;h>g;g++){var i=a.$yield1(f,b[g]);if(i==e)return e.$v}return b},F.$each_index=p=function(){var b=this,c=p._p,f=c||d;if(p._p=null,f===d)return b.$enum_for("each_index");for(var g=0,h=b.length;h>g;g++){var i=a.$yield1(f,g);if(i===e)return e.$v}return b},F["$empty?"]=function(){var a=this;return 0===a.length},F["$eql?"]=function(a){var b,c=this;if((b=c===a)!=!1&&b!==d)return!0;if((b=G.Array["$==="](a))===!1||b===d)return!1;if(a=a.$to_a(),(b=c.length===a.length)==!1||b===d)return!1;for(var e=0,f=c.length;f>e;e++){var g=c[e],h=a[e];if(!(g._isArray&&h._isArray&&g===c||g["$eql?"](h)))return!1}return!0},F.$fetch=q=function(a,b){var c=this,e=q._p,f=e||d;q._p=null;var g=a;return 0>a&&(a+=c.length),a>=0&&a<c.length?c[a]:f!==d?f(g):null!=b?b:void(0===c.length?c.$raise(G.IndexError,"index "+g+" outside of array bounds: 0...0"):c.$raise(G.IndexError,"index "+g+" outside of array bounds: -"+c.length+"..."+c.length))},F.$fill=r=function(b){var c,g=this,h=r._p,i=h||d,j=d,k=d,l=d,m=d,n=d;if(b=f.call(arguments,0),r._p=null,i!==!1&&i!==d?((c=b.length>2)!=!1&&c!==d&&g.$raise(G.ArgumentError,"wrong number of arguments ("+b.$length()+" for 0..2)"),c=a.to_ary(b),j=null==c[0]?d:c[0],k=null==c[1]?d:c[1]):((c=0==b.length)!=!1&&c!==d?g.$raise(G.ArgumentError,"wrong number of arguments (0 for 1..3)"):(c=b.length>3)!=!1&&c!==d&&g.$raise(G.ArgumentError,"wrong number of arguments ("+b.$length()+" for 1..3)"),c=a.to_ary(b),l=null==c[0]?d:c[0],j=null==c[1]?d:c[1],k=null==c[2]?d:c[2]),(c=G.Range["$==="](j))!==!1&&c!==d){if(k!==!1&&k!==d&&g.$raise(G.TypeError,"length invalid with range"),m=G.Opal.$coerce_to(j.$begin(),G.Integer,"to_int"),(c=0>m)!=!1&&c!==d&&(m+=g.length),(c=0>m)!=!1&&c!==d&&g.$raise(G.RangeError,""+j.$inspect()+" out of range"),n=G.Opal.$coerce_to(j.$end(),G.Integer,"to_int"),(c=0>n)!=!1&&c!==d&&(n+=g.length),((c=j["$exclude_end?"]())===!1||c===d)&&(n+=1),(c=m>=n)!=!1&&c!==d)return g}else if(j!==!1&&j!==d)if(m=G.Opal.$coerce_to(j,G.Integer,"to_int"),(c=0>m)!=!1&&c!==d&&(m+=g.length),(c=0>m)!=!1&&c!==d&&(m=0),k!==!1&&k!==d){if(n=G.Opal.$coerce_to(k,G.Integer,"to_int"),(c=0==n)!=!1&&c!==d)return g;n+=m}else n=g.length;else m=0,n=g.length;if(G.Opal["$fits_fixnum!"](n),G.Opal["$fits_array!"](n),(c=m>g.length)!=!1&&c!==d)for(var o=g.length;n>o;o++)g[o]=d;if((c=n>g.length)!=!1&&c!==d&&(g.length=n),i!==!1&&i!==d){for(g.length;n>m;m++){var p=i(m);if(p===e)return e.$v;g[m]=p}}else{for(g.length;n>m;m++)g[m]=l}return g},F.$first=function(a){var b=this;return null!=a?(0>a&&b.$raise(G.ArgumentError),b.slice(0,a)):0===b.length?d:b[0]},F.$flatten=function(a){for(var b=this,c=[],d=0,e=b.length;e>d;d++){var f=b[d];f["$respond_to?"]("to_ary")?(f=f.$to_ary(),null==a?c.push.apply(c,f.$flatten().$to_a()):0==a?c.push(f):c.push.apply(c,f.$flatten(a-1).$to_a())):c.push(f)}return c},F["$flatten!"]=function(a){var b=this,c=b.$flatten(a);if(b.length==c.length){for(var e=0,f=b.length;f>e&&b[e]===c[e];e++);if(e==f)return d}return b.$replace(c),b},F.$hash=function(){var a=this;return a._id||(a._id=Opal.uid())},F["$include?"]=function(a){for(var b=this,c=0,d=b.length;d>c;c++)if(b[c]["$=="](a))return!0;return!1},F.$index=s=function(a){var b=this,c=s._p,f=c||d;if(s._p=null,null!=a){for(var g=0,h=b.length;h>g;g++)if(b[g]["$=="](a))return g}else{if(f===d)return b.$enum_for("index");for(var i,g=0,h=b.length;h>g;g++){if((i=f(b[g]))===e)return e.$v;if(i!==!1&&i!==d)return g}}return d},F.$insert=function(a,b){var c=this;if(b=f.call(arguments,1),b.length>0){if(0>a&&(a+=c.length+1,0>a&&c.$raise(G.IndexError,""+a+" is out of bounds")),a>c.length)for(var e=c.length;a>e;e++)c.push(d);c.splice.apply(c,[a,0].concat(b))}return c},F.$inspect=function(){var a,b,c,d,e,f,g=this;for(b=[],f=g.$object_id(),e=g.length,a=0;e>a;a++)c=g["$[]"](a),d=c.$object_id()===f?"[...]":c.$inspect(),b.push(d);return"["+b.join(", ")+"]"},F.$join=function(a){var b=this;null==a&&(a="");for(var c=[],d=0,e=b.length;e>d;d++)c.push(b[d].$to_s());return c.join(a)},F.$keep_if=t=function(){var a=this,b=t._p,c=b||d;if(t._p=null,c===d)return a.$enum_for("keep_if");for(var f,g=0,h=a.length;h>g;g++){if((f=c(a[g]))===e)return e.$v;(f===!1||f===d)&&(a.splice(g,1),h--,g--)}return a},F.$last=function(a){var b=this,c=b.length;return(a===d||"string"==typeof a)&&b.$raise(G.TypeError,"no implicit conversion to integer"),"object"==typeof a&&(a["$respond_to?"]("to_int")?a=a.$to_int():b.$raise(G.TypeError,"no implicit conversion to integer")),null==a?0===c?d:b[c-1]:(0>a&&b.$raise(G.ArgumentError,"negative count given"),a>c&&(a=c),b.slice(c-a,c))
},F.$length=function(){var a=this;return a.length},a.defn(E,"$map",F.$collect),a.defn(E,"$map!",F["$collect!"]),F.$pop=function(a){var b=this,c=b.length;return null==a?0===c?d:b.pop():(0>a&&b.$raise(G.ArgumentError,"negative count given"),a>c?b.splice(0,b.length):b.splice(c-a,c))},F.$push=function(a){var b=this;a=f.call(arguments,0);for(var c=0,d=a.length;d>c;c++)b.push(a[c]);return b},F.$rassoc=function(a){for(var b,c=this,e=0,f=c.length;f>e;e++)if(b=c[e],b.length&&void 0!==b[1]&&b[1]["$=="](a))return b;return d},F.$reject=u=function(){var a=this,b=u._p,c=b||d;if(u._p=null,c===d)return a.$enum_for("reject");for(var f,g=[],h=0,i=a.length;i>h;h++){if((f=c(a[h]))===e)return e.$v;(f===!1||f===d)&&g.push(a[h])}return g},F["$reject!"]=v=function(){var a,b,c=this,e=v._p,f=e||d;if(v._p=null,f===d)return c.$enum_for("reject!");var g=c.length;return(a=(b=c).$delete_if,a._p=f.$to_proc(),a).call(b),c.length===g?d:c},F.$replace=function(a){var b,c=this;return a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a(),c.splice(0,c.length),c.push.apply(c,a),c},F.$reverse=function(){var a=this;return a.slice(0).reverse()},F["$reverse!"]=function(){var a=this;return a.reverse()},F.$reverse_each=w=function(){var a,b,c=this,e=w._p,f=e||d;return w._p=null,f===d?c.$enum_for("reverse_each"):((a=(b=c.$reverse()).$each,a._p=f.$to_proc(),a).call(b),c)},F.$rindex=x=function(a){var b=this,c=x._p,f=c||d;if(x._p=null,null!=a){for(var g=b.length-1;g>=0;g--)if(b[g]["$=="](a))return g}else if(f!==d)for(var h,g=b.length-1;g>=0;g--){if((h=f(b[g]))===e)return e.$v;if(h!==!1&&h!==d)return g}else if(null==a)return b.$enum_for("rindex");return d},F.$sample=function(a){var b,c,e,f,g=this;return null==a&&(a=d),e=a,c=e===d||e===!1,(b=c!==!1&&c!==d?g["$empty?"]():c)!==!1&&b!==d?d:(b=(c=a!==!1&&a!==d)?g["$empty?"]():c)!==!1&&b!==d?[]:a!==!1&&a!==d?(b=(c=h(1,a,!1)).$map,b._p=(f=function(){var a=f._s||this;return a["$[]"](a.$rand(a.$length()))},f._s=g,f),b).call(c):g["$[]"](g.$rand(g.$length()))},F.$select=y=function(){var b=this,c=y._p,f=c||d;if(y._p=null,f===d)return b.$enum_for("select");for(var g,h,i=[],j=0,k=b.length;k>j;j++){if(g=b[j],(h=a.$yield1(f,g))===e)return e.$v;h!==!1&&h!==d&&i.push(g)}return i},F["$select!"]=z=function(){var a,b,c=this,e=z._p,f=e||d;if(z._p=null,f===d)return c.$enum_for("select!");var g=c.length;return(a=(b=c).$keep_if,a._p=f.$to_proc(),a).call(b),c.length===g?d:c},F.$shift=function(a){var b=this;return 0===b.length?d:null==a?b.shift():b.splice(0,a)},a.defn(E,"$size",F.$length),F.$shuffle=function(){var a=this;return a.$clone()["$shuffle!"]()},F["$shuffle!"]=function(){for(var a=this,b=a.length-1;b>0;b--){var c=a[b],d=Math.floor(Math.random()*(b+1));a[b]=a[d],a[d]=c}return a},a.defn(E,"$slice",F["$[]"]),F["$slice!"]=function(a,b){var c=this;return 0>a&&(a+=c.length),null!=b?c.splice(a,b):0>a||a>=c.length?d:c.splice(a,1)[0]},F.$sort=A=function(){var a,b=this,c=A._p,f=c||d;if(A._p=null,(a=b.length>1)==!1||a===d)return b;f===d&&(f=function(a,b){return a["$<=>"](b)});try{return b.slice().sort(function(a,c){var g=f(a,c);if(g===e)throw e;return g===d&&b.$raise(G.ArgumentError,"comparison of "+a.$inspect()+" with "+c.$inspect()+" failed"),g["$>"](0)?1:g["$<"](0)?-1:0})}catch(g){if(g===e)return e.$v;throw g}},F["$sort!"]=B=function(){var a,b,c=this,e=B._p,f=e||d;B._p=null;var g;g=f!==d?(a=(b=c.slice()).$sort,a._p=f.$to_proc(),a).call(b):c.slice().$sort(),c.length=0;for(var h=0,i=g.length;i>h;h++)c.push(g[h]);return c},F.$take=function(a){var b=this;return 0>a&&b.$raise(G.ArgumentError),b.slice(0,a)},F.$take_while=C=function(){var a=this,b=C._p,c=b||d;C._p=null;for(var f,g,h=[],i=0,j=a.length;j>i;i++){if(f=a[i],(g=c(f))===e)return e.$v;if(g===!1||g===d)return h;h.push(f)}return h},F.$to_a=function(){var a=this;return a},a.defn(E,"$to_ary",F.$to_a),a.defn(E,"$to_s",F.$inspect),F.$transpose=function(){var a,b,c,e=this,f=d,g=d;return(a=e["$empty?"]())!==!1&&a!==d?[]:(f=[],g=d,(a=(b=e).$each,a._p=(c=function(a){var b,e,h,i=c._s||this;return null==a&&(a=d),a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a(),(b=g)!==!1&&b!==d?b:g=a.length,e=a.length["$=="](g),(b=e===d||e===!1)!=!1&&b!==d&&i.$raise(G.IndexError,"element size differs ("+a.length+" should be "+g),(b=(e=a.length).$times,b._p=(h=function(b){var c,e,g,i=(h._s||this,d);return null==b&&(b=d),c=b,e=f,i=(g=e["$[]"](c))!==!1&&g!==d?g:e["$[]="](c,[]),i["$<<"](a.$at(b))},h._s=i,h),b).call(e)},c._s=e,c),a).call(b),f)},F.$uniq=function(){for(var a,b,c=this,d=[],e={},f=0,g=c.length;g>f;f++)a=c[f],b=a,e[b]||(e[b]=!0,d.push(a));return d},F["$uniq!"]=function(){for(var a,b,c=this,e=c.length,f={},g=0,h=e;h>g;g++)a=c[g],b=a,f[b]?(c.splice(g,1),h--,g--):f[b]=!0;return c.length===e?d:c},F.$unshift=function(a){var b=this;a=f.call(arguments,0);for(var c=a.length-1;c>=0;c--)b.unshift(a[c]);return b},F.$zip=D=function(a){var b=this,c=D._p,e=c||d;a=f.call(arguments,0),D._p=null;for(var g,h,i=[],j=b.length,k=0;j>k;k++){g=[b[k]];for(var l=0,m=a.length;m>l;l++)h=a[l][k],null==h&&(h=d),g[l+1]=h;i[k]=g}if(e!==d){for(var k=0;j>k;k++)e(i[k]);return d}return i},d}(b,null),function(b,c){function e(){}var h,i,j,k,l,m=e=g(b,c,"Wrapper",e),n=e._proto,o=e._scope;return n.literal=d,a.defs(m,"$allocate",h=function(b){var c=this,f=(h._p,d);return null==b&&(b=[]),h._p=null,f=a.find_super_dispatcher(c,"allocate",h,null,e).apply(c,[]),f.literal=b,f}),a.defs(m,"$new",i=function(a){var b,c,e=this,g=i._p,h=g||d,j=d;return a=f.call(arguments,0),i._p=null,j=e.$allocate(),(b=(c=j).$initialize,b._p=h.$to_proc(),b).apply(c,[].concat(a)),j}),a.defs(m,"$[]",function(a){var b=this;return a=f.call(arguments,0),b.$allocate(a)}),n.$initialize=j=function(a){var b,c,e=this,g=j._p,h=g||d;return a=f.call(arguments,0),j._p=null,e.literal=(b=(c=o.Array).$new,b._p=h.$to_proc(),b).apply(c,[].concat(a))},n.$method_missing=k=function(a){var b,c,e=this,g=k._p,h=g||d,i=d;return a=f.call(arguments,0),k._p=null,i=(b=(c=e.literal).$__send__,b._p=h.$to_proc(),b).apply(c,[].concat(a)),(b=i===e.literal)!=!1&&b!==d?e:i},n.$initialize_copy=function(a){var b=this;return b.literal=a.literal.$clone()},n["$respond_to?"]=l=function(b){var c,e=f.call(arguments,0),g=this,h=l._p;return l._p=null,(c=a.find_super_dispatcher(g,"respond_to?",l,h).apply(g,e))!==!1&&c!==d?c:g.literal["$respond_to?"](b)},n["$=="]=function(a){var b=this;return b.literal["$=="](a)},n["$eql?"]=function(a){var b=this;return b.literal["$eql?"](a)},n.$to_a=function(){var a=this;return a.literal},n.$to_ary=function(){var a=this;return a},n.$inspect=function(){var a=this;return a.literal.$inspect()},n["$*"]=function(a){var b=this,c=b.literal["$*"](a);return c._isArray?b.$class().$allocate(c):c},n["$[]"]=function(a,b){var c=this,d=c.literal.$slice(a,b);return d._isArray&&(a._isRange||void 0!==b)?c.$class().$allocate(d):d},a.defn(m,"$slice",n["$[]"]),n.$uniq=function(){var a=this;return a.$class().$allocate(a.literal.$uniq())},n.$flatten=function(a){var b=this;return b.$class().$allocate(b.literal.$flatten(a))},d}(c.Array,null)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return function(b,g){function h(){}var i,j,k,l,m,n,o,p,q,r,s,t,u=h=f(b,g,"Hash",h),v=h._proto,w=h._scope;v.proc=v.none=c,u.$include(w.Enumerable);var x={}.hasOwnProperty;return a.defs(u,"$[]",function(b){return b=e.call(arguments,0),a.hash.apply(null,b)}),a.defs(u,"$allocate",function(){var a=this,b=new a._alloc;return b.map={},b.keys=[],b}),v.$initialize=i=function(a){var b=this,d=i._p,e=d||c;return i._p=null,null!=a?b.none=a:e!==c&&(b.proc=e),b},v["$=="]=function(a){var b,d=this;if(d===a)return!0;if(!a.map||!a.keys)return!1;if(d.keys.length!==a.keys.length)return!1;for(var e=d.map,f=a.map,g=0,h=d.keys.length;h>g;g++){var i=d.keys[g],j=e[i],k=f[i];if(b=j["$=="](k),b===c||b===!1)return!1}return!0},v["$[]"]=function(a){var b=this,d=b.map;if(x.call(d,a))return d[a];var e=b.proc;return e!==c?e.$call(b,a):b.none},v["$[]="]=function(a,b){var c=this,d=c.map;return x.call(d,a)||c.keys.push(a),d[a]=b,b},v.$assoc=function(a){for(var b,d=this,e=d.keys,f=0,g=e.length;g>f;f++)if(b=e[f],b["$=="](a))return[b,d.map[b]];return c},v.$clear=function(){var a=this;return a.map={},a.keys=[],a},v.$clone=function(){for(var a=this,b={},c=[],d=0,e=a.keys.length;e>d;d++){var f=a.keys[d],g=a.map[f];c.push(f),b[f]=g}var h=new a._klass._alloc;return h.map=b,h.keys=c,h.none=a.none,h.proc=a.proc,h},v.$default=function(){var a=this;return a.none},v["$default="]=function(a){var b=this;return b.none=a},v.$default_proc=function(){var a=this;return a.proc},v["$default_proc="]=function(a){var b=this;return b.proc=a},v.$delete=function(a){var b=this,d=b.map,e=d[a];return null!=e?(delete d[a],b.keys.$delete(a),e):c},v.$delete_if=j=function(){var a,b=this,e=j._p,f=e||c;if(j._p=null,(a=f)===!1||a===c)return b.$enum_for("delete_if");for(var g,h=b.map,i=b.keys,k=0,l=i.length;l>k;k++){var m=i[k],n=h[m];if((g=f(m,n))===d)return d.$v;g!==!1&&g!==c&&(i.splice(k,1),delete h[m],l--,k--)}return b},a.defn(u,"$dup",v.$clone),v.$each=k=function(){var b,e=this,f=k._p,g=f||c;if(k._p=null,(b=g)===!1||b===c)return e.$enum_for("each");for(var h=e.map,i=e.keys,j=0,l=i.length;l>j;j++){var m=i[j],n=a.$yield1(g,[m,h[m]]);if(n===d)return d.$v}return e},v.$each_key=l=function(){var a,b=this,e=l._p,f=e||c;if(l._p=null,(a=f)===!1||a===c)return b.$enum_for("each_key");for(var g=b.keys,h=0,i=g.length;i>h;h++){var j=g[h];if(f(j)===d)return d.$v}return b},a.defn(u,"$each_pair",v.$each),v.$each_value=m=function(){var a,b=this,e=m._p,f=e||c;if(m._p=null,(a=f)===!1||a===c)return b.$enum_for("each_value");for(var g=b.map,h=b.keys,i=0,j=h.length;j>i;i++)if(f(g[h[i]])===d)return d.$v;return b},v["$empty?"]=function(){var a=this;return 0===a.keys.length},a.defn(u,"$eql?",v["$=="]),v.$fetch=n=function(a,b){var e=this,f=n._p,g=f||c;n._p=null;var h=e.map[a];if(null!=h)return h;if(g!==c){var h;return(h=g(a))===d?d.$v:h}return null!=b?b:void e.$raise(w.KeyError,"key not found")},v.$flatten=function(a){for(var b=this,c=b.map,d=b.keys,e=[],f=0,g=d.length;g>f;f++){var h=d[f],i=c[h];e.push(h),i._isArray?null==a||1===a?e.push(i):e=e.concat(i.$flatten(a-1)):e.push(i)}return e},v["$has_key?"]=function(a){var b=this;return x.call(b.map,a)},v["$has_value?"]=function(a){var b=this;for(var c in b.map)if(b.map[c]["$=="](a))return!0;return!1},v.$hash=function(){var a=this;return a._id},a.defn(u,"$include?",v["$has_key?"]),v.$index=function(a){for(var b=this,d=b.map,e=b.keys,f=0,g=e.length;g>f;f++){var h=e[f];if(d[h]["$=="](a))return h}return c},v.$indexes=function(a){var b=this;a=e.call(arguments,0);for(var c,d=[],f=b.map,g=0,h=a.length;h>g;g++){var i=a[g],c=f[i];d.push(null!=c?c:b.none)}return d},a.defn(u,"$indices",v.$indexes),v.$inspect=function(){for(var a=this,b=[],c=a.keys,d=a.map,e=0,f=c.length;f>e;e++){var g=c[e],h=d[g];b.push(h===a?g.$inspect()+"=>{...}":g.$inspect()+"=>"+d[g].$inspect())}return"{"+b.join(", ")+"}"},v.$invert=function(){for(var b=this,c=a.hash(),d=b.keys,e=b.map,f=c.keys,g=c.map,h=0,i=d.length;i>h;h++){var j=d[h],k=e[j];f.push(k),g[k]=j}return c},v.$keep_if=o=function(){var a,b=this,e=o._p,f=e||c;if(o._p=null,(a=f)===!1||a===c)return b.$enum_for("keep_if");for(var g,h=b.map,i=b.keys,j=0,k=i.length;k>j;j++){var l=i[j],m=h[l];if((g=f(l,m))===d)return d.$v;(g===!1||g===c)&&(i.splice(j,1),delete h[l],k--,j--)}return b},a.defn(u,"$key",v.$index),a.defn(u,"$key?",v["$has_key?"]),v.$keys=function(){var a=this;return a.keys.slice(0)},v.$length=function(){var a=this;return a.keys.length},a.defn(u,"$member?",v["$has_key?"]),v.$merge=p=function(b){var d=this,e=p._p,f=e||c;p._p=null;for(var g=d.keys,h=d.map,i=a.hash(),j=i.keys,k=i.map,l=0,m=g.length;m>l;l++){var n=g[l];j.push(n),k[n]=h[n]}var g=b.keys,h=b.map;if(f===c)for(var l=0,m=g.length;m>l;l++){var n=g[l];null==k[n]&&j.push(n),k[n]=h[n]}else for(var l=0,m=g.length;m>l;l++){var n=g[l];null==k[n]?(j.push(n),k[n]=h[n]):k[n]=f(n,k[n],h[n])}return i},v["$merge!"]=q=function(a){var b=this,d=q._p,e=d||c;q._p=null;var f=b.keys,g=b.map,h=a.keys,i=a.map;if(e===c)for(var j=0,k=h.length;k>j;j++){var l=h[j];null==g[l]&&f.push(l),g[l]=i[l]}else for(var j=0,k=h.length;k>j;j++){var l=h[j];null==g[l]?(f.push(l),g[l]=i[l]):g[l]=e(l,g[l],i[l])}return b},v.$rassoc=function(a){for(var b=this,d=b.keys,e=b.map,f=0,g=d.length;g>f;f++){var h=d[f],i=e[h];if(i["$=="](a))return[h,i]}return c},v.$reject=r=function(){var b,e=this,f=r._p,g=f||c;if(r._p=null,(b=g)===!1||b===c)return e.$enum_for("reject");for(var h=e.keys,i=e.map,j=a.hash(),k=j.map,l=j.keys,m=0,n=h.length;n>m;m++){var o,p=h[m],q=i[p];if((o=g(p,q))===d)return d.$v;(o===!1||o===c)&&(l.push(p),k[p]=q)}return j},v.$replace=function(a){for(var b=this,c=b.map={},d=b.keys=[],e=0,f=a.keys.length;f>e;e++){var g=a.keys[e];d.push(g),c[g]=a.map[g]}return b},v.$select=s=function(){var b,e=this,f=s._p,g=f||c;if(s._p=null,(b=g)===!1||b===c)return e.$enum_for("select");for(var h=e.keys,i=e.map,j=a.hash(),k=j.map,l=j.keys,m=0,n=h.length;n>m;m++){var o,p=h[m],q=i[p];if((o=g(p,q))===d)return d.$v;o!==!1&&o!==c&&(l.push(p),k[p]=q)}return j},v["$select!"]=t=function(){var a,b=this,e=t._p,f=e||c;if(t._p=null,(a=f)===!1||a===c)return b.$enum_for("select!");for(var g,h=b.map,i=b.keys,j=c,k=0,l=i.length;l>k;k++){var m=i[k],n=h[m];if((g=f(m,n))===d)return d.$v;(g===!1||g===c)&&(i.splice(k,1),delete h[m],l--,k--,j=b)}return j},v.$shift=function(){var a=this,b=a.keys,d=a.map;if(b.length){var e=b[0],f=d[e];return delete d[e],b.splice(0,1),[e,f]}return c},a.defn(u,"$size",v.$length),u.$alias_method("store","[]="),v.$to_a=function(){for(var a=this,b=a.keys,c=a.map,d=[],e=0,f=b.length;f>e;e++){var g=b[e];d.push([g,c[g]])}return d},v.$to_h=function(){var a=this,b=new Opal.Hash._alloc,c=a.$clone();return b.map=c.map,b.keys=c.keys,b.none=c.none,b.proc=c.proc,b},v.$to_hash=function(){var a=this;return a},a.defn(u,"$to_s",v.$inspect),a.defn(u,"$update",v["$merge!"]),a.defn(u,"$value?",v["$has_value?"]),a.defn(u,"$values_at",v.$indexes),v.$values=function(){var a=this,b=a.map,c=[];for(var d in b)c.push(b[d]);return c},c}(b,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=a.breaker,f=a.slice,g=a.klass,h=a.gvars;return function(b,c){function i(){}var j,k,l,m,n,o,p=i=g(b,c,"String",i),q=i._proto,r=i._scope;return q.length=d,p.$include(r.Comparable),q._isString=!0,a.defs(p,"$try_convert",function(a){try{return a.$to_str()}catch(b){return d}}),a.defs(p,"$new",function(a){return null==a&&(a=""),new String(a)}),q["$%"]=function(a){var b,c=this;return(b=r.Array["$==="](a))!==!1&&b!==d?(b=c).$format.apply(b,[c].concat(a)):c.$format(c,a)},q["$*"]=function(a){var b=this;if(1>a)return"";for(var c="",d=b;a>0;)1&a&&(c+=d),a>>=1,d+=d;return c},q["$+"]=function(a){var b=this;return a=r.Opal.$coerce_to(a,r.String,"to_str"),b+a.$to_s()},q["$<=>"]=function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))!==!1&&b!==d)return a=a.$to_str().$to_s(),c>a?1:a>c?-1:0;var e=a["$<=>"](c);return e===d?d:e>0?-1:0>e?1:0},q["$=="]=function(a){var b=this;return!(!a._isString||b.valueOf()!==a.valueOf())},a.defn(p,"$===",q["$=="]),q["$=~"]=function(a){var b=this;return a._isString&&b.$raise(r.TypeError,"type mismatch: String given"),a["$=~"](b)},q["$[]"]=function(a,b){var c=this,e=c.length;if(a._isRange){var f=a.exclude,b=a.end,a=a.begin;return 0>a&&(a+=e),0>b&&(b+=e),f||(b+=1),a>e?d:(b-=a,0>b&&(b=0),c.substr(a,b))}return 0>a&&(a+=c.length),null==b?a>=c.length||0>a?d:c.substr(a,1):a>c.length||0>a?d:c.substr(a,b)},q.$capitalize=function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},q.$casecmp=function(a){var b=this;return a=r.Opal.$coerce_to(a,r.String,"to_str").$to_s(),b.toLowerCase()["$<=>"](a.toLowerCase())},q.$center=function(a,b){var c,e=this;if(null==b&&(b=" "),a=r.Opal.$coerce_to(a,r.Integer,"to_int"),b=r.Opal.$coerce_to(b,r.String,"to_str").$to_s(),(c=b["$empty?"]())!==!1&&c!==d&&e.$raise(r.ArgumentError,"zero width padding"),(c=a<=e.length)!=!1&&c!==d)return e;var f=e.$ljust(a["$+"](e.length)["$/"](2).$ceil(),b),g=e.$rjust(a["$+"](e.length)["$/"](2).$floor(),b);return g+f.slice(e.length)},q.$chars=function(){var a=this;return a.$each_char().$to_a()},q.$chomp=function(a){var b,c=this;if(null==a&&(a=h["/"]),(b=a===d||0===c.length)!=!1&&b!==d)return c;if(a=r.Opal["$coerce_to!"](a,r.String,"to_str").$to_s(),"\n"===a)return c.replace(/\r?\n?$/,"");if(""===a)return c.replace(/(\r?\n)+$/,"");if(c.length>a.length){var e=c.substr(-1*a.length);if(e===a)return c.substr(0,c.length-a.length)}return c},q.$chop=function(){var a=this,b=a.length;return 1>=b?"":"\n"===a.charAt(b-1)&&"\r"===a.charAt(b-2)?a.substr(0,b-2):a.substr(0,b-1)},q.$chr=function(){var a=this;return a.charAt(0)},q.$clone=function(){var a=this;return a.slice()},q.$count=function(a){var b=this;return(b.length-b.replace(new RegExp(a,"g"),"").length)/a.length},a.defn(p,"$dup",q.$clone),q.$downcase=function(){var a=this;return a.toLowerCase()},q.$each_char=j=function(){var b,c=this,f=j._p,g=f||d;if(j._p=null,g===d)return c.$enum_for("each_char");for(var h=0,i=c.length;i>h;h++)(b=a.$yield1(g,c.charAt(h)))===e?e.$v:b;return c},q.$each_line=k=function(b){var c,f=this,g=k._p,i=g||d;if(null==b&&(b=h["/"]),k._p=null,i===d)return f.$split(b);for(var j=f.$chomp(),l=f.length!=j.length,m=j.split(b),n=0,o=m.length;o>n;n++)o-1>n||l?(c=a.$yield1(i,m[n]+b))===e?e.$v:c:(c=a.$yield1(i,m[n]))===e?e.$v:c;return f},q["$empty?"]=function(){var a=this;return 0===a.length},q["$end_with?"]=function(a){var b=this;a=f.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=r.Opal.$coerce_to(a[c],r.String,"to_str");if(b.length>=e.length&&b.substr(0-e.length)===e)return!0}return!1},a.defn(p,"$eql?",q["$=="]),a.defn(p,"$equal?",q["$==="]),q.$gsub=l=function(a,b){var c,e,f=this,g=l._p,h=g||d;l._p=null,(c=(e=r.String["$==="](a))!==!1&&e!==d?e:a["$respond_to?"]("to_str"))!==!1&&c!==d&&(a=new RegExp(""+r.Regexp.$escape(a.$to_str()))),((c=r.Regexp["$==="](a))===!1||c===d)&&f.$raise(r.TypeError,"wrong argument type "+a.$class()+" (expected Regexp)");var a=a.toString(),i=a.substr(a.lastIndexOf("/")+1)+"g",j=a.substr(1,a.lastIndexOf("/")-1);return f.$sub._p=h,f.$sub(new RegExp(j,i),b)},q.$hash=function(){var a=this;return a.toString()},q.$hex=function(){var a=this;return a.$to_i(16)},q["$include?"]=function(a){var b,c=this;return a._isString?-1!==c.indexOf(a):(((b=a["$respond_to?"]("to_str"))===!1||b===d)&&c.$raise(r.TypeError,"no implicit conversion of "+a.$class().$name()+" into String"),-1!==c.indexOf(a.$to_str()))},q.$index=function(a,b){var c,e,f=this,g=d;if(null==b&&(b=d),(c=r.String["$==="](a))!==!1&&c!==d?a=a.$to_s():(c=a["$respond_to?"]("to_str"))!==!1&&c!==d?a=a.$to_str().$to_s():(e=r.Regexp["$==="](a),(c=e===d||e===!1)!=!1&&c!==d&&f.$raise(r.TypeError,"type mismatch: "+a.$class()+" given")),g=-1,b!==!1&&b!==d){b=r.Opal.$coerce_to(b,r.Integer,"to_int");var h=f.length;if(0>b&&(b+=h),b>h)return d;g=(c=r.Regexp["$==="](a))!==!1&&c!==d?(c=a["$=~"](f.substr(b)))!==!1&&c!==d?c:-1:f.substr(b).indexOf(a),-1!==g&&(g+=b)}else g=(c=r.Regexp["$==="](a))!==!1&&c!==d?(c=a["$=~"](f))!==!1&&c!==d?c:-1:f.indexOf(a);return(c=-1===g)!=!1&&c!==d?d:g},q.$inspect=function(){var a=this,b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return b.lastIndex=0,b.test(a)?'"'+a.replace(b,function(a){var b=c[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'},q.$intern=function(){var a=this;return a},q.$lines=function(a){var b=this;return null==a&&(a=h["/"]),b.$each_line(a).$to_a()},q.$length=function(){var a=this;return a.length},q.$ljust=function(a,b){var c,e=this;if(null==b&&(b=" "),a=r.Opal.$coerce_to(a,r.Integer,"to_int"),b=r.Opal.$coerce_to(b,r.String,"to_str").$to_s(),(c=b["$empty?"]())!==!1&&c!==d&&e.$raise(r.ArgumentError,"zero width padding"),(c=a<=e.length)!=!1&&c!==d)return e;var f=-1,g="";for(a-=e.length;++f<a;)g+=b;return e+g.slice(0,a)},q.$lstrip=function(){var a=this;return a.replace(/^\s*/,"")},q.$match=m=function(a,b){var c,e,f=this,g=m._p,h=g||d;return m._p=null,(c=(e=r.String["$==="](a))!==!1&&e!==d?e:a["$respond_to?"]("to_str"))!==!1&&c!==d&&(a=new RegExp(""+r.Regexp.$escape(a.$to_str()))),((c=r.Regexp["$==="](a))===!1||c===d)&&f.$raise(r.TypeError,"wrong argument type "+a.$class()+" (expected Regexp)"),(c=(e=a).$match,c._p=h.$to_proc(),c).call(e,f,b)},q.$next=function(){var a=this;if(0===a.length)return"";var b=a.substr(0,a.length-1),c=String.fromCharCode(a.charCodeAt(a.length-1)+1);return b+c},q.$ord=function(){var a=this;return a.charCodeAt(0)},q.$partition=function(a){var b=this,c=b.split(a),d=c[0].length===b.length?"":a;return[c[0],d,c.slice(1).join(a.toString())]},q.$reverse=function(){var a=this;return a.split("").reverse().join("")},q.$rindex=function(a,b){var c=this,e=null==a?Opal.NilClass:a.constructor;if(e!=String&&e!=RegExp){var f="type mismatch: "+e+" given";c.$raise(r.TypeError.$new(f))}if(0==c.length)return 0==a.length?0:d;var g=-1;return null!=b?(0>b&&(b=c.length+b),e==String?g=c.lastIndexOf(a,b):(g=c.substr(0,b+1).$reverse().search(a),-1!==g&&(g=b-g))):e==String?g=c.lastIndexOf(a):(g=c.$reverse().search(a),-1!==g&&(g=c.length-1-g)),-1===g?d:g},q.$rjust=function(a,b){var c,e=this;if(null==b&&(b=" "),a=r.Opal.$coerce_to(a,r.Integer,"to_int"),b=r.Opal.$coerce_to(b,r.String,"to_str").$to_s(),(c=b["$empty?"]())!==!1&&c!==d&&e.$raise(r.ArgumentError,"zero width padding"),(c=a<=e.length)!=!1&&c!==d)return e;var f=Math.floor(a-e.length),g=Math.floor(f/b.length),h=Array(g+1).join(b),i=f-h.length;return h+b.slice(0,i)+e},q.$rstrip=function(){var a=this;return a.replace(/\s*$/,"")},q.$scan=n=function(a){var b=this,c=n._p,e=c||d;n._p=null,a.global?a.lastIndex=0:a=new RegExp(a.source,"g"+(a.multiline?"m":"")+(a.ignoreCase?"i":""));for(var f,g=[];null!=(f=a.exec(b));){{r.MatchData.$new(a,f)}e===d?g.push(1==f.length?f[0]:f.slice(1)):1==f.length?e(f[0]):e.apply(b,f.slice(1))}return e!==d?b:g},a.defn(p,"$size",q.$length),a.defn(p,"$slice",q["$[]"]),q.$split=function(a,b){var c,e=this;return null==a&&(a=(c=h[";"])!==!1&&c!==d?c:" "),e.split(a,b)},q["$start_with?"]=function(a){var b=this;a=f.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=r.Opal.$coerce_to(a[c],r.String,"to_str");if(0===b.indexOf(e))return!0}return!1},q.$strip=function(){var a=this;return a.replace(/^\s*/,"").replace(/\s*$/,"")},q.$sub=o=function(a,b){var c=this,e=o._p,f=e||d;return o._p=null,"string"==typeof b?(b=b.replace(/\\([1-9])/g,"$$$1"),c.replace(a,b)):f!==d?c.replace(a,function(){for(var a=[],b=0,c=arguments.length;c>b;b++){var e=arguments[b];a.push(void 0==e?d:e)}a.pop(),a.pop(),a.length;return h["&"]=a[0],h["~"]=a,f(a[0])}):void 0!==b?b["$is_a?"](r.Hash)?c.replace(a,function(){var a=b["$[]"](c.$str());return null==a?d:c.$value().$to_s()}):(b=r.String.$try_convert(b),null==b&&c.$raise(r.TypeError,"can't convert "+b.$class()+" into String"),c.replace(a,b)):(b=b.toString().replace(/\\([1-9])/g,"$$$1"),c.replace(a,b))},a.defn(p,"$succ",q.$next),q.$sum=function(a){var b=this;null==a&&(a=16);for(var c=0,d=0,e=b.length;e>d;d++)c+=b.charCodeAt(d)%((1<<a)-1);return c},q.$swapcase=function(){var a=this,b=a.replace(/([a-z]+)|([A-Z]+)/g,function(a,b){return b?a.toUpperCase():a.toLowerCase()});return a.constructor===String?b:a.$class().$new(b)},q.$to_a=function(){var a=this;return 0===a.length?[]:[a]},q.$to_f=function(){var a=this,b=parseFloat(a);return isNaN(b)?0:b},q.$to_i=function(a){var b=this;null==a&&(a=10);var c=parseInt(b,a);return isNaN(c)?0:c},q.$to_proc=function(){var a=this,b="$"+a;return function(a){var c=a[b];return c?c.call(a):a.$method_missing(b)}},q.$to_s=function(){var a=this;return a.toString()},a.defn(p,"$to_str",q.$to_s),a.defn(p,"$to_sym",q.$intern),q.$tr=function(a,b){var c=this;if(0==a.length||a===b)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",n=0,x=c.length;x>n;n++){var o=c.charAt(n),y=d[o];w+=i?null==y?j:o:null!=y?y:o}return w},q.$tr_s=function(a,b){var c=this;if(0==a.length)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",x=null,n=0,y=c.length;y>n;n++){var o=c.charAt(n),z=d[o];i?null==z?null==x&&(w+=j,x=!0):(w+=o,x=null):null!=z?(null==x||x!==z)&&(w+=z,x=z):(w+=o,x=null)}return w},q.$upcase=function(){var a=this;return a.toUpperCase()},q.$freeze=function(){var a=this;return a},q["$frozen?"]=function(){return!0},d}(b,null),a.cdecl(c,"Symbol",c.String)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass,f=a.gvars;return function(b,g){function h(){}var i,j=h=e(b,g,"MatchData",h),k=h._proto,l=h._scope;return k.string=k.matches=k.begin=c,j.$attr_reader("post_match","pre_match","regexp","string"),a.defs(j,"$new",i=function(b,d){var e=this,g=(i._p,c);return i._p=null,g=a.find_super_dispatcher(e,"new",i,null,h).apply(e,[b,d]),f["`"]=g.$pre_match(),f["'"]=g.$post_match(),f["~"]=g,g}),k.$initialize=function(a,b){var d=this;d.regexp=a,d.begin=b.index,d.string=b.input,d.pre_match=d.string.substr(0,a.lastIndex-b[0].length),d.post_match=d.string.substr(a.lastIndex),d.matches=[];for(var e=0,f=b.length;f>e;e++){var g=b[e];d.matches.push(null==g?c:g)}},k["$[]"]=function(a){var b,c=this;return a=d.call(arguments,0),(b=c.matches)["$[]"].apply(b,[].concat(a))},k["$=="]=function(a){var b,d,e,f,g=this;return(b=l.MatchData["$==="](a))===!1||b===c?!1:(f=g.string==a.string,e=f!==!1&&f!==c?g.regexp==a.regexp:f,d=e!==!1&&e!==c?g.pre_match==a.pre_match:e,b=d!==!1&&d!==c?g.post_match==a.post_match:d,b!==!1&&b!==c?g.begin==a.begin:b)},k.$begin=function(a){var b,d,e,f=this;return e=a["$=="](0),d=e===c||e===!1,(b=d!==!1&&d!==c?(e=a["$=="](1),e===c||e===!1):d)!==!1&&b!==c&&f.$raise(l.ArgumentError,"MatchData#begin only supports 0th element"),f.begin},k.$captures=function(){var a=this;return a.matches.slice(1)},k.$inspect=function(){for(var a=this,b="#<MatchData "+a.matches[0].$inspect(),c=1,d=a.matches.length;d>c;c++)b+=" "+c+":"+a.matches[c].$inspect();return b+">"},k.$length=function(){var a=this;return a.matches.length},a.defn(j,"$size",k.$length),k.$to_a=function(){var a=this;return a.matches},k.$to_s=function(){var a=this;return a.matches[0]},k.$values_at=function(a){var b=this;a=d.call(arguments,0);for(var e=[],f=b.matches.length,g=0,h=a.length;h>g;g++){var i=a[g];i>=0?e.push(b.matches[i]):(i+=f,e.push(i>0?b.matches[i]:c))}return e},c}(b,null)}(Opal),function(a){var b,c,d,e,f,g,h,i=a.top,j=a,k=a.nil,l=a.breaker,m=(a.slice,a.klass),n=a.hash2;return function(b,c){function d(){}var e,f=d=m(b,c,"Encoding",d),g=d._proto,h=d._scope;return g.ascii=g.dummy=g.name=k,a.defs(f,"$register",e=function(a,b){var c,d,f,g,i=this,j=e._p,l=j||k,m=k,o=k;return null==b&&(b=n([],{})),e._p=null,m=[a]["$+"]((c=b["$[]"]("aliases"))!==!1&&c!==k?c:[]),o=(c=(d=h.Class).$new,c._p=l.$to_proc(),c).call(d,i).$new(a,m,(c=b["$[]"]("ascii"))!==!1&&c!==k?c:!1,(c=b["$[]"]("dummy"))!==!1&&c!==k?c:!1),(c=(f=m).$each,c._p=(g=function(a){var b=g._s||this;return null==a&&(a=k),b.$const_set(a.$sub("-","_"),o)},g._s=i,g),c).call(f)}),a.defs(f,"$find",function(b){try{var c,d,e,f=this;return(c=f["$==="](b))!==!1&&c!==k?b:((c=(d=f.$constants()).$each,c._p=(e=function(c){var d,f,g=e._s||this,h=k;return null==c&&(c=k),h=g.$const_get(c),(d=(f=h.$name()["$=="](b))!==!1&&f!==k?f:h.$names()["$include?"](b))===!1||d===k?k:void a.$return(h)},e._s=f,e),c).call(d),f.$raise(h.ArgumentError,"unknown encoding name - "+b))}catch(g){if(g===a.returner)return g.$v;throw g}}),function(a){a._scope,a._proto;return a.$attr_accessor("default_external")}(f.$singleton_class()),f.$attr_reader("name","names"),g.$initialize=function(a,b,c,d){var e=this;return e.name=a,e.names=b,e.ascii=c,e.dummy=d},g["$ascii_compatible?"]=function(){var a=this;return a.ascii},g["$dummy?"]=function(){var a=this;return a.dummy},g.$to_s=function(){var a=this;return a.name},g.$inspect=function(){var a,b=this;return"#<Encoding:"+b.name+function(){return(a=b.dummy)!==!1&&a!==k?" (dummy)":k}()+">"},g.$each_byte=function(){var a=this;return a.$raise(h.NotImplementedError)},g.$getbyte=function(){var a=this;return a.$raise(h.NotImplementedError)},g.$bytesize=function(){var a=this;return a.$raise(h.NotImplementedError)},k}(i,null),(b=(c=j.Encoding).$register,b._p=(d=function(){var b,c=d._s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b._p,f=e||k;b._p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);if(127>=i)(d=a.$yield1(f,i))===l?l.$v:d;else for(var j=encodeURIComponent(c.charAt(g)).substr(1).split("%"),m=0,n=j.length;n>m;m++)(d=a.$yield1(f,parseInt(j[m],16)))===l?l.$v:d}}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),k},d._s=i,d),b).call(c,"UTF-8",n(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),(b=(e=j.Encoding).$register,b._p=(f=function(){var b,c=f._s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b._p,f=e||k;b._p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);(d=a.$yield1(f,255&i))===l?l.$v:d,(d=a.$yield1(f,i>>8))===l?l.$v:d}}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),k},f._s=i,f),b).call(e,"UTF-16LE"),(b=(g=j.Encoding).$register,b._p=(h=function(){var b,c=h._s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b._p,f=e||k;b._p=null;for(var g=0,h=c.length;h>g;g++)(d=a.$yield1(f,255&c.charCodeAt(g)))===l?l.$v:d}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),k},h._s=i,h),b).call(g,"ASCII-8BIT",n(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function(a,b){function c(){}var d,e=(c=m(a,b,"String",c),c._proto),f=c._scope;return e.encoding=k,e.encoding=f.Encoding._scope.UTF_16LE,e.$bytes=function(){var a=this;return a.$each_byte().$to_a()},e.$bytesize=function(){var a=this;return a.encoding.$bytesize(a)},e.$each_byte=d=function(){var a,b,c=this,e=d._p,f=e||k;return d._p=null,f===k?c.$enum_for("each_byte"):((a=(b=c.encoding).$each_byte,a._p=f.$to_proc(),a).call(b,c),c)},e.$encoding=function(){var a=this;return a.encoding},e.$force_encoding=function(a){var b=this;if(a=f.Encoding.$find(a),a["$=="](b.encoding))return b;var c=new native_string(b);return c.encoding=a,c},e.$getbyte=function(a){var b=this;return b.encoding.$getbyte(b,a)},k}(i,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=a.breaker,f=a.slice,g=a.klass;return function(b,c){function h(){}var i,j,k,l,m,n=h=g(b,c,"Numeric",h),o=h._proto,p=h._scope;return n.$include(p.Comparable),o._isNumber=!0,function(a){a._scope,a._proto;
return a.$undef_method("new")}(n.$singleton_class()),o.$coerce=function(a,b){var c=this,e=d;null==b&&(b="operation");try{return a._isNumber?[c,a]:a.$coerce(c)}catch(f){return function(){return e=b,"operation"["$==="](e)?c.$raise(p.TypeError,""+a.$class()+" can't be coerce into Numeric"):"comparison"["$==="](e)?c.$raise(p.ArgumentError,"comparison of "+c.$class()+" with "+a.$class()+" failed"):d}()}},o.$send_coerced=function(b,c){var e,f=this,g=d,h=d,i=d,j=d;return g=function(){return h=b,"+"["$==="](h)||"-"["$==="](h)||"*"["$==="](h)||"/"["$==="](h)||"%"["$==="](h)||"&"["$==="](h)||"|"["$==="](h)||"^"["$==="](h)||"**"["$==="](h)?"operation":">"["$==="](h)||">="["$==="](h)||"<"["$==="](h)||"<="["$==="](h)||"<=>"["$==="](h)?"comparison":d}(),e=a.to_ary(f.$coerce(c,g)),i=null==e[0]?d:e[0],j=null==e[1]?d:e[1],i.$__send__(b,j)},o["$+"]=function(a){var b=this;return a._isNumber?b+a:b.$send_coerced("+",a)},o["$-"]=function(a){var b=this;return a._isNumber?b-a:b.$send_coerced("-",a)},o["$*"]=function(a){var b=this;return a._isNumber?b*a:b.$send_coerced("*",a)},o["$/"]=function(a){var b=this;return a._isNumber?b/a:b.$send_coerced("/",a)},o["$%"]=function(a){var b=this;return a._isNumber?0>a||0>b?(b%a+a)%a:b%a:b.$send_coerced("%",a)},o["$&"]=function(a){var b=this;return a._isNumber?b&a:b.$send_coerced("&",a)},o["$|"]=function(a){var b=this;return a._isNumber?b|a:b.$send_coerced("|",a)},o["$^"]=function(a){var b=this;return a._isNumber?b^a:b.$send_coerced("^",a)},o["$<"]=function(a){var b=this;return a._isNumber?a>b:b.$send_coerced("<",a)},o["$<="]=function(a){var b=this;return a._isNumber?a>=b:b.$send_coerced("<=",a)},o["$>"]=function(a){var b=this;return a._isNumber?b>a:b.$send_coerced(">",a)},o["$>="]=function(a){var b=this;return a._isNumber?b>=a:b.$send_coerced(">=",a)},o["$<=>"]=function(a){var b=this;try{return a._isNumber?b>a?1:a>b?-1:0:b.$send_coerced("<=>",a)}catch(c){if(p.ArgumentError["$==="](c))return d;throw c}},o["$<<"]=function(a){var b=this;return b<<a.$to_int()},o["$>>"]=function(a){var b=this;return b>>a.$to_int()},o["$+@"]=function(){var a=this;return+a},o["$-@"]=function(){var a=this;return-a},o["$~"]=function(){var a=this;return~a},o["$**"]=function(a){var b=this;return a._isNumber?Math.pow(b,a):b.$send_coerced("**",a)},o["$=="]=function(a){var b=this;return a._isNumber?b==Number(a):a["$respond_to?"]("==")?a["$=="](b):!1},o.$abs=function(){var a=this;return Math.abs(a)},o.$ceil=function(){var a=this;return Math.ceil(a)},o.$chr=function(){var a=this;return String.fromCharCode(a)},o.$conj=function(){var a=this;return a},a.defn(n,"$conjugate",o.$conj),o.$downto=i=function(a){var b,c=this,f=i._p,g=f||d;if(i._p=null,(b=g)===!1||b===d)return c.$enum_for("downto",a);for(var h=c;h>=a;h--)if(g(h)===e)return e.$v;return c},a.defn(n,"$eql?",o["$=="]),a.defn(n,"$equal?",o["$=="]),o["$even?"]=function(){var a=this;return a%2===0},o.$floor=function(){var a=this;return Math.floor(a)},o.$hash=function(){var a=this;return a.toString()},o["$integer?"]=function(){var a=this;return a%1===0},o["$is_a?"]=j=function(b){var c,e,g=f.call(arguments,0),h=this,i=j._p;return j._p=null,(c=(e=b["$=="](p.Float))?p.Float["$==="](h):e)!==!1&&c!==d?!0:(c=(e=b["$=="](p.Integer))?p.Integer["$==="](h):e)!==!1&&c!==d?!0:a.find_super_dispatcher(h,"is_a?",j,i).apply(h,g)},a.defn(n,"$magnitude",o.$abs),a.defn(n,"$modulo",o["$%"]),o.$next=function(){var a=this;return a+1},o["$nonzero?"]=function(){var a=this;return 0==a?d:a},o["$odd?"]=function(){var a=this;return a%2!==0},o.$ord=function(){var a=this;return a},o.$pred=function(){var a=this;return a-1},o.$step=k=function(a,b){var c,e=this,f=k._p,g=f||d;if(null==b&&(b=1),k._p=null,(c=g)===!1||c===d)return e.$enum_for("step",a,b);(c=0==b)!=!1&&c!==d&&e.$raise(p.ArgumentError,"step cannot be 0");var h=e;if(b>0)for(;a>=h;)g(h),h+=b;else for(;h>=a;)g(h),h+=b;return e},a.defn(n,"$succ",o.$next),o.$times=l=function(){var a,b=this,c=l._p,f=c||d;if(l._p=null,(a=f)===!1||a===d)return b.$enum_for("times");for(var g=0;b>g;g++)if(f(g)===e)return e.$v;return b},o.$to_f=function(){var a=this;return parseFloat(a)},o.$to_i=function(){var a=this;return parseInt(a)},a.defn(n,"$to_int",o.$to_i),o.$to_s=function(a){var b,c,e=this;return null==a&&(a=10),(b=(c=a["$<"](2))!==!1&&c!==d?c:a["$>"](36))!==!1&&b!==d&&e.$raise(p.ArgumentError,"base must be between 2 and 36"),e.toString(a)},a.defn(n,"$inspect",o.$to_s),o.$divmod=function(a){var b=this,c=d,e=d;return c=b["$/"](a).$floor(),e=b["$%"](a),[c,e]},o.$upto=m=function(a){var b,c=this,f=m._p,g=f||d;if(m._p=null,(b=g)===!1||b===d)return c.$enum_for("upto",a);for(var h=c;a>=h;h++)if(g(h)===e)return e.$v;return c},o["$zero?"]=function(){var a=this;return 0==a},o.$size=function(){return 4},o["$nan?"]=function(){var a=this;return isNaN(a)},o["$finite?"]=function(){var a=this;return 1/0==a||a==-1/0},o["$infinite?"]=function(){var a,b=this;return(a=1/0==b)!=!1&&a!==d?1:(a=b==-1/0)!=!1&&a!==d?-1:d},d}(b,null),a.cdecl(c,"Fixnum",c.Numeric),function(b,c){function e(){}{var f=e=g(b,c,"Integer",e);e._proto,e._scope}return a.defs(f,"$===",function(a){return!(!a._isNumber||a%1!=0)}),d}(b,c.Numeric),function(b,c){function d(){}var e=d=g(b,c,"Float",d),f=(d._proto,d._scope);return a.defs(e,"$===",function(a){return!(!a._isNumber||a%1==0)}),a.cdecl(f,"INFINITY",1/0),a.cdecl(f,"NAN",0/0)}(b,c.Numeric)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return function(b,g){function h(){}var i,j,k=h=f(b,g,"Proc",h),l=h._proto,m=h._scope;return l._isProc=!0,l.is_lambda=!1,a.defs(k,"$new",i=function(){var a,b=this,d=i._p,e=d||c;return i._p=null,((a=e)===!1||a===c)&&b.$raise(m.ArgumentError,"tried to create a Proc object without a block"),e}),l.$call=j=function(a){var b=this,f=j._p,g=f||c;a=e.call(arguments,0),j._p=null,g!==c&&(b._p=g);var h;return h=b.is_lambda?b.apply(null,a):Opal.$yieldX(b,a),h===d?d.$v:h},a.defn(k,"$[]",l.$call),l.$to_proc=function(){var a=this;return a},l["$lambda?"]=function(){var a=this;return!!a.is_lambda},l.$arity=function(){var a=this;return a.length},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return function(b,f){function g(){}var h,i=g=e(b,f,"Method",g),j=g._proto,k=g._scope;return j.method=j.receiver=j.owner=j.name=j.obj=c,i.$attr_reader("owner","receiver","name"),j.$initialize=function(a,b,c){var d=this;return d.receiver=a,d.owner=a.$class(),d.name=c,d.method=b},j.$arity=function(){var a=this;return a.method.$arity()},j.$call=h=function(a){var b=this,e=h._p,f=e||c;return a=d.call(arguments,0),h._p=null,b.method._p=f,b.method.apply(b.receiver,a)},a.defn(i,"$[]",j.$call),j.$unbind=function(){var a=this;return k.UnboundMethod.$new(a.owner,a.method,a.name)},j.$to_proc=function(){var a=this;return a.method},j.$inspect=function(){var a=this;return"#<Method: "+a.obj.$class().$name()+"#"+a.name+"}>"},c}(b,null),function(a,b){function d(){}var f=d=e(a,b,"UnboundMethod",d),g=d._proto,h=d._scope;return g.method=g.name=g.owner=c,f.$attr_reader("owner","name"),g.$initialize=function(a,b,c){var d=this;return d.owner=a,d.method=b,d.name=c},g.$arity=function(){var a=this;return a.method.$arity()},g.$bind=function(a){var b=this;return h.Method.$new(a,b.method,b.name)},g.$inspect=function(){var a=this;return"#<UnboundMethod: "+a.owner.$name()+"#"+a.name+">"},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return function(b,g){function h(){}var i,j,k,l=h=f(b,g,"Range",h),m=h._proto,n=h._scope;return m.begin=m.exclude=m.end=c,l.$include(n.Enumerable),m._isRange=!0,l.$attr_reader("begin","end"),m.$initialize=function(a,b,c){var d=this;return null==c&&(c=!1),d.begin=a,d.end=b,d.exclude=c},m["$=="]=function(a){var b=this;return a._isRange?b.exclude===a.exclude&&b.begin==a.begin&&b.end==a.end:!1},m["$==="]=function(a){var b=this;return b["$include?"](a)},m["$cover?"]=function(a){var b,d,e=this;return(b=e.begin["$<="](a))?function(){return(d=e.exclude)!==!1&&d!==c?a["$<"](e.end):a["$<="](e.end)}():b},a.defn(l,"$last",m.$end),m.$each=i=function(){var b,e,f,g=this,h=i._p,j=h||c,k=c,l=c;if(i._p=null,j===c)return g.$enum_for("each");for(k=g.begin,l=g.end;k["$<"](l);){if(a.$yield1(j,k)===d)return d.$v;k=k.$succ()}return f=g.exclude,e=f===c||f===!1,(b=e!==!1&&e!==c?k["$=="](l):e)!==!1&&b!==c&&a.$yield1(j,k)===d?d.$v:g},m["$eql?"]=function(a){var b,d,e=this;return(b=n.Range["$==="](a))===!1||b===c?!1:(d=e.exclude["$==="](a["$exclude_end?"]()),b=d!==!1&&d!==c?e.begin["$eql?"](a.$begin()):d,b!==!1&&b!==c?e.end["$eql?"](a.$end()):b)},m["$exclude_end?"]=function(){var a=this;return a.exclude},a.defn(l,"$first",m.$begin),m["$include?"]=function(a){var b=this;return b["$cover?"](a)},m.$max=j=function(){var b=e.call(arguments,0),d=this,f=j._p,g=f||c;return j._p=null,g!==c?a.find_super_dispatcher(d,"max",j,f).apply(d,b):d.exclude?d.end-1:d.end},m.$min=k=function(){var b=e.call(arguments,0),d=this,f=k._p,g=f||c;return k._p=null,g!==c?a.find_super_dispatcher(d,"min",k,f).apply(d,b):d.begin},a.defn(l,"$member?",m["$include?"]),m.$step=function(a){var b=this;return null==a&&(a=1),b.$raise(n.NotImplementedError)},m.$to_s=function(){var a=this;return a.begin.$inspect()+(a.exclude?"...":"..")+a.end.$inspect()},a.defn(l,"$inspect",m.$to_s)}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return function(b,f){function g(){}var h=g=e(b,f,"Time",g),i=g._proto,j=g._scope;h.$include(j.Comparable);var k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["January","Febuary","March","April","May","June","July","August","September","October","November","December"];return a.defs(h,"$at",function(a,b){return null==b&&(b=0),new Date(1e3*a+b)}),a.defs(h,"$new",function(a,b,c,d,e,f){var g=this;switch(arguments.length){case 1:return new Date(a,0);case 2:return new Date(a,b-1);case 3:return new Date(a,b-1,c);case 4:return new Date(a,b-1,c,d);case 5:return new Date(a,b-1,c,d,e);case 6:return new Date(a,b-1,c,d,e,f);case 7:g.$raise(j.NotImplementedError);default:return new Date}}),a.defs(h,"$local",function(a,b,e,f,g,h,i){var k,l=this;if(null==b&&(b=c),null==e&&(e=c),null==f&&(f=c),null==g&&(g=c),null==h&&(h=c),null==i&&(i=c),(k=10===arguments.length)!=!1&&k!==c){var m=d.call(arguments).reverse();h=m[9],g=m[8],f=m[7],e=m[6],b=m[5],a=m[4]}return a=function(){return(k=a["$kind_of?"](j.String))!==!1&&k!==c?a.$to_i():j.Opal.$coerce_to(a,j.Integer,"to_int")}(),b=function(){return(k=b["$kind_of?"](j.String))!==!1&&k!==c?b.$to_i():j.Opal.$coerce_to((k=b)!==!1&&k!==c?k:1,j.Integer,"to_int")}(),((k=b["$between?"](1,12))===!1||k===c)&&l.$raise(j.ArgumentError,"month out of range: "+b),e=function(){return(k=e["$kind_of?"](j.String))!==!1&&k!==c?e.$to_i():j.Opal.$coerce_to((k=e)!==!1&&k!==c?k:1,j.Integer,"to_int")}(),((k=e["$between?"](1,31))===!1||k===c)&&l.$raise(j.ArgumentError,"day out of range: "+e),f=function(){return(k=f["$kind_of?"](j.String))!==!1&&k!==c?f.$to_i():j.Opal.$coerce_to((k=f)!==!1&&k!==c?k:0,j.Integer,"to_int")}(),((k=f["$between?"](0,24))===!1||k===c)&&l.$raise(j.ArgumentError,"hour out of range: "+f),g=function(){return(k=g["$kind_of?"](j.String))!==!1&&k!==c?g.$to_i():j.Opal.$coerce_to((k=g)!==!1&&k!==c?k:0,j.Integer,"to_int")}(),((k=g["$between?"](0,59))===!1||k===c)&&l.$raise(j.ArgumentError,"minute out of range: "+g),h=function(){return(k=h["$kind_of?"](j.String))!==!1&&k!==c?h.$to_i():j.Opal.$coerce_to((k=h)!==!1&&k!==c?k:0,j.Integer,"to_int")}(),((k=h["$between?"](0,59))===!1||k===c)&&l.$raise(j.ArgumentError,"second out of range: "+h),(k=l).$new.apply(k,[].concat([a,b,e,f,g,h].$compact()))}),a.defs(h,"$gm",function(a,b,d,e,f,g){var h,i=this;switch((h=a["$nil?"]())!==!1&&h!==c&&i.$raise(j.TypeError,"missing year (got nil)"),arguments.length){case 1:return new Date(Date.UTC(a,0));case 2:return new Date(Date.UTC(a,b-1));case 3:return new Date(Date.UTC(a,b-1,d));case 4:return new Date(Date.UTC(a,b-1,d,e));case 5:return new Date(Date.UTC(a,b-1,d,e,f));case 6:return new Date(Date.UTC(a,b-1,d,e,f,g));case 7:i.$raise(j.NotImplementedError)}}),function(a){a._scope,a._proto;return a._proto.$mktime=a._proto.$local,a._proto.$utc=a._proto.$gm}(h.$singleton_class()),a.defs(h,"$now",function(){return new Date}),i["$+"]=function(a){var b,d=this;return(b=j.Time["$==="](a))!==!1&&b!==c&&d.$raise(j.TypeError,"time + time?"),a=j.Opal.$coerce_to(a,j.Integer,"to_int"),new Date(d.getTime()+1e3*a)},i["$-"]=function(a){var b,d=this;return(b=j.Time["$==="](a))!==!1&&b!==c?(d.getTime()-a.getTime())/1e3:(a=j.Opal.$coerce_to(a,j.Integer,"to_int"),new Date(d.getTime()-1e3*a))},i["$<=>"]=function(a){var b=this;return b.$to_f()["$<=>"](a.$to_f())},i["$=="]=function(a){var b=this;return b.$to_f()===a.$to_f()},i.$day=function(){var a=this;return a.getDate()},i.$yday=function(){var a=this,b=new Date(a.getFullYear(),0,1);return Math.ceil((a-b)/864e5)},i.$isdst=function(){var a=this;return a.$raise(j.NotImplementedError)},i["$eql?"]=function(a){var b,d=this;return b=a["$is_a?"](j.Time),b!==!1&&b!==c?d["$<=>"](a)["$zero?"]():b},i["$friday?"]=function(){var a=this;return 5===a.getDay()},i.$hour=function(){var a=this;return a.getHours()},i.$inspect=function(){var a=this;return a.toString()},a.defn(h,"$mday",i.$day),i.$min=function(){var a=this;return a.getMinutes()},i.$mon=function(){var a=this;return a.getMonth()+1},i["$monday?"]=function(){var a=this;return 1===a.getDay()},a.defn(h,"$month",i.$mon),i["$saturday?"]=function(){var a=this;return 6===a.getDay()},i.$sec=function(){var a=this;return a.getSeconds()},i.$usec=function(){var a=this;return a.$warn("Microseconds are not supported"),0},i.$zone=function(){var a,b=this,c=b.toString();return a=-1==c.indexOf("(")?c.match(/[A-Z]{3,4}/)[0]:c.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==a&&/(GMT\W*\d{4})/.test(c)?RegExp.$1:a},i.$gmt_offset=function(){var a=this;return 60*-a.getTimezoneOffset()},i.$strftime=function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,c,d,e,f){var g="",d=parseInt(d),h=-1!==c.indexOf("0"),i=-1===c.indexOf("-"),j=-1!==c.indexOf("_"),o=-1!==c.indexOf("^"),p=-1!==c.indexOf("#"),q=(c.match(":")||[]).length;switch(h&&j&&(c.indexOf("0")<c.indexOf("_")?h=!1:j=!1),f){case"Y":g+=b.getFullYear();break;case"C":h=!j,g+=Match.round(b.getFullYear()/100);break;case"y":h=!j,g+=b.getFullYear()%100;break;case"m":h=!j,g+=b.getMonth()+1;break;case"B":g+=n[b.getMonth()];break;case"b":case"h":j=!h,g+=m[b.getMonth()];break;case"d":h=!j,g+=b.getDate();break;case"e":j=!h,g+=b.getDate();break;case"j":g+=b.$yday();break;case"H":h=!j,g+=b.getHours();break;case"k":j=!h,g+=b.getHours();break;case"I":h=!j,g+=b.getHours()%12||12;break;case"l":j=!h,g+=b.getHours()%12||12;break;case"P":g+=b.getHours()>=12?"pm":"am";break;case"p":g+=b.getHours()>=12?"PM":"AM";break;case"M":h=!j,g+=b.getMinutes();break;case"S":h=!j,g+=b.getSeconds();break;case"L":h=!j,d=isNaN(d)?3:d,g+=b.getMilliseconds();break;case"N":d=isNaN(d)?9:d,g+=b.getMilliseconds().toString().$rjust(3,"0"),g=g.$ljust(d,"0");break;case"z":var r=b.getTimezoneOffset(),s=Math.floor(Math.abs(r)/60),t=Math.abs(r)%60;g+=0>r?"+":"-",g+=10>s?"0":"",g+=s,q>0&&(g+=":"),g+=10>t?"0":"",g+=t,q>1&&(g+=":00");break;case"Z":g+=b.$zone();break;case"A":g+=k[b.getDay()];break;case"a":g+=l[b.getDay()];break;case"u":g+=b.getDay()+1;break;case"w":g+=b.getDay();break;case"s":g+=parseInt(b.getTime()/1e3);break;case"n":g+="\n";break;case"t":g+="	";break;case"%":g+="%";break;case"c":g+=b.$strftime("%a %b %e %T %Y");break;case"D":case"x":g+=b.$strftime("%m/%d/%y");break;case"F":g+=b.$strftime("%Y-%m-%d");break;case"v":g+=b.$strftime("%e-%^b-%4Y");break;case"r":g+=b.$strftime("%I:%M:%S %p");break;case"R":g+=b.$strftime("%H:%M");break;case"T":case"X":g+=b.$strftime("%H:%M:%S");break;default:return a}return o&&(g=g.toUpperCase()),p&&(g=g.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()})),i&&(h||j)&&(g=g.$rjust(isNaN(d)?2:d,j?" ":"0")),g})},i["$sunday?"]=function(){var a=this;return 0===a.getDay()},i["$thursday?"]=function(){var a=this;return 4===a.getDay()},i.$to_a=function(){var a=this;return[a.$sec(),a.$min(),a.$hour(),a.$day(),a.$month(),a.$year(),a.$wday(),a.$yday(),a.$isdst(),a.$zone()]},i.$to_f=function(){var a=this;return a.getTime()/1e3},i.$to_i=function(){var a=this;return parseInt(a.getTime()/1e3)},a.defn(h,"$to_s",i.$inspect),i["$tuesday?"]=function(){var a=this;return 2===a.getDay()},i.$wday=function(){var a=this;return a.getDay()},i["$wednesday?"]=function(){var a=this;return 3===a.getDay()},i.$year=function(){var a=this;return a.getFullYear()},c}(b,null),function(b,d){function f(){}{var g=f=e(b,d,"Time",f),h=f._proto;f._scope}return a.defs(g,"$parse",function(a){return new Date(Date.parse(a))}),h.$iso8601=function(){var a=this;return a.$strftime("%FT%T%z")},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return function(b,g){function h(){}var i,j,k,l=h=f(b,g,"Struct",h),m=h._proto,n=h._scope;return a.defs(l,"$new",i=function(b,d){var f,g,j,k,l=e.call(arguments,0),m=this,o=i._p,p=o||c;return d=e.call(arguments,1),i._p=null,(f=m["$=="](n.Struct))===!1||f===c?a.find_super_dispatcher(m,"new",i,o,h).apply(m,l):b["$[]"](0)["$=="](b["$[]"](0).$upcase())?n.Struct.$const_set(b,(f=m).$new.apply(f,[].concat(d))):(d.$unshift(b),(g=(j=n.Class).$new,g._p=(k=function(){var a,b,e,f,g=k._s||this;return(a=(b=d).$each,a._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$define_struct_attribute(a)},e._s=g,e),a).call(b),p!==!1&&p!==c?(a=(f=g).$instance_eval,a._p=p.$to_proc(),a).call(f):c},k._s=m,k),g).call(j,m))}),a.defs(l,"$define_struct_attribute",function(a){var b,d,e,f,g,h=this;return h["$=="](n.Struct)&&h.$raise(n.ArgumentError,"you cannot define attributes to the Struct class"),h.$members()["$<<"](a),(b=(d=h).$define_method,b._p=(e=function(){var b=e._s||this;return b.$instance_variable_get("@"+a)},e._s=h,e),b).call(d,a),(b=(f=h).$define_method,b._p=(g=function(b){var d=g._s||this;return null==b&&(b=c),d.$instance_variable_set("@"+a,b)},g._s=h,g),b).call(f,""+a+"=")}),a.defs(l,"$members",function(){var a,b=this;return null==b.members&&(b.members=c),b["$=="](n.Struct)&&b.$raise(n.ArgumentError,"the Struct class has no members"),(a=b.members)!==!1&&a!==c?a:b.members=[]}),a.defs(l,"$inherited",function(a){var b,d,e,f=this,g=c;return null==f.members&&(f.members=c),f["$=="](n.Struct)?c:(g=f.members,(b=(d=a).$instance_eval,b._p=(e=function(){var a=e._s||this;return a.members=g},e._s=f,e),b).call(d))}),l.$include(n.Enumerable),m.$initialize=function(a){var b,d,f,g=this;return a=e.call(arguments,0),(b=(d=g.$members()).$each_with_index,b._p=(f=function(b,d){var e=f._s||this;return null==b&&(b=c),null==d&&(d=c),e.$instance_variable_set("@"+b,a["$[]"](d))},f._s=g,f),b).call(d)},m.$members=function(){var a=this;return a.$class().$members()},m["$[]"]=function(a){var b,d=this;return(b=n.Integer["$==="](a))!==!1&&b!==c?(a["$>="](d.$members().$size())&&d.$raise(n.IndexError,"offset "+a+" too large for struct(size:"+d.$members().$size()+")"),a=d.$members()["$[]"](a)):((b=d.$members()["$include?"](a.$to_sym()))===!1||b===c)&&d.$raise(n.NameError,"no member '"+a+"' in struct"),d.$instance_variable_get("@"+a)},m["$[]="]=function(a,b){var d,e=this;return(d=n.Integer["$==="](a))!==!1&&d!==c?(a["$>="](e.$members().$size())&&e.$raise(n.IndexError,"offset "+a+" too large for struct(size:"+e.$members().$size()+")"),a=e.$members()["$[]"](a)):((d=e.$members()["$include?"](a.$to_sym()))===!1||d===c)&&e.$raise(n.NameError,"no member '"+a+"' in struct"),e.$instance_variable_set("@"+a,b)},m.$each=j=function(){var b,e,f,g=this,h=j._p,i=h||c;return j._p=null,i===c?g.$enum_for("each"):(b=(e=g.$members()).$each,b._p=(f=function(b){var e,g=f._s||this;return null==b&&(b=c),e=a.$yield1(i,g["$[]"](b)),e===d?e:e},f._s=g,f),b).call(e)},m.$each_pair=k=function(){var b,e,f,g=this,h=k._p,i=h||c;return k._p=null,i===c?g.$enum_for("each_pair"):(b=(e=g.$members()).$each,b._p=(f=function(b){var e,g=f._s||this;return null==b&&(b=c),e=a.$yieldX(i,[b,g["$[]"](b)]),e===d?e:e},f._s=g,f),b).call(e)},m["$eql?"]=function(a){var b,d,e,f,g=this;return(b=g.$hash()["$=="](a.$hash()))!==!1&&b!==c?b:(d=(e=a.$each_with_index())["$all?"],d._p=(f=function(a,b){var d=f._s||this;return null==a&&(a=c),null==b&&(b=c),d["$[]"](d.$members()["$[]"](b))["$=="](a)},f._s=g,f),d).call(e)},m.$length=function(){var a=this;return a.$members().$length()},a.defn(l,"$size",m.$length),m.$to_a=function(){var a,b,d,e=this;return(a=(b=e.$members()).$map,a._p=(d=function(a){var b=d._s||this;return null==a&&(a=c),b["$[]"](a)},d._s=e,d),a).call(b)},a.defn(l,"$values",m.$to_a),m.$inspect=function(){var a,b,d,e=this,f=c;return f="#<struct ",e.$class()["$=="](n.Struct)&&(f=f["$+"](""+e.$class().$name()+" ")),f=f["$+"]((a=(b=e.$each_pair()).$map,a._p=(d=function(a,b){d._s||this;return null==a&&(a=c),null==b&&(b=c),""+a+"="+b.$inspect()},d._s=e,d),a).call(b).$join(", ")),f=f["$+"](">")},c}(b,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice),f=a.klass,g=a.module,h=a.gvars;return function(b,c){function i(){}var j=i=f(b,c,"IO",i),k=(i._proto,i._scope);return a.cdecl(k,"SEEK_SET",0),a.cdecl(k,"SEEK_CUR",1),a.cdecl(k,"SEEK_END",2),function(b){{var c=g(b,"Writable"),f=c._proto;c._scope}f["$<<"]=function(a){var b=this;return b.$write(a),b},f.$print=function(a){var b,c,f,g=this;return a=e.call(arguments,0),g.$write((b=(c=a).$map,b._p=(f=function(a){var b=f._s||this;return null==a&&(a=d),b.$String(a)},f._s=g,f),b).call(c).$join(h[","]))},f.$puts=function(a){var b,c,f,g=this;return a=e.call(arguments,0),g.$write((b=(c=a).$map,b._p=(f=function(a){var b=f._s||this;return null==a&&(a=d),b.$String(a)},f._s=g,f),b).call(c).$join(h["/"]))},a.donate(c,["$<<","$print","$puts"])}(j),function(b){var c=g(b,"Readable"),e=c._proto,f=c._scope;e.$readbyte=function(){var a=this;return a.$getbyte()},e.$readchar=function(){var a=this;return a.$getc()},e.$readline=function(a){var b=this;return null==a&&(a=h["/"]),b.$raise(f.NotImplementedError)},e.$readpartial=function(a,b){var c=this;return null==b&&(b=d),c.$raise(f.NotImplementedError)},a.donate(c,["$readbyte","$readchar","$readline","$readpartial"])}(j)}(b,null),a.cdecl(c,"STDERR",h.stderr=c.IO.$new()),a.cdecl(c,"STDIN",h.stdin=c.IO.$new()),a.cdecl(c,"STDOUT",h.stdout=c.IO.$new()),a.defs(h.stdout,"$puts",function(a){var b,c=this;a=e.call(arguments,0);for(var f=0;f<a.length;f++)a[f]instanceof Array?(b=c).$puts.apply(b,[].concat(a[f])):console.log(a[f].$to_s());return d}),a.defs(h.stderr,"$puts",function(a){var b,c=this;a=e.call(arguments,0);for(var f=0;f<a.length;f++)a[f]instanceof Array?(b=c).$puts.apply(b,[].concat(a[f])):console.warn(a[f].$to_s());return d}),d}(Opal),function(a){{var b=a.top,c=a,d=a.nil;a.breaker,a.slice}return a.defs(b,"$to_s",function(){return"main"}),a.defs(b,"$include",function(a){return c.Object.$include(a)}),d}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=a.breaker,f=a.slice,g=a.module,h=a.range,i=a.hash2,j=a.klass,k=a.gvars;return function(b){var c,e=g(b,"Native"),j=e._proto,k=e._scope;a.defs(e,"$is_a?",function(a,b){try{return a instanceof k.Native.$try_convert(b)}catch(c){return!1}}),a.defs(e,"$try_convert",function(a){var b=this;return b["$native?"](a)?a:a["$respond_to?"]("to_n")?a.$to_n():d}),a.defs(e,"$convert",function(a){var b=this;return b["$native?"](a)?a:a["$respond_to?"]("to_n")?a.$to_n():void b.$raise(k.ArgumentError,"the passed value isn't a native")}),a.defs(e,"$call",c=function(a,b,e){var g,h,i,j=this,k=c._p,l=k||d;e=f.call(arguments,2),c._p=null;var m=a[b];return null==m?d:m instanceof Function?(l!==d&&e.push(l),e=(g=(h=e).$map,g._p=(i=function(a){var b,c=i._s||this,e=d;return null==a&&(a=d),e=c.$try_convert(a),(b=d["$==="](e))!==!1&&b!==d?a:e},i._s=j,i),g).call(h),j.$Native(m.apply(a,e))):j["$native?"](m)?j.$Native(m):m}),function(b){var c=g(b,"Helpers"),e=c._proto,j=c._scope;e.$alias_native=function(a,b,c){var e,g,k,l,m,n,o,p=this,q=d;return null==b&&(b=a),null==c&&(c=i([],{})),(e=b["$end_with?"]("="))!==!1&&e!==d?(e=(g=p).$define_method,e._p=(k=function(a){var c=k._s||this;return null==c["native"]&&(c["native"]=d),null==a&&(a=d),c["native"][b["$[]"](h(0,-2,!1))]=j.Native.$convert(a),a},k._s=p,k),e).call(g,a):(e=q=c["$[]"]("as"))!==!1&&e!==d?(e=(l=p).$define_method,e._p=(m=function(a){var c,e,g,h,i=m._s||this;return null==i["native"]&&(i["native"]=d),a=f.call(arguments,0),c=m._p||d,m._p=null,(e=value=(g=(h=j.Native).$call,g._p=c.$to_proc(),g).apply(h,[i["native"],b].concat(a)))!==!1&&e!==d?q.$new(value.$to_n()):d},m._s=p,m),e).call(l,a):(e=(n=p).$define_method,e._p=(o=function(a){var c,e,g,h=o._s||this;return null==h["native"]&&(h["native"]=d),a=f.call(arguments,0),c=o._p||d,o._p=null,(e=(g=j.Native).$call,e._p=c.$to_proc(),e).apply(g,[h["native"],b].concat(a))},o._s=p,o),e).call(n,a)},a.donate(c,["$alias_native"])}(e),a.defs(e,"$included",function(a){return a.$extend(k.Helpers)}),j.$initialize=function(a){var b,c=this;return((b=k.Kernel["$native?"](a))===!1||b===d)&&k.Kernel.$raise(k.ArgumentError,"the passed value isn't native"),c["native"]=a},j.$to_n=function(){var a=this;return null==a["native"]&&(a["native"]=d),a["native"]},a.donate(e,["$initialize","$to_n"])}(b),function(b){var c,e=g(b,"Kernel"),h=e._proto,i=e._scope;h["$native?"]=function(a){return null==a||!a._klass},h.$Native=function(a){var b,c=this;return(b=null==a)!=!1&&b!==d?d:(b=c["$native?"](a))!==!1&&b!==d?i.Native._scope.Object.$new(a):a},h.$Array=c=function(a,b){var e,g,h=this,j=c._p,k=j||d;return b=f.call(arguments,1),c._p=null,null==a||a===d?[]:h["$native?"](a)?(e=(g=i.Native._scope.Array).$new,e._p=k.$to_proc(),e).apply(g,[a].concat(b)).$to_a():a["$respond_to?"]("to_ary")?a.$to_ary():a["$respond_to?"]("to_a")?a.$to_a():[a]},a.donate(e,["$native?","$Native","$Array"])}(b),function(b,c){function g(){}var h,k,l,m,n=g=j(b,c,"Object",g),o=g._proto,p=g._scope;return o["native"]=d,n.$include(p.Native),a.defn(n,"$==",function(a){var b=this;return b["native"]===p.Native.$try_convert(a)}),a.defn(n,"$has_key?",function(a){var b=this;return b["native"].hasOwnProperty(a)}),a.defn(n,"$key?",o["$has_key?"]),a.defn(n,"$include?",o["$has_key?"]),a.defn(n,"$member?",o["$has_key?"]),a.defn(n,"$each",h=function(b){var c,g=this,i=h._p,j=i||d;if(b=f.call(arguments,0),h._p=null,j!==d){for(var k in g["native"])(c=a.$yieldX(j,[k,g["native"][k]]))===e?e.$v:c;return g}return(c=g).$method_missing.apply(c,["each"].concat(b))}),a.defn(n,"$[]",function(b){var c,d=this,e=d["native"][b];return e instanceof Function?e:(null==(c=a.Object._scope.Native)?a.cm("Native"):c).$call(d["native"],b)}),a.defn(n,"$[]=",function(a,b){var c,e=this,f=d;return f=p.Native.$try_convert(b),e["native"][a]=(c=f===d)!=!1&&c!==d?b:f}),a.defn(n,"$method_missing",k=function(b,c){var e,g,h,i=this,j=k._p,l=j||d;return c=f.call(arguments,1),k._p=null,"="===b.charAt(b.length-1)?i["$[]="](b.$slice(0,b.$length()["$-"](1)),c["$[]"](0)):(e=(g=null==(h=a.Object._scope.Native)?a.cm("Native"):h).$call,e._p=l.$to_proc(),e).apply(g,[i["native"],b].concat(c))}),a.defn(n,"$nil?",function(){return!1}),a.defn(n,"$is_a?",function(a){return a["$=="](p.Native)}),a.defn(n,"$kind_of?",o["$is_a?"]),a.defn(n,"$instance_of?",function(a){return a["$=="](p.Native)}),a.defn(n,"$class",function(){var a=this;return a._klass}),a.defn(n,"$to_a",l=function(a){var b,c,e=this,f=l._p,g=f||d;return null==a&&(a=i([],{})),l._p=null,(b=(c=p.Native._scope.Array).$new,b._p=g.$to_proc(),b).call(c,e["native"],a).$to_a()}),a.defn(n,"$to_ary",m=function(a){var b,c,e=this,f=m._p,g=f||d;return null==a&&(a=i([],{})),m._p=null,(b=(c=p.Native._scope.Array).$new,b._p=g.$to_proc(),b).call(c,e["native"],a)}),a.defn(n,"$inspect",function(){var a=this;return"#<Native:"+String(a["native"])+">"}),d}(c.Native,c.BasicObject),function(b,c){function f(){}var g,h,k=f=j(b,c,"Array",f),l=f._proto,m=f._scope;return l.named=l["native"]=l.get=l.block=l.set=l.length=d,k.$include(m.Native),k.$include(m.Enumerable),l.$initialize=g=function(b,c){var e,f=this,h=g._p,j=h||d;return null==c&&(c=i([],{})),g._p=null,a.find_super_dispatcher(f,"initialize",g,null).apply(f,[b]),f.get=(e=c["$[]"]("get"))!==!1&&e!==d?e:c["$[]"]("access"),f.named=c["$[]"]("named"),f.set=(e=c["$[]"]("set"))!==!1&&e!==d?e:c["$[]"]("access"),f.length=(e=c["$[]"]("length"))!==!1&&e!==d?e:"length",f.block=j,(e=null==f.$length())!=!1&&e!==d?f.$raise(m.ArgumentError,"no length found on the array-like object"):d},l.$each=h=function(){var b,c=this,f=h._p,g=f||d;if(h._p=null,(b=g)===!1||b===d)return c.$enum_for("each");for(var i=0,j=c.$length();j>i;i++){var k=a.$yield1(g,c["$[]"](i));if(k===e)return e.$v}return c},l["$[]"]=function(a){var b,c=this,e=d,f=d;return e=function(){return f=a,m.String["$==="](f)||m.Symbol["$==="](f)?(b=c.named)!==!1&&b!==d?c["native"][c.named](a):c["native"][a]:m.Integer["$==="](f)?(b=c.get)!==!1&&b!==d?c["native"][c.get](a):c["native"][a]:d}(),e!==!1&&e!==d?(b=c.block)!==!1&&b!==d?c.block.$call(e):c.$Native(e):d},l["$[]="]=function(a,b){var c,e=this;return(c=e.set)!==!1&&c!==d?e["native"][e.set](a,m.Native.$convert(b)):e["native"][a]=m.Native.$convert(b)},l.$last=function(a){var b=this,c=d,e=d;if(null==a&&(a=d),a!==!1&&a!==d){for(c=b.$length()["$-"](1),e=[];c["$>="](0);)e["$<<"](b["$[]"](c)),c=c["$-"](1);return e}return b["$[]"](b.$length()["$-"](1))},l.$length=function(){var a=this;return a["native"][a.length]},l.$to_ary=function(){var a=this;return a},l.$inspect=function(){var a=this;return a.$to_a().$inspect()},d}(c.Native,null),function(a,b){function c(){}{var e=(c=j(a,b,"Numeric",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a.valueOf()},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Proc",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"String",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a.valueOf()},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Regexp",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a.valueOf()},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"MatchData",c),c._proto);c._scope}return e.matches=d,e.$to_n=function(){var a=this;return a.matches},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Struct",c),c._proto);c._scope}return e.$initialize=function(a){var b,c,e,g,h,i=this,j=d;return a=f.call(arguments,0),(b=(c=a.$length()["$=="](1))?i["$native?"](a["$[]"](0)):c)!==!1&&b!==d?(j=a["$[]"](0),(b=(c=i.$members()).$each,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=d),b.$instance_variable_set("@"+a,b.$Native(j[a]))},e._s=i,e),b).call(c)):(b=(g=i.$members()).$each_with_index,b._p=(h=function(b,c){var e=h._s||this;return null==b&&(b=d),null==c&&(c=d),e.$instance_variable_set("@"+b,a["$[]"](c))},h._s=i,h),b).call(g)},e.$to_n=function(){var a,b,c,e=this,f=d;return f={},(a=(b=e).$each_pair,a._p=(c=function(a,b){c._s||this;return null==a&&(a=d),null==b&&(b=d),f[a]=b.$to_n()},c._s=e,c),a).call(b),f},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Array",c),c._proto);c._scope}return e.$to_n=function(){for(var a=this,b=[],c=0,d=a.length;d>c;c++){var e=a[c];b.push(e["$respond_to?"]("to_n")?e.$to_n():e)}return b},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Boolean",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a.valueOf()},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Time",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"NilClass",c),c._proto);c._scope}return e.$to_n=function(){return null},d}(b,null),function(a,b){function c(){}var e,f=(c=j(a,b,"Hash",c),c._proto),g=c._scope;return f.$initialize=e=function(a){var b=this,c=e._p,f=c||d;if(e._p=null,null!=a)if(a.constructor===Object){var h=b.map,i=b.keys;for(var j in a){var k=a[j];h[j]=k&&k.constructor===Object?g.Hash.$new(k):b.$Native(a[j]),i.push(j)}}else b.none=a;
else f!==d&&(b.proc=f);return b},f.$to_n=function(){for(var a=this,b={},c=a.keys,d=a.map,e=0,f=c.length;f>e;e++){var g=c[e],h=d[g];b[g]=h["$respond_to?"]("to_n")?h.$to_n():h}return b},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Module",c),c._proto);c._scope}return e.$native_module=function(){var a=this;return Opal.global[a.$name()]=a},d}(b,null),function(b,c){function d(){}{var e=d=j(b,c,"Class",d),f=d._proto;d._scope}return f.$native_alias=function(a,b){var c=this;return c._proto[a]=c._proto["$"+b]},a.defn(e,"$native_class",f.$native_module)}(b,null),k.$=k.global=b.$Native(Opal.global)}(Opal),function(a){var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.gvars),e=a.hash2;return d["&"]=d["~"]=d["`"]=d["'"]=c,d[":"]=[],d['"']=[],d["/"]="\n",d[","]=" ",a.cdecl(b,"ARGV",[]),a.cdecl(b,"ARGF",b.Object.$new()),a.cdecl(b,"ENV",e([],{})),d.VERBOSE=!1,d.DEBUG=!1,d.SAFE=0,a.cdecl(b,"RUBY_PLATFORM","opal"),a.cdecl(b,"RUBY_ENGINE","opal"),a.cdecl(b,"RUBY_VERSION","1.9.3"),a.cdecl(b,"RUBY_ENGINE_VERSION","0.5.5"),a.cdecl(b,"RUBY_RELEASE_DATE","2013-11-25")}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass,f=a.module;return function(b,f){function g(){}var h,i,j,k=g=e(b,f,"Set",g),l=g._proto,m=g._scope;return l.hash=c,k.$include(m.Enumerable),a.defs(k,"$[]",function(a){var b=this;return a=d.call(arguments,0),b.$new(a)}),l.$initialize=h=function(a){var b,d,e,f=this,g=h._p,i=g||c;return null==a&&(a=c),h._p=null,f.hash=m.Hash.$new(),(b=a["$nil?"]())!==!1&&b!==c?c:i!==!1&&i!==c?(b=(d=f).$do_with_enum,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$add(i["$[]"](a))},e._s=f,e),b).call(d,a):f.$merge(a)},l["$=="]=function(a){var b,d,e,f=this;return(b=f["$equal?"](a))!==!1&&b!==c?!0:(b=a["$instance_of?"](f.$class()))!==!1&&b!==c?f.hash["$=="](a.$instance_variable_get("@hash")):(d=a["$is_a?"](m.Set),(b=d!==!1&&d!==c?f.$size()["$=="](a.$size()):d)!==!1&&b!==c?(b=(d=a)["$all?"],b._p=(e=function(a){var b=e._s||this;return null==b.hash&&(b.hash=c),null==a&&(a=c),b.hash["$include?"](a)},e._s=f,e),b).call(d):!1)},l.$add=function(a){var b=this;return b.hash["$[]="](a,!0),b},a.defn(k,"$<<",l.$add),l["$add?"]=function(a){var b,d=this;return(b=d["$include?"](a))!==!1&&b!==c?c:d.$add(a)},l.$each=i=function(){var a,b,d=this,e=i._p,f=e||c;return i._p=null,f===c?d.$enum_for("each"):((a=(b=d.hash).$each_key,a._p=f.$to_proc(),a).call(b),d)},l["$empty?"]=function(){var a=this;return a.hash["$empty?"]()},l.$clear=function(){var a=this;return a.hash.$clear(),a},l["$include?"]=function(a){var b=this;return b.hash["$include?"](a)},a.defn(k,"$member?",l["$include?"]),l.$merge=function(a){var b,d,e,f=this;return(b=(d=f).$do_with_enum,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$add(a)},e._s=f,e),b).call(d,a),f},l.$do_with_enum=j=function(a){var b,d,e=j._p,f=e||c;return j._p=null,(b=(d=a).$each,b._p=f.$to_proc(),b).call(d)},l.$size=function(){var a=this;return a.hash.$size()},a.defn(k,"$length",l.$size),l.$to_a=function(){var a=this;return a.hash.$keys()},c}(b,null),function(b){var e,g=f(b,"Enumerable"),h=g._proto,i=g._scope;h.$to_set=e=function(a,b){var f,g,h=this,j=e._p,k=j||c;return b=d.call(arguments,1),null==a&&(a=i.Set),e._p=null,(f=(g=a).$new,f._p=k.$to_proc(),f).apply(g,[h].concat(b))},a.donate(g,["$to_set"])}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}{var g=f=d(b,e,"StringScanner",f),h=f._proto;f._scope}return h.pos=h.string=h.working=h.prev_pos=h.matched=h.match=c,g.$attr_reader("pos"),g.$attr_reader("matched"),h.$initialize=function(a){var b=this;return b.string=a,b.pos=0,b.matched=c,b.working=a,b.match=[]},h["$bol?"]=function(){var a=this;return 0===a.pos||"\n"===a.string.charAt(a.pos-1)},h.$scan=function(a){var b=this,a=new RegExp("^"+a.toString().substring(1,a.toString().length-1)),d=a.exec(b.working);return null==d?b.matched=c:"object"==typeof d?(b.prev_pos=b.pos,b.pos+=d[0].length,b.working=b.working.substring(d[0].length),b.matched=d[0],b.match=d,d[0]):"string"==typeof d?(b.pos+=d.length,b.working=b.working.substring(d.length),d):c},h["$[]"]=function(a){var b=this,d=b.match;return 0>a&&(a+=d.length),0>a||a>=d.length?c:d[a]},h.$check=function(a){var b=this,d=new RegExp("^"+a.toString().substring(1,a.toString().length-1)),e=d.exec(b.working);return b.matched=null==e?c:e[0]},h.$peek=function(a){var b=this;return b.working.substring(0,a)},h["$eos?"]=function(){var a=this;return 0===a.working.length},h.$skip=function(a){var b=this;a=new RegExp("^"+a.source);var d=a.exec(b.working);if(null==d)return b.matched=c;var e=d[0],f=e.length;return b.matched=e,b.prev_pos=b.pos,b.pos+=f,b.working=b.working.substring(f),f},h.$get_byte=function(){var a=this,b=c;return a.pos<a.string.length?(a.prev_pos=a.pos,a.pos+=1,b=a.matched=a.working.substring(0,1),a.working=a.working.substring(1)):a.matched=c,b},a.defn(g,"$getch",h.$get_byte),h["$pos="]=function(a){var b=this;return 0>a&&(a+=b.string.$length()),b.pos=a,b.working=b.string.slice(a)},h.$rest=function(){var a=this;return a.working},h.$terminate=function(){var a=this;return a.match=c,a["$pos="](a.string.$length())},h.$unscan=function(){var a=this;return a.pos=a.prev_pos,a.prev_pos=c,a.match=c,a},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"Dir",f),h=(f._proto,f._scope);return a.defs(g,"$pwd",function(){return"."}),a.defs(g,"$home",function(){return h.ENV["$[]"]("HOME")}),c}(b,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(a,b){function c(){}c=e(a,b,"SecurityError",c),c._proto,c._scope;return d}(b,c.Exception)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass,g=a.gvars,h=a.range;return function(b,g){function h(){}var i,j=(h=f(b,g,"Kernel",h),h._proto),k=h._scope;return j.$open=i=function(b,f){var g,h,j=i._p,l=j||c,m=c;return f=e.call(arguments,1),i._p=null,m=(g=k.File).$new.apply(g,[b].concat(f)),l!==c?(h=a.$yield1(l,m),h===d?h:h):m},c}(b,null),function(b,i){function j(){}var k,l=j=f(b,i,"File",j),m=j._proto,n=j._scope;return m.eof=m.path=c,a.cdecl(n,"SEPARATOR","/"),a.cdecl(n,"ALT_SEPARATOR",c),l.$attr_reader("eof"),l.$attr_reader("lineno"),l.$attr_reader("path"),m.$initialize=function(a,b){var d=this;return null==b&&(b="r"),d.path=a,d.contents=c,d.eof=!1,d.lineno=0},m.$read=function(){var a,b=this,d=c;return(a=b.eof)!==!1&&a!==c?"":(d=n.File.$read(b.path),b.eof=!0,b.lineno=d.$size(),d)},m.$each_line=k=function(b){var e,f=this,h=k._p,i=h||c,j=c;if(null==b&&(b=g["/"]),k._p=null,(e=f.eof)!==!1&&e!==c)return function(){return i!==c?f:[].$to_enum()}();if(i!==c){j=n.File.$read(f.path),f.eof=!1,f.lineno=0;for(var l=j.$chomp(),m=j.length!=l.length,o=l.split(b),p=0,q=o.length;q>p;p++)f.lineno+=1,q-1>p||m?(e=a.$yield1(i,o[p]+b))===d?d.$v:e:(e=a.$yield1(i,o[p]))===d?d.$v:e;return f.eof=!0,f}return f.$read().$each_line()},a.defs(l,"$expand_path",function(a){return a}),a.defs(l,"$join",function(a){return a=e.call(arguments,0),a["$*"](n.SEPARATOR)}),a.defs(l,"$basename",function(a){var b,d=c;return(b=d=a.$rindex(n.SEPARATOR))!==!1&&b!==c?a["$[]"](h(d["$+"](1),-1,!1)):a}),a.defs(l,"$dirname",function(a){var b,d=c;return(b=d=a.$rindex(n.SEPARATOR))!==!1&&b!==c?a["$[]"](h(0,d["$-"](1),!1)):"."}),a.defs(l,"$extname",function(a){var b,d=c;return(b=a["$nil_or_empty?"]())!==!1&&b!==c?"":(d=a["$[]"](h(1,-1,!1)).$rindex("."),(b=d["$nil?"]())!==!1&&b!==c?"":a["$[]"](h(d["$+"](1),-1,!1)))}),a.defs(l,"$file?",function(){return!0}),a.defs(l,"$read",function(a){var b="",c=-1;try{var d=new XMLHttpRequest;d.open("GET",a,!1),d.addEventListener("load",function(){c=this.status,(0==c||200==c)&&(b=this.responseText)}),d.overrideMimeType("text/plain"),d.send()}catch(e){c=0}if(404==c||0==c&&""==b)throw n.IOError.$new("No such file or directory: "+a);return b}),c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module;return function(b){{var g=f(b,"Asciidoctor");g._proto,g._scope}!function(b){var g,h=f(b,"Debug"),i=(h._proto,h._scope);h.show_debug=c,a.defs(h,"$debug",g=function(){var b,e=this,f=g._p,h=f||c;return g._p=null,(b=e["$show_debug_output?"]())!==!1&&b!==c?e.$warn((b=a.$yieldX(h,[]))===d?d.$v:b):c}),a.defs(h,"$set_debug",function(a){var b=this;return b.show_debug=a}),a.defs(h,"$show_debug_output?",function(){var a,b,d,e=this;return null==e.show_debug&&(e.show_debug=c),(a=e.show_debug)!==!1&&a!==c?a:(b=i.ENV["$[]"]("DEBUG")["$=="]("true"))?(d=i.ENV["$[]"]("SUPPRESS_DEBUG")["$=="]("true"),d===c||d===!1):b}),a.defs(h,"$puts_indented",function(a,b){var d,f,g,h=this,i=c;return b=e.call(arguments,1),i=" "["$*"](a)["$*"](2),(d=(f=b).$each,d._p=(g=function(a){var b,d,e,f=g._s||this;return null==a&&(a=c),(b=(d=f).$debug,b._p=(e=function(){e._s||this;return""+i+a},e._s=f,e),b).call(d)},g._s=h,g),d).call(f)})}(g)}(b)}(Opal),function(a){var b=a.top,c=(a.nil,a.breaker,a.slice,a.module);return function(b){var d=c(b,"Asciidoctor"),e=(d._proto,d._scope);a.cdecl(e,"VERSION","1.5.0.preview4")}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2,g=a.gvars;return function(b){{var h=d(b,"Asciidoctor");h._proto,h._scope}!function(b,d){function h(){}{var i=(h=e(b,d,"Timings",h),h._proto);h._scope}return i.timers=i.log=c,i.$initialize=function(){var a=this;return a.log=f([],{}),a.timers=f([],{})},i.$start=function(b){var c,d=this;return d.timers["$[]="](b,(null==(c=a.Object._scope.Time)?a.cm("Time"):c).$now())},i.$record=function(b){var c,d=this;return d.log["$[]="](b,(null==(c=a.Object._scope.Time)?a.cm("Time"):c).$now()["$-"](d.timers.$delete(b)))},i.$read_parse=function(){var a,b=this,d=c;return(d=((a=b.log["$[]"]("read"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("parse"))!==!1&&a!==c?a:0))["$>"](0)?d:c},i.$convert=function(){var a=this;return a.log["$[]"]("convert")},i.$read_parse_convert=function(){var a,b=this,d=c;return(d=((a=b.log["$[]"]("read"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("parse"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("convert"))!==!1&&a!==c?a:0))["$>"](0)?d:c},i.$total=function(){var a,b=this,d=c;return(d=((a=b.log["$[]"]("read"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("parse"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("convert"))!==!1&&a!==c?a:0)["$+"]((a=b.log["$[]"]("write"))!==!1&&a!==c?a:0))["$>"](0)?d:c},i.$print_report=function(a,b){var d=this;return null==a&&(a=g.stdout),null==b&&(b=c),b!==!1&&b!==c&&a.$puts("Input file: "+b),a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](d.$read_parse())),a.$puts("  Time to convert document: "+"%05.5f"["$%"](d.$convert())),a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](d.$read_parse_convert()))},c}(h,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}{var g,h=f=d(b,e,"NilClass",f),i=f._proto;f._scope}return(g=h["$respond_to?"]("nil_or_empty?"))!==!1&&g!==c?c:a.defn(h,"$nil_or_empty?",i["$nil?"])}(b,null),function(b,e){function f(){}{var g,h=f=d(b,e,"String",f),i=f._proto;f._scope}return(g=h["$respond_to?"]("nil_or_empty?"))!==!1&&g!==c?c:a.defn(h,"$nil_or_empty?",i["$empty?"])}(b,null),function(b,e){function f(){}{var g,h=f=d(b,e,"Array",f),i=f._proto;f._scope}return(g=h["$respond_to?"]("nil_or_empty?"))!==!1&&g!==c?c:a.defn(h,"$nil_or_empty?",i["$empty?"])}(b,null),function(b,e){function f(){}{var g,h=f=d(b,e,"Hash",f),i=f._proto;f._scope}return(g=h["$respond_to?"]("nil_or_empty?"))!==!1&&g!==c?c:a.defn(h,"$nil_or_empty?",i["$empty?"])}(b,null),function(b,e){function f(){}{var g,h=f=d(b,e,"Numeric",f),i=f._proto;f._scope}return(g=h["$respond_to?"]("nil_or_empty?"))!==!1&&g!==c?c:a.defn(h,"$nil_or_empty?",i["$nil?"])}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass),e=a.range;return function(a,b){function f(){}{var g,h=f=d(a,b,"String",f),i=f._proto;f._scope}return(g=h["$respond_to?"]("chr"))!==!1&&g!==c?c:(i.$chr=function(){var a=this;return a["$[]"](e(0,0,!1))},c)}(b,null)}(Opal),function(a){{var b,c=(a.top,a.nil);a.breaker,a.slice}return(null==(b=a.Object._scope.RUBY_VERSION)?a.cm("RUBY_VERSION"):b)["$>="]("1.9")?c:!0}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.range,f=a.gvars;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b){var g=d(b,"Helpers"),h=(g._proto,g._scope);a.defs(g,"$require_library",function(b,d){var e,f=this,g=c;null==d&&(d=!0);try{return!0}catch(h){if((null==(e=a.Object._scope.LoadError)?a.cm("LoadError"):e)["$==="](h))return g=h,f.$fail(d!==!1&&d!==c?"asciidoctor: FAILED: required gem '"+function(){return d["$=="](!0)?b:d}()+"' is not installed. Processing aborted.":"asciidoctor: FAILED: "+g.$message().$chomp(".")+". Processing aborted.");throw h}}),a.defs(g,"$normalize_lines",function(b){var c,d=this;return b.$class()["$=="](null==(c=a.Object._scope.String)?a.cm("String"):c)?d.$normalize_lines_from_string(b):d.$normalize_lines_array(b)}),a.defs(g,"$normalize_lines_array",function(b){var d,f,g,i,j,k,l,m,n,o=this,p=c,q=c,r=c,s=c;return(d=b["$empty?"]())!==!1&&d!==c?[]:(p=(q=b["$[]"](0))["$[]"](e(0,2,!1)).$bytes().$to_a(),(d=h.COERCE_ENCODING)!==!1&&d!==c?(r=(null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_8,(s=p["$[]"](e(0,1,!1)))["$=="](h.BOM_BYTES_UTF_16LE)?(d=(f=b.$join().$force_encoding((null==(i=a.Object._scope.Encoding)?a.cm("Encoding"):i)._scope.UTF_16LE)["$[]"](e(1,-1,!1)).$encode(r).$lines()).$map,d._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$rstrip()},g._s=o,g),d).call(f):s["$=="](h.BOM_BYTES_UTF_16BE)?(b["$[]="](0,q.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16BE)["$[]"](e(1,-1,!1))),(d=(i=b).$map,d._p=(j=function(b){{var d;j._s||this}return null==b&&(b=c),""+b.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16BE).$encode(r).$rstrip()},j._s=o,j),d).call(i)):(p["$[]"](e(0,2,!1))["$=="](h.BOM_BYTES_UTF_8)&&b["$[]="](0,q.$force_encoding(r)["$[]"](e(1,-1,!1))),(d=(k=b).$map,d._p=(l=function(a){l._s||this;return null==a&&(a=c),a.$encoding()["$=="](r)?a.$rstrip():a.$force_encoding(r).$rstrip()},l._s=o,l),d).call(k))):(p["$=="](h.BOM_BYTES_UTF_8)&&b["$[]="](0,q["$[]"](e(3,-1,!1))),(d=(m=b).$map,d._p=(n=function(a){n._s||this;return null==a&&(a=c),a.$rstrip()},n._s=o,n),d).call(m)))}),a.defs(g,"$normalize_lines_from_string",function(b){var d,f,g,i=this,j=c,k=c,l=c;return(d=b["$nil_or_empty?"]())!==!1&&d!==c?[]:((d=h.COERCE_ENCODING)!==!1&&d!==c?(j=(null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_8,k=b["$[]"](e(0,2,!1)).$bytes().$to_a(),(l=k["$[]"](e(0,1,!1)))["$=="](h.BOM_BYTES_UTF_16LE)?b=b.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16LE)["$[]"](e(1,-1,!1)).$encode(j):l["$=="](h.BOM_BYTES_UTF_16BE)?b=b.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16BE)["$[]"](e(1,-1,!1)).$encode(j):k["$[]"](e(0,2,!1))["$=="](h.BOM_BYTES_UTF_8)?b=function(){return b.$encoding()["$=="](j)?b["$[]"](e(1,-1,!1)):b.$force_encoding(j)["$[]"](e(1,-1,!1))}():((d=b.$encoding()["$=="](j))===!1||d===c)&&(b=b.$force_encoding(j))):b["$[]"](e(0,2,!1)).$bytes().$to_a()["$=="](h.BOM_BYTES_UTF_8)&&(b=b["$[]"](e(3,-1,!1))),(d=(f=b.$each_line()).$map,d._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$rstrip()},g._s=i,g),d).call(f))}),a.cdecl(h,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/),a.defs(g,"$encode_uri",function(a){var b,d,e,g=this;return(b=(d=a).$gsub,b._p=(e=function(){var a,b,d,g=e._s||this;return(a=(b=f["&"].$each_byte()).$map,a._p=(d=function(a){var b=d._s||this;return null==a&&(a=c),b.$sprintf("%%%02X",a)},d._s=g,d),a).call(b).$join()},e._s=g,e),b).call(d,h.REGEXP_ENCODE_URI_CHARS)}),a.defs(g,"$rootname",function(b){var d,f,g=c;return(d=(g=(null==(f=a.Object._scope.File)?a.cm("File"):f).$extname(b))["$empty?"]())!==!1&&d!==c?b:b["$[]"](e(0,g.$length()["$-@"](),!0))}),a.defs(g,"$mkdir_p",function(b){var d,e,f,g,h=this,i=c;return(d=(null==(e=a.Object._scope.File)?a.cm("File"):e)["$directory?"](b))!==!1&&d!==c?c:(i=(null==(d=a.Object._scope.File)?a.cm("File"):d).$dirname(b),f=(null==(g=a.Object._scope.File)?a.cm("File"):g)["$directory?"](i=(null==(g=a.Object._scope.File)?a.cm("File"):g).$dirname(b)),e=f===c||f===!1,(d=e!==!1&&e!==c?(f=i["$=="]("."),f===c||f===!1):e)!==!1&&d!==c&&h.$mkdir_p(i),(null==(d=a.Object._scope.Dir)?a.cm("Dir"):d).$mkdir(b))})}(g)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.hash2,h=a.gvars,i=a.range;return function(b){{var j=f(b,"Asciidoctor");j._proto,j._scope}!function(b){var j,k=f(b,"Substitutors"),l=k._proto,m=k._scope;a.cdecl(m,"SPECIAL_CHARS",g(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"})),a.cdecl(m,"SPECIAL_CHARS_PATTERN",new RegExp("["+m.SPECIAL_CHARS.$keys().$join()+"]")),a.cdecl(m,"SUBS",g(["basic","normal","verbatim","title","header","pass"],{basic:["specialcharacters"],normal:["specialcharacters","quotes","attributes","replacements","macros","post_replacements"],verbatim:["specialcharacters","callouts"],title:["specialcharacters","quotes","replacements","macros","attributes","post_replacements"],header:["specialcharacters","attributes"],pass:[]})),a.cdecl(m,"COMPOSITE_SUBS",g(["none","normal","verbatim","specialchars"],{none:[],normal:m.SUBS["$[]"]("normal"),verbatim:m.SUBS["$[]"]("verbatim"),specialchars:["specialcharacters"]})),a.cdecl(m,"SUB_SYMBOLS",g(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),a.cdecl(m,"SUB_OPTIONS",g(["block","inline"],{block:m.COMPOSITE_SUBS.$keys()["$+"](m.SUBS["$[]"]("normal"))["$+"](["callouts"]),inline:m.COMPOSITE_SUBS.$keys()["$+"](m.SUBS["$[]"]("normal"))})),a.cdecl(m,"PASS_START",function(){return(null==(j=a.Object._scope.RUBY_ENGINE)?a.cm("RUBY_ENGINE"):j)["$=="]("opal")?150..$chr():"u0096"}()),a.cdecl(m,"PASS_END",function(){return(null==(j=a.Object._scope.RUBY_ENGINE)?a.cm("RUBY_ENGINE"):j)["$=="]("opal")?151..$chr():"u0097"}()),a.cdecl(m,"PASS_MATCH",/\u0096(\d+)\u0097/),a.cdecl(m,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/),k.$attr_reader("passthroughs"),l.$apply_subs=function(b,d,e){var f,g,h,i,j,k=this,l=c,n=c,o=c,p=c;return null==d&&(d="normal"),null==e&&(e=!1),g=d,(f=g===c||g===!1)!=!1&&f!==c?b:(d["$=="]("normal")?d=m.SUBS["$[]"]("normal"):e!==!1&&e!==c&&((f=d["$is_a?"](null==(g=a.Object._scope.Symbol)?a.cm("Symbol"):g))!==!1&&f!==c?d=(f=m.COMPOSITE_SUBS["$[]"](d))!==!1&&f!==c?f:[d]:(l=[],(f=(g=d).$each,f._p=(h=function(a){{var b;h._s||this}return null==a&&(a=c),(b=m.COMPOSITE_SUBS["$has_key?"](a))!==!1&&b!==c?l=l["$+"](m.COMPOSITE_SUBS["$[]"](a)):l["$<<"](a)},h._s=k,h),f).call(g),d=l)),(f=d["$empty?"]())!==!1&&f!==c?b:(n=function(){return(f=o=b["$is_a?"](null==(i=a.Object._scope.Array)?a.cm("Array"):i))!==!1&&f!==c?b["$*"](m.EOL):b}(),(f=p=d["$include?"]("macros"))!==!1&&f!==c&&(n=k.$extract_passthroughs(n)),(f=(i=d).$each,f._p=(j=function(a){var b,e=j._s||this,f=c;return null==a&&(a=c),function(){return f=a,"specialcharacters"["$==="](f)?n=e.$sub_specialcharacters(n):"quotes"["$==="](f)?n=e.$sub_quotes(n):"attributes"["$==="](f)?n=e.$sub_attributes(n.$split(m.EOL))["$*"](m.EOL):"replacements"["$==="](f)?n=e.$sub_replacements(n):"macros"["$==="](f)?n=e.$sub_macros(n):"highlight"["$==="](f)?n=e.$highlight_source(n,d["$include?"]("callouts")):"callouts"["$==="](f)?(b=d["$include?"]("highlight"))!==!1&&b!==c?c:n=e.$sub_callouts(n):"post_replacements"["$==="](f)?n=e.$sub_post_replacements(n):e.$warn("asciidoctor: WARNING: unknown substitution type "+a)}()},j._s=k,j),f).call(i),p!==!1&&p!==c&&(n=k.$restore_passthroughs(n)),o!==!1&&o!==c?n.$split(m.EOL):n))},l.$apply_normal_subs=function(b){var d,e,f=this;return f.$apply_subs(function(){return(d=b["$is_a?"](null==(e=a.Object._scope.Array)?a.cm("Array"):e))!==!1&&d!==c?b["$*"](m.EOL):b}())},l.$apply_title_subs=function(a){var b=this;return b.$apply_subs(a,m.SUBS["$[]"]("title"))},l.$apply_header_subs=function(a){var b=this;return b.$apply_subs(a,m.SUBS["$[]"]("header"))},l.$extract_passthroughs=function(a){var b,d,e,f,j,k,l,n=this;return(b=(d=(e=a["$include?"]("++"))!==!1&&e!==c?e:a["$include?"]("$$"))!==!1&&d!==c?d:a["$include?"]("ss:"))!==!1&&b!==c&&(a=(b=(d=a).$gsub,b._p=(f=function(){var b,d=f._s||this,e=c,j=c,k=c;return null==d.passthroughs&&(d.passthroughs=c),e=h["~"],(b=e["$[]"](0)["$start_with?"]("\\"))!==!1&&b!==c?e["$[]"](0)["$[]"](i(1,-1,!1)):((b=e["$[]"](4))!==!1&&b!==c?(a=d.$unescape_brackets(e["$[]"](4)),j=(b=e["$[]"](3)["$nil_or_empty?"]())!==!1&&b!==c?[]:d.$resolve_pass_subs(e["$[]"](3))):(a=e["$[]"](2),j=function(){return e["$[]"](1)["$=="]("$$")?["specialcharacters"]:[]}()),d.passthroughs["$<<"](g(["text","subs"],{text:a,subs:j})),k=d.passthroughs.$size()["$-"](1),""+m.PASS_START+k+m.PASS_END)},f._s=n,f),b).call(d,m.PassInlineMacroRx)),(b=a["$include?"]("`"))!==!1&&b!==c&&(a=(b=(e=a).$gsub,b._p=(j=function(){var a,b,d,e=j._s||this,f=c,k=c,l=c,n=c;return null==e.passthroughs&&(e.passthroughs=c),f=h["~"],k=c,(a=f["$[]"](3)["$start_with?"]("\\"))!==!1&&a!==c?function(){return(a=f["$[]"](2))!==!1&&a!==c?""+f["$[]"](1)+"["+f["$[]"](2)+"]"+f["$[]"](3)["$[]"](i(1,-1,!1)):""+f["$[]"](1)+f["$[]"](3)["$[]"](i(1,-1,!1))}():((a=(b=f["$[]"](1)["$=="]("\\"))?f["$[]"](2):b)!==!1&&a!==c&&(k="["+f["$[]"](2)+"]"),d=k,b=d===c||d===!1,l=(a=b!==!1&&b!==c?f["$[]"](2):b)!==!1&&a!==c?e.$parse_attributes(f["$[]"](2)):c,e.passthroughs["$<<"](g(["text","subs","attributes","type"],{text:f["$[]"](4),subs:["specialcharacters"],attributes:l,type:"monospaced"})),n=e.passthroughs.$size()["$-"](1),""+((a=k)!==!1&&a!==c?a:f["$[]"](1))+m.PASS_START+n+m.PASS_END)},j._s=n,j),b).call(e,m.PassInlineLiteralRx)),(b=a["$include?"]("math:"))!==!1&&b!==c&&(a=(b=(k=a).$gsub,b._p=(l=function(){var b,d=l._s||this,e=c,f=c,j=c,k=c,n=c;return null==d.document&&(d.document=c),null==d.passthroughs&&(d.passthroughs=c),e=h["~"],(b=e["$[]"](0)["$start_with?"]("\\"))!==!1&&b!==c?e["$[]"](0)["$[]"](i(1,-1,!1)):(f=e["$[]"](1).$to_sym(),f["$=="]("math")&&(f=function(){return(b=(j=d.$document().$attributes()["$[]"]("math"))["$nil_or_empty?"]())!==!1&&b!==c?"asciimath":j}().$to_sym()),a=d.$unescape_brackets(e["$[]"](3)),k=(b=e["$[]"](2)["$nil_or_empty?"]())!==!1&&b!==c?function(){return(b=d.document["$basebackend?"]("html"))!==!1&&b!==c?["specialcharacters"]:[]}():d.$resolve_pass_subs(e["$[]"](2)),d.passthroughs["$<<"](g(["text","subs","type"],{text:a,subs:k,type:f})),n=d.passthroughs.$size()["$-"](1),""+m.PASS_START+n+m.PASS_END)},l._s=n,l),b).call(k,m.MathInlineMacroRx)),a},l.$restore_passthroughs=function(a){var b,d,e,f,i=this;return null==i.passthroughs&&(i.passthroughs=c),(b=(d=i.passthroughs["$nil_or_empty?"]())!==!1&&d!==c?d:(e=a["$include?"](m.PASS_START),e===c||e===!1))!==!1&&b!==c?a:(b=(d=a).$gsub,b._p=(f=function(){var a,b=f._s||this,d=c,e=c,i=c,j=c;return null==b.passthroughs&&(b.passthroughs=c),d=b.passthroughs["$[]"](h["~"]["$[]"](1).$to_i()),e=function(){return(a=i=d["$[]"]("subs"))!==!1&&a!==c?b.$apply_subs(d["$[]"]("text"),i):d["$[]"]("text")}(),(a=j=d["$[]"]("type"))!==!1&&a!==c?m.Inline.$new(b,"quoted",e,g(["type","attributes"],{type:j,attributes:d["$[]"]("attributes")})).$convert():e},f._s=i,f),b).call(d,m.PASS_MATCH)},l.$sub_specialcharacters=function(a){var b,d,e,f=this;return(b=m.SUPPORTS_GSUB_RESULT_HASH)!==!1&&b!==c?a.$gsub(m.SPECIAL_CHARS_PATTERN,m.SPECIAL_CHARS):(b=(d=a).$gsub,b._p=(e=function(){e._s||this;return m.SPECIAL_CHARS["$[]"](h["&"])},e._s=f,e),b).call(d,m.SPECIAL_CHARS_PATTERN)},a.defn(k,"$sub_specialchars",l.$sub_specialcharacters),l.$sub_quotes=function(b){var d,e,f,g,i,j=this,k=c;return(d=null==(e=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):e)!==!1&&d!==c?(k=b,(d=(e=m.QUOTE_SUBS).$each,d._p=(f=function(a,b,d){var e,g,i,j=f._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),k=(e=(g=k).$gsub,e._p=(i=function(){var c=i._s||this;return c.$convert_quoted_text(h["~"],a,b)},i._s=j,i),e).call(g,d)},f._s=j,f),d).call(e)):(k=""+b,(d=(g=m.QUOTE_SUBS).$each,d._p=(i=function(a,b,d){var e,f,g,j=i._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),(e=(f=k)["$gsub!"],e._p=(g=function(){var c=g._s||this;return c.$convert_quoted_text(h["~"],a,b)},g._s=j,g),e).call(f,d)},i._s=j,i),d).call(g)),k},l.$sub_replacements=function(b){var d,e,f,g,i,j=this,k=c;return(d=null==(e=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):e)!==!1&&d!==c?(k=b,(d=(e=m.REPLACEMENTS).$each,d._p=(f=function(a,b,d){var e,g,i,j=f._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),k=(e=(g=k).$gsub,e._p=(i=function(){var a=i._s||this;return a.$do_replacement(h["~"],b,d)},i._s=j,i),e).call(g,a)},f._s=j,f),d).call(e)):(k=""+b,(d=(g=m.REPLACEMENTS).$each,d._p=(i=function(a,b,d){var e,f,g,j=i._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),(e=(f=k)["$gsub!"],e._p=(g=function(){var a=g._s||this;return a.$do_replacement(h["~"],b,d)},g._s=j,g),e).call(f,a)},i._s=j,i),d).call(g)),k},l.$do_replacement=function(a,b,d){var e,f=c,g=c;return(e=(f=a["$[]"](0))["$include?"]("\\"))!==!1&&e!==c?f.$tr("\\",""):function(){return g=d,"none"["$==="](g)?b:"leading"["$==="](g)?""+a["$[]"](1)+b:"bounding"["$==="](g)?""+a["$[]"](1)+b+a["$[]"](2):c}()},l.$sub_attributes=function(b,e){var f,j,k,l=this,n=c,o=c,p=c;return null==e&&(e=g([],{})),(f=b["$nil_or_empty?"]())!==!1&&f!==c?b:(n=b["$is_a?"](null==(f=a.Object._scope.String)?a.cm("String"):f),o=function(){return n!==!1&&n!==c?[b]:b}(),p=[],(f=(j=o).$each,f._p=(k=function(b){var f,g,j,l,n,o=k._s||this,q=c,r=c;return null==b&&(b=c),q=!1,r=!1,(f=b["$include?"]("{"))!==!1&&f!==c&&(b=(f=(g=b).$gsub,f._p=(j=function(){var b,f,g,k,l,n=j._s||this,o=c,p=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c;return null==n.document&&(n.document=c),o=h["~"],(b=(f=o["$[]"](1)["$=="]("\\"))!==!1&&f!==c?f:o["$[]"](4)["$=="]("\\"))!==!1&&b!==c?"{"+o["$[]"](2)+"}":(f=o["$[]"](3)["$nil_or_empty?"](),(b=f===c||f===!1)!=!1&&b!==c?(p=(s=o["$[]"](3)).$length()["$+"](1),t=o["$[]"](2)["$[]"](i(p,-1,!1)),function(){return u=s,"set"["$==="](u)?(v=t.$split(":"),b=a.to_ary(m.Parser.$store_attribute(v["$[]"](0),(f=v["$[]"](1))!==!1&&f!==c?f:"",n.document)),w=null==b[0]?c:b[0],x=null==b[1]?c:b[1],(b=x)!==!1&&b!==c||!n.document.$attributes().$fetch("attribute-undefined",m.Compliance.$attribute_undefined())["$=="]("drop-line")?(r=!0,""):((b=(f=m.Debug).$debug,b._p=(g=function(){var a=g._s||this;return"Undefining attribute: "+a.$key()+", line marked for removal"},g._s=n,g),b).call(f),q=!0,d.$v="",d)):"counter"["$==="](u)||"counter2"["$==="](u)?(v=t.$split(":"),y=n.document.$counter(v["$[]"](0),v["$[]"](1)),s["$=="]("counter2")?(r=!0,""):y):(n.$warn("asciidoctor: WARNING: illegal attribute directive: "+o["$[]"](3)),o["$[]"](0))}()):(k=z=o["$[]"](2).$downcase(),(b=k!==!1&&k!==c?n.document.$attributes()["$has_key?"](z):k)!==!1&&b!==c?n.document.$attributes()["$[]"](z):(b=m.INTRINSIC_ATTRIBUTES["$has_key?"](z))!==!1&&b!==c?m.INTRINSIC_ATTRIBUTES["$[]"](z):function(){return u=(b=e["$[]"]("attribute_missing"))!==!1&&b!==c?b:n.document.$attributes().$fetch("attribute-missing",m.Compliance.$attribute_missing()),"skip"["$==="](u)?o["$[]"](0):"drop-line"["$==="](u)?((b=(k=m.Debug).$debug,b._p=(l=function(){l._s||this;return"Missing attribute: "+z+", line marked for removal"},l._s=n,l),b).call(k),q=!0,d.$v="",d):(r=!0,"")}()))},j._s=o,j),f).call(g,m.AttributeReferenceRx)),(f=(l=q)!==!1&&l!==c?l:(n=r!==!1&&r!==c)?b["$empty?"]():n)!==!1&&f!==c?c:p["$<<"](b)},k._s=l,k),f).call(j),n!==!1&&n!==c?p["$*"](m.EOL):p)},l.$sub_macros=function(b){var d,f,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=this,E=c,F=c,G=c,H=c,I=c,J=c;return null==D.document&&(D.document=c),(d=b["$nil_or_empty?"]())!==!1&&d!==c?b:(E=g([],{}),E["$[]="]("square_bracket",b["$include?"]("[")),E["$[]="]("round_bracket",b["$include?"]("(")),E["$[]="]("colon",F=b["$include?"](":")),E["$[]="]("macroish",(d=E["$[]"]("square_bracket"),d!==!1&&d!==c?F:d)),E["$[]="]("macroish_short_form",(f=E["$[]"]("square_bracket"),d=f!==!1&&f!==c?F:f,d!==!1&&d!==c?b["$include?"](":["):d)),G=D.document.$attributes()["$has_key?"]("linkattrs"),H=D.document.$attributes()["$has_key?"]("experimental"),I=""+b,H!==!1&&H!==c&&(f=E["$[]"]("macroish_short_form"),(d=f!==!1&&f!==c?(j=I["$include?"]("kbd:"))!==!1&&j!==c?j:I["$include?"]("btn:"):f)!==!1&&d!==c&&(I=(d=(f=I).$gsub,d._p=(k=function(){var a,b,d,e=k._s||this,f=c,j=c,l=c,n=c;return f=h["~"],(a=(j=f["$[]"](0))["$start_with?"]("\\"))!==!1&&a!==c?j["$[]"](i(1,-1,!1)):(a=j["$start_with?"]("kbd"))!==!1&&a!==c?(l=e.$unescape_bracketed_text(f["$[]"](1)),l=l["$=="]("+")?["+"]:(a=(b=l.$split(m.KbdDelimiterRx)).$opalInject,a._p=(d=function(a,b){{var e;d._s||this}return null==a&&(a=c),null==b&&(b=c),(e=b["$end_with?"]("++"))!==!1&&e!==c?(a["$<<"](b["$[]"](i(0,-3,!1)).$strip()),a["$<<"]("+")):a["$<<"](b.$strip()),a},d._s=e,d),a).call(b,[]),m.Inline.$new(e,"kbd",c,g(["attributes"],{attributes:g(["keys"],{keys:l})})).$convert()):(a=j["$start_with?"]("btn"))!==!1&&a!==c?(n=e.$unescape_bracketed_text(f["$[]"](1)),m.Inline.$new(e,"button",n).$convert()):c},k._s=D,k),d).call(f,m.KbdBtnInlineMacroRx)),j=E["$[]"]("macroish"),(d=j!==!1&&j!==c?I["$include?"]("menu:"):j)!==!1&&d!==c&&(I=(d=(j=I).$gsub,d._p=(l=function(){var a,b,d,e=l._s||this,f=c,j=c,k=c,n=c,o=c,p=c,q=c;return f=h["~"],(a=(j=f["$[]"](0))["$start_with?"]("\\"))!==!1&&a!==c?j["$[]"](i(1,-1,!1)):(k=f["$[]"](1),n=f["$[]"](2),b=n,(a=b===c||b===!1)!=!1&&a!==c?(o=[],p=c):(a=q=function(){return(b=n["$include?"]("&gt;"))!==!1&&b!==c?"&gt;":function(){return(b=n["$include?"](","))!==!1&&b!==c?",":c}()}())!==!1&&a!==c?(o=(a=(b=n.$split(q)).$map,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$strip()},d._s=e,d),a).call(b),p=o.$pop()):(o=[],p=n.$rstrip()),m.Inline.$new(e,"menu",c,g(["attributes"],{attributes:g(["menu","submenus","menuitem"],{menu:k,submenus:o,menuitem:p})})).$convert())},l._s=D,l),d).call(j,m.MenuInlineMacroRx)),n=I["$include?"]('"'),(d=n!==!1&&n!==c?I["$include?"]("&gt;"):n)!==!1&&d!==c&&(I=(d=(n=I).$gsub,d._p=(o=function(){var b,d,f,j,k=o._s||this,l=c,n=c,p=c,q=c,r=c,s=c;return l=h["~"],(b=(n=l["$[]"](0))["$start_with?"]("\\"))!==!1&&b!==c?n["$[]"](i(1,-1,!1)):(p=l["$[]"](1),b=a.to_ary((d=(f=p.$split("&gt;")).$map,d._p=(j=function(a){j._s||this;return null==a&&(a=c),a.$strip()},j._s=k,j),d).call(f)),q=null==b[0]?c:b[0],r=e.call(b,1),s=r.$pop(),m.Inline.$new(k,"menu",c,g(["attributes"],{attributes:g(["menu","submenus","menuitem"],{menu:q,submenus:r,menuitem:s})})).$convert())},o._s=D,o),d).call(n,m.MenuInlineRx))),p=J=D.document.$extensions(),(d=p!==!1&&p!==c?J["$inline_macros?"]():p)!==!1&&d!==c&&(d=(p=J.$inline_macros()).$each,d._p=(q=function(a){var b,d,e,f=q._s||this;return null==a&&(a=c),I=(b=(d=I).$gsub,b._p=(e=function(){var b,d=e._s||this,f=c,j=c,k=c;return f=h["~"],(b=f["$[]"](0)["$start_with?"]("\\"))!==!1&&b!==c?f["$[]"](0)["$[]"](i(1,-1,!1)):(j=f["$[]"](1),k=function(){return a.$config()["$[]"]("format")["$=="]("short")?g([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?d.$parse_attributes(f["$[]"](2),(b=a.$config()["$[]"]("pos_attrs"))!==!1&&b!==c?b:[],g(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):g(["text"],{text:d.$unescape_bracketed_text(f["$[]"](2))})}(),a.$process_method()["$[]"](d,j,k))},e._s=f,e),b).call(d,a.$config()["$[]"]("regexp"))},q._s=D,q),d).call(p),r=E["$[]"]("macroish"),(d=r!==!1&&r!==c?(s=I["$include?"]("image:"))!==!1&&s!==c?s:I["$include?"]("icon:"):r)!==!1&&d!==c&&(I=(d=(r=I).$gsub,d._p=(t=function(){var a,b,d,e=t._s||this,f=c,j=c,k=c,l=c,n=c,o=c;return null==e.document&&(e.document=c),f=h["~"],(a=f["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?f["$[]"](0)["$[]"](i(1,-1,!1)):(j=e.$unescape_bracketed_text(f["$[]"](2)),(a=f["$[]"](0)["$start_with?"]("icon:"))!==!1&&a!==c?(k="icon",l=["size"]):(k="image",l=["alt","width","height"]),n=e.$sub_attributes(f["$[]"](1)),((a=k["$=="]("icon"))===!1||a===c)&&e.document.$register("images",n),o=e.$parse_attributes(j,l),a="alt",b=o,(d=b["$[]"](a))!==!1&&d!==c?d:b["$[]="](a,m.File.$basename(n,m.File.$extname(n))),m.Inline.$new(e,"image",c,g(["type","target","attributes"],{type:k,target:n,attributes:o})).$convert())
},t._s=D,t),d).call(r,m.ImageInlineMacroRx)),(d=(s=E["$[]"]("macroish_short_form"))!==!1&&s!==c?s:E["$[]"]("round_bracket"))!==!1&&d!==c&&(I=(d=(s=I).$gsub,d._p=(u=function(){var a,b,d=u._s||this,e=c,f=c,j=c,k=c,l=c,n=c;return null==d.document&&(d.document=c),e=h["~"],(a=e["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?e["$[]"](0)["$[]"](i(1,-1,!1)):(f=0,j=c,((a=k=e["$[]"](1))===!1||a===c)&&(j=e["$[]"](3),b=j["$start_with?"]("("),(a=b!==!1&&b!==c?j["$end_with?"](")"):b)!==!1&&a!==c?(j=j["$[]"](i(1,-1,!0)),f=3):f=2),(a=(b=k["$=="]("indexterm"))!==!1&&b!==c?b:f["$=="](3))!==!1&&a!==c?(b=k,l=d.$split_simple_csv((a=b===c||b===!1)!=!1&&a!==c?d.$normalize_string(j):d.$normalize_string(e["$[]"](2),!0)),d.document.$register("indexterms",[].concat(l)),m.Inline.$new(d,"indexterm",c,g(["attributes"],{attributes:g(["terms"],{terms:l})})).$convert()):(b=k,n=(a=b===c||b===!1)!=!1&&a!==c?d.$normalize_string(j):d.$normalize_string(e["$[]"](2),!0),d.document.$register("indexterms",[n]),m.Inline.$new(d,"indexterm",n,g(["type"],{type:"visible"})).$convert()))},u._s=D,u),d).call(s,m.IndextermInlineMacroRx)),(d=(v=F!==!1&&F!==c)?I["$include?"]("://"):v)!==!1&&d!==c&&(I=(d=(v=I).$gsub,d._p=(w=function(){var a,b,d,e=w._s||this,f=c,j=c,k=c,l=c,n=c,o=c,p=c;return null==e.document&&(e.document=c),f=h["~"],(a=f["$[]"](2)["$start_with?"]("\\"))!==!1&&a!==c?""+f["$[]"](1)+f["$[]"](2)["$[]"](i(1,-1,!1))+f["$[]"](3):(a=(b=f["$[]"](1)["$=="]("link:"))?(d=f["$[]"](3),d===c||d===!1):b)!==!1&&a!==c?f["$[]"](0):(j=function(){return b=f["$[]"](1)["$=="]("link:"),(a=b===c||b===!1)!=!1&&a!==c?f["$[]"](1):""}(),k=f["$[]"](2),l="",((a=(b=f["$[]"](3))!==!1&&b!==c?b:(d=k["$=~"](m.UriTerminator),d===c||d===!1))===!1||a===c)&&(n=h["~"]["$[]"](0),")"["$==="](n)?(k=k["$[]"](i(0,-2,!1)),l=")"):";"["$==="](n)?(b=j["$start_with?"]("&lt;"),(a=b!==!1&&b!==c?k["$end_with?"]("&gt;"):b)!==!1&&a!==c?(j=j["$[]"](i(4,-1,!1)),k=k["$[]"](i(0,-5,!1))):(a=k["$end_with?"](");"))!==!1&&a!==c?(k=k["$[]"](i(0,-3,!1)),l=");"):(k=k["$[]"](i(0,-2,!1)),l=";")):":"["$==="](n)&&((a=k["$end_with?"]("):"))!==!1&&a!==c?(k=k["$[]"](i(0,-3,!1)),l="):"):(k=k["$[]"](i(0,-2,!1)),l=":"))),e.document.$register("links",k),o=c,b=f["$[]"](3)["$nil_or_empty?"](),(a=b===c||b===!1)!=!1&&a!==c?((a=(b=G!==!1&&G!==c)?(d=f["$[]"](3)["$start_with?"]('"'))!==!1&&d!==c?d:f["$[]"](3)["$include?"](","):b)!==!1&&a!==c?(o=e.$parse_attributes(e.$sub_attributes(f["$[]"](3).$gsub("]","]")),[]),p=o["$[]"](1)):p=e.$sub_attributes(f["$[]"](3).$gsub("]","]")),(a=p["$end_with?"]("^"))!==!1&&a!==c&&(p=p.$chop(),(a=o)!==!1&&a!==c?a:o=g([],{}),((a=o["$has_key?"]("window"))===!1||a===c)&&o["$[]="]("window","_blank"))):p="",(a=p["$empty?"]())!==!1&&a!==c&&(p=(a=e.document["$attr?"]("hide-uri-scheme"))!==!1&&a!==c?k.$sub(m.UriSniffRx,""):k),""+j+m.Inline.$new(e,"anchor",p,g(["type","target","attributes"],{type:"link",target:k,attributes:o})).$convert()+l)},w._s=D,w),d).call(v,m.LinkInlineRx)),y=E["$[]"]("macroish"),(d=(x=y!==!1&&y!==c?I["$include?"]("link:"):y)!==!1&&x!==c?x:I["$include?"]("mailto:"))!==!1&&d!==c&&(I=(d=(x=I).$gsub,d._p=(z=function(){var a,b,d,e=z._s||this,f=c,j=c,k=c,l=c,n=c,o=c;return null==e.document&&(e.document=c),f=h["~"],(a=f["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?f["$[]"](0)["$[]"](i(1,-1,!1)):(j=f["$[]"](1),k=f["$[]"](0)["$start_with?"]("mailto:"),l=function(){return k!==!1&&k!==c?"mailto:"+j:j}(),n=c,(a=(b=G!==!1&&G!==c)?(d=f["$[]"](2)["$start_with?"]('"'))!==!1&&d!==c?d:f["$[]"](2)["$include?"](","):b)!==!1&&a!==c?(n=e.$parse_attributes(e.$sub_attributes(f["$[]"](2).$gsub("]","]")),[]),o=n["$[]"](1),k!==!1&&k!==c&&(a=n["$has_key?"](2))!==!1&&a!==c&&(l=""+l+"?subject="+m.Helpers.$encode_uri(n["$[]"](2)),(a=n["$has_key?"](3))!==!1&&a!==c&&(l=""+l+"&amp;body="+m.Helpers.$encode_uri(n["$[]"](3))))):o=e.$sub_attributes(f["$[]"](2).$gsub("]","]")),(a=o["$end_with?"]("^"))!==!1&&a!==c&&(o=o.$chop(),(a=n)!==!1&&a!==c?a:n=g([],{}),((a=n["$has_key?"]("window"))===!1||a===c)&&n["$[]="]("window","_blank")),e.document.$register("links",l),(a=o["$empty?"]())!==!1&&a!==c&&(o=(a=e.document["$attr?"]("hide-uri-scheme"))!==!1&&a!==c?j.$sub(m.UriSniffRx,""):j),m.Inline.$new(e,"anchor",o,g(["type","target","attributes"],{type:"link",target:l,attributes:n})).$convert())},z._s=D,z),d).call(x,m.LinkInlineMacroRx)),(d=I["$include?"]("@"))!==!1&&d!==c&&(I=(d=(y=I).$gsub,d._p=(A=function(){var a,b=A._s||this,d=c,e=c,f=c,j=c,k=c;return null==b.document&&(b.document=c),d=h["~"],e=d["$[]"](0),(a=f=d["$[]"](1))!==!1&&a!==c?(j=f,"\\"["$==="](j)?e["$[]"](i(1,-1,!1)):e):(k="mailto:"+e,b.document.$register("links",k),m.Inline.$new(b,"anchor",e,g(["type","target"],{type:"link",target:k})).$convert())},A._s=D,A),d).call(y,m.EmailInlineMacroRx)),B=E["$[]"]("macroish_short_form"),(d=B!==!1&&B!==c?I["$include?"]("footnote"):B)!==!1&&d!==c&&(I=(d=(B=I).$gsub,d._p=(C=function(){var b,d,e,f,j=C._s||this,k=c,l=c,n=c,o=c,p=c,q=c,r=c;return null==j.document&&(j.document=c),k=h["~"],(b=k["$[]"](0)["$start_with?"]("\\"))!==!1&&b!==c?k["$[]"](0)["$[]"](i(1,-1,!1)):(k["$[]"](1)["$=="]("footnote")?(l=c,n=j.$restore_passthroughs(j.$sub_inline_xrefs(j.$sub_inline_anchors(j.$normalize_string(k["$[]"](2),!0)))),o=j.document.$counter("footnote-number"),j.document.$register("footnotes",m.Document._scope.Footnote.$new(o,l,n)),p=c,q=c):(b=a.to_ary(k["$[]"](2).$split(",",2)),l=null==b[0]?c:b[0],n=null==b[1]?c:b[1],l=l.$strip(),n!==!1&&n!==c?(n=j.$restore_passthroughs(j.$sub_inline_xrefs(j.$sub_inline_anchors(j.$normalize_string(n,!0)))),o=j.document.$counter("footnote-number"),j.document.$register("footnotes",m.Document._scope.Footnote.$new(o,l,n)),p="ref",q=c):((b=r=(d=(e=j.document.$references()["$[]"]("footnotes")).$find,d._p=(f=function(a){f._s||this;return null==a&&(a=c),a.$id()["$=="](l)},f._s=j,f),d).call(e))!==!1&&b!==c?(o=r.$index(),n=r.$text()):(o=c,n=l),q=l,l=c,p="xref")),m.Inline.$new(j,"footnote",n,g(["attributes","id","target","type"],{attributes:g(["index"],{index:o}),id:l,target:q,type:p})).$convert())},C._s=D,C),d).call(B,m.FootnoteInlineMacroRx)),D.$sub_inline_xrefs(D.$sub_inline_anchors(I,E),E))},l.$sub_inline_anchors=function(a,b){var d,e,f,j,k,l,n,o,p=this;return null==b&&(b=c),j=b,e=(f=j===c||j===!1)!=!1&&f!==c?f:b["$[]"]("square_bracket"),(d=e!==!1&&e!==c?a["$include?"]("[[["):e)!==!1&&d!==c&&(a=(d=(e=a).$gsub,d._p=(k=function(){var a,b=k._s||this,d=c,e=c,f=c;return d=h["~"],(a=d["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?d["$[]"](0)["$[]"](i(1,-1,!1)):(e=f=d["$[]"](1),m.Inline.$new(b,"anchor",f,g(["type","target"],{type:"bibref",target:e})).$convert())},k._s=p,k),d).call(e,m.InlineBiblioAnchorRx)),n=b,j=(l=n===c||n===!1)!=!1&&l!==c?l:b["$[]"]("square_bracket"),(d=(f=j!==!1&&j!==c?a["$include?"]("[["):j)!==!1&&f!==c?f:(n=b,j=(l=n===c||n===!1)!=!1&&l!==c?l:b["$[]"]("macroish"),j!==!1&&j!==c?a["$include?"]("anchor:"):j))!==!1&&d!==c&&(a=(d=(f=a).$gsub,d._p=(o=function(){var a,b,d,e=o._s||this,f=c,j=c,k=c;return null==e.document&&(e.document=c),f=h["~"],(a=f["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?f["$[]"](0)["$[]"](i(1,-1,!1)):(j=(a=f["$[]"](1))!==!1&&a!==c?a:f["$[]"](3),k=(a=f["$[]"](2))!==!1&&a!==c?a:f["$[]"](4),b=k,(a=b===c||b===!1)!=!1&&a!==c&&(k="["+j+"]"),((a=e.document.$references()["$[]"]("ids")["$has_key?"](j))===!1||a===c)&&(a=(b=m.Debug).$debug,a._p=(d=function(){d._s||this;return"Missing reference for anchor "+j},d._s=e,d),a).call(b),m.Inline.$new(e,"anchor",k,g(["type","target"],{type:"ref",target:j})).$convert())},o._s=p,o),d).call(f,m.InlineAnchorRx)),a},l.$sub_inline_xrefs=function(b,d){var e,f,j,k,l,n=this;return null==d&&(d=c),k=d,(e=(f=(j=k===c||k===!1)!=!1&&j!==c?j:d["$[]"]("macroish"))!==!1&&f!==c?f:b["$include?"]("&lt;&lt;"))!==!1&&e!==c&&(b=(e=(f=b).$gsub,e._p=(l=function(){var b,d,e,f,j,k=l._s||this,n=c,o=c,p=c,q=c,r=c,s=c,t=c;return null==k.document&&(k.document=c),n=h["~"],(b=n["$[]"](0)["$start_with?"]("\\"))!==!1&&b!==c?n["$[]"](0)["$[]"](i(1,-1,!1)):(e=n["$[]"](1),(b=(d=e===c||e===!1)!=!1&&d!==c?d:(e=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f,e!==!1&&e!==c?n["$[]"](1).$to_s()["$=="](""):e))!==!1&&b!==c?(o=n["$[]"](2),p=function(){return d=n["$[]"](3)["$empty?"](),(b=d===c||d===!1)!=!1&&b!==c?n["$[]"](3):c}()):(b=a.to_ary((d=(e=n["$[]"](1).$split(",",2)).$map,d._p=(j=function(a){j._s||this;return null==a&&(a=c),a.$strip()},j._s=k,j),d).call(e)),o=null==b[0]?c:b[0],p=null==b[1]?c:b[1],o=o.$sub(m.DoubleQuotedRx,function(){return(b=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)!==!1&&b!==c?"$2":"2"}()),p!==!1&&p!==c&&(p=p.$sub(m.DoubleQuotedMultiRx,function(){return(b=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)!==!1&&b!==c?"$2":"2"}()))),(b=o["$include?"]("#"))!==!1&&b!==c?(b=a.to_ary(o.$split("#")),q=null==b[0]?c:b[0],r=null==b[1]?c:b[1]):(q=c,r=o),d=q,(b=d===c||d===!1)!=!1&&b!==c?(s=r,t="#"+r):(q=m.Helpers.$rootname(q),(b=(d=k.document.$attributes()["$[]"]("docname")["$=="](q))!==!1&&d!==c?d:k.document.$references()["$[]"]("includes")["$include?"](q))!==!1&&b!==c?(s=r,q=c,t="#"+r):(s=function(){return r!==!1&&r!==c?""+q+"#"+r:q}(),q=""+k.document.$attributes()["$[]"]("relfileprefix")+q+k.document.$attributes().$fetch("outfilesuffix",".html"),t=function(){return r!==!1&&r!==c?""+q+"#"+r:q}())),m.Inline.$new(k,"anchor",p,g(["type","target","attributes"],{type:"xref",target:t,attributes:g(["path","fragment","refid"],{path:q,fragment:r,refid:s})})).$convert())},l._s=n,l),e).call(f,m.XrefInlineMacroRx)),b},l.$sub_callouts=function(a){var b,d,e,f=this;return(b=(d=a).$gsub,b._p=(e=function(){var a=e._s||this,b=c;return null==a.document&&(a.document=c),b=h["~"],b["$[]"](1)["$=="]("\\")?b["$[]"](0).$sub("\\",""):m.Inline.$new(a,"callout",b["$[]"](3),g(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},e._s=f,e),b).call(d,m.CalloutConvertRx)},l.$sub_post_replacements=function(a){var b,d,e,f,i,j=this,k=c,l=c;return null==j.document&&(j.document=c),null==j.attributes&&(j.attributes=c),(b=(d=j.document.$attributes()["$has_key?"]("hardbreaks"))!==!1&&d!==c?d:j.attributes["$has_key?"]("hardbreaks-option"))!==!1&&b!==c?(k=a.$split(m.EOL),k.$size()["$=="](1)?a:(l=k.$pop(),(b=(d=k).$map,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),m.Inline.$new(b,"break",a.$rstrip().$chomp(m.LINE_BREAK),g(["type"],{type:"line"})).$convert()},e._s=j,e),b).call(d).$push(l)["$*"](m.EOL))):(b=a["$include?"]("+"))!==!1&&b!==c?(b=(f=a).$gsub,b._p=(i=function(){var a=i._s||this;return m.Inline.$new(a,"break",h["~"]["$[]"](1),g(["type"],{type:"line"})).$convert()},i._s=j,i),b).call(f,m.LineBreakRx):a},l.$convert_quoted_text=function(a,b,d){var e,f,h=this,j=c,k=c,l=c,n=c;if(j=c,(e=a["$[]"](0)["$start_with?"]("\\"))!==!1&&e!==c){if((e=(f=d["$=="]("constrained"))?k=a["$[]"](2):f)===!1||e===c)return a["$[]"](0)["$[]"](i(1,-1,!1));j="["+k+"]"}return d["$=="]("constrained")?j!==!1&&j!==c?""+j+m.Inline.$new(h,"quoted",a["$[]"](3),g(["type"],{type:b})).$convert():(l=h.$parse_quoted_text_attributes(a["$[]"](2)),n=function(){return l!==!1&&l!==c?l.$delete("id"):c}(),""+a["$[]"](1)+m.Inline.$new(h,"quoted",a["$[]"](3),g(["type","id","attributes"],{type:b,id:n,attributes:l})).$convert()):(l=h.$parse_quoted_text_attributes(a["$[]"](1)),n=function(){return l!==!1&&l!==c?l.$delete("id"):c}(),m.Inline.$new(h,"quoted",a["$[]"](2),g(["type","id","attributes"],{type:b,id:n,attributes:l})).$convert())},l.$parse_quoted_text_attributes=function(b){var d,f,h=this,i=c,j=c,k=c,l=c,m=c,n=c;return(d=b)===!1||d===c?c:(d=b["$empty?"]())!==!1&&d!==c?g([],{}):((d=b["$include?"]("{"))!==!1&&d!==c&&(b=h.$sub_attributes(b)),b=b.$strip(),(d=b["$include?"](","))!==!1&&d!==c&&(d=a.to_ary(b.$split(",",2)),b=null==d[0]?c:d[0],i=null==d[1]?c:d[1]),(d=b["$empty?"]())!==!1&&d!==c?g([],{}):(d=(f=b["$start_with?"]("."))!==!1&&f!==c?f:b["$start_with?"]("#"))!==!1&&d!==c?(j=b.$split("#",2),j.$length()["$>"](1)?(d=a.to_ary(j["$[]"](1).$split(".")),k=null==d[0]?c:d[0],l=e.call(d,1)):(k=c,l=[]),m=function(){return(d=j["$[]"](0)["$empty?"]())!==!1&&d!==c?[]:j["$[]"](0).$split(".")}(),m.$length()["$>"](1)&&m.$shift(),l.$length()["$>"](0)&&m.$concat(l),n=g([],{}),k!==!1&&k!==c&&n["$[]="]("id",k),((d=m["$empty?"]())===!1||d===c)&&n["$[]="]("role",m["$*"](" ")),n):g(["role"],{role:b}))},l.$parse_attributes=function(a,b,d){var e,f=this,h=c,i=c;return null==f.document&&(f.document=c),null==b&&(b=["role"]),null==d&&(d=g([],{})),(e=a)===!1||e===c?c:(e=a["$empty?"]())!==!1&&e!==c?g([],{}):((e=d["$[]"]("sub_input"))!==!1&&e!==c&&(a=f.document.$sub_attributes(a)),(e=d["$[]"]("unescape_input"))!==!1&&e!==c&&(a=f.$unescape_bracketed_text(a)),h=c,(e=d.$fetch("sub_result",!0))!==!1&&e!==c&&(h=f),(e=i=d["$[]"]("into"))!==!1&&e!==c?m.AttributeList.$new(a,h).$parse_into(i,b):m.AttributeList.$new(a,h).$parse(b))},l.$unescape_bracketed_text=function(a){var b;return(b=a["$empty?"]())!==!1&&b!==c?"":a.$strip().$tr(m.EOL," ").$gsub("]","]")},l.$normalize_string=function(a,b){var d,e=this;return null==b&&(b=!1),(d=a["$empty?"]())!==!1&&d!==c?"":b!==!1&&b!==c?e.$unescape_brackets(a.$strip().$tr(m.EOL," ")):a.$strip().$tr(m.EOL," ")},l.$unescape_brackets=function(a){var b;return(b=a["$empty?"]())!==!1&&b!==c?"":a.$gsub("]","]")},l.$split_simple_csv=function(a){var b,d,e,f,g,h=this,i=c,j=c,k=c;return(b=a["$empty?"]())!==!1&&b!==c?i=[]:(b=a["$include?"]('"'))!==!1&&b!==c?(i=[],j=[],k=!1,(b=(d=a).$each_char,b._p=(e=function(a){var b,d=(e._s||this,c);return null==a&&(a=c),function(){return d=a,","["$==="](d)?k!==!1&&k!==c?j.$push(a):(i["$<<"](j.$join().$strip()),j=[]):'"'["$==="](d)?(b=k,k=b===c||b===!1):j.$push(a)}()},e._s=h,e),b).call(d),i["$<<"](j.$join().$strip())):i=(b=(f=a.$split(",")).$map,b._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$strip()},g._s=h,g),b).call(f),i},l.$resolve_subs=function(a,b,d,e){var f,g,h,j=this,k=c,l=c,n=c,o=c;return null==b&&(b="block"),null==d&&(d=c),null==e&&(e=c),(f=a["$nil_or_empty?"]())!==!1&&f!==c?[]:(k=[],l=function(){return d!==!1&&d!==c?c:!1}(),(f=(g=a.$split(",")).$each,f._p=(h=function(a){var f,g,j,n=h._s||this,o=c,p=c,q=c,r=c,s=c,t=c,u=c;if(null==a&&(a=c),o=a.$strip(),g=l["$=="](!1),(f=g===c||g===!1)!=!1&&f!==c){if((p=o.$chr())["$=="]("+"))q="append",o=o["$[]"](i(1,-1,!1));else if(p["$=="]("-"))q="remove",o=o["$[]"](i(1,-1,!1));else if((f=o["$end_with?"]("+"))!==!1&&f!==c)q="prepend",o=o.$chop();else{if(l!==!1&&l!==c)return n.$warn("asciidoctor: WARNING: invalid entry in substitution modification group"+function(){return e!==!1&&e!==c?" for ":c}()+e+": "+o),c;q=c}(f=l["$nil?"]())!==!1&&f!==c&&(q!==!1&&q!==c?(k=d.$dup(),l=!0):l=!1)}return o=o.$to_sym(),(f=(g=b["$=="]("inline"))?(j=o["$=="]("verbatim"))!==!1&&j!==c?j:o["$=="]("v"):g)!==!1&&f!==c?r=["specialcharacters"]:(f=m.COMPOSITE_SUBS["$has_key?"](o))!==!1&&f!==c?r=m.COMPOSITE_SUBS["$[]"](o):(g=(j=b["$=="]("inline"))?o.$length()["$=="](1):j,(f=g!==!1&&g!==c?m.SUB_SYMBOLS["$has_key?"](o):g)!==!1&&f!==c?(s=m.SUB_SYMBOLS["$[]"](o),r=(f=t=m.COMPOSITE_SUBS["$[]"](s))!==!1&&f!==c?t:[s]):r=[o]),l!==!1&&l!==c?function(){return u=q,"append"["$==="](u)?k=k["$+"](r):"prepend"["$==="](u)?k=r["$+"](k):"remove"["$==="](u)?k=k["$-"](r):c}():k=k["$+"](r)},h._s=j,h),f).call(g),n=k["$&"](m.SUB_OPTIONS["$[]"](b)),((f=k["$-"](n)["$empty?"]())===!1||f===c)&&(o=k["$-"](n),j.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return o.$size()["$>"](1)?"s":""}()+function(){return e!==!1&&e!==c?" for ":c}()+e+": "+o["$*"](", "))),n)},l.$resolve_block_subs=function(a,b,c){var d=this;return d.$resolve_subs(a,"block",b,c)},l.$resolve_pass_subs=function(a){var b=this;return b.$resolve_subs(a,"inline",c,"passthrough macro")},l.$highlight_source=function(b,d,e){var f,j,k,l,n,o,p=this,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c;return null==p.document&&(p.document=c),null==p.passthroughs&&(p.passthroughs=c),null==e&&(e=c),(f=e)!==!1&&f!==c?f:e=p.document.$attributes()["$[]"]("source-highlighter"),m.Helpers.$require_library(e,function(){return e["$=="]("pygments")?"pygments.rb":e}()),q=g([],{}),r=0,s=!1,d!==!1&&d!==c&&(t=-1,b=(f=(j=b.$split(m.EOL)).$map,f._p=(k=function(a){var b,d,e,f=k._s||this;return null==a&&(a=c),r=r["$+"](1),(b=(d=a).$gsub,b._p=(e=function(){var a,b,d,f=(e._s||this,c);return f=h["~"],f["$[]"](1)["$=="]("\\")?f["$[]"](0).$sub("\\",""):((a=r,b=q,(d=b["$[]"](a))!==!1&&d!==c?d:b["$[]="](a,[]))["$<<"](f["$[]"](3)),t=r,c)},e._s=f,e),b).call(d,m.CalloutScanRx)},k._s=p,k),f).call(j)["$*"](m.EOL),s=t["$=="](r)),u=c,v=e,"coderay"["$==="](v)?w=(null==(f=a.Object._scope.CodeRay)?a.cm("CodeRay"):f)._scope.Duo["$[]"](p.$attr("language","text").$to_sym(),"html",g(["css","line_numbers","line_number_anchors"],{css:((f=p.document.$attributes()["$[]"]("coderay-css"))!==!1&&f!==c?f:"class").$to_sym(),line_numbers:u=function(){return(f=p["$attr?"]("linenums"))!==!1&&f!==c?((f=p.document.$attributes()["$[]"]("coderay-linenums-mode"))!==!1&&f!==c?f:"table").$to_sym():c}(),line_number_anchors:!1})).$highlight(b):"pygments"["$==="](v)&&((f=x=(null==(l=a.Object._scope.Pygments)?a.cm("Pygments"):l)._scope.Lexer["$[]"](p.$attr("language")))!==!1&&f!==c?(y=g(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),((f=((l=p.document.$attributes()["$[]"]("pygments-css"))!==!1&&l!==c?l:"class")["$=="]("class"))===!1||f===c)&&(y["$[]="]("noclasses",!0),y["$[]="]("style",(f=p.document.$attributes()["$[]"]("pygments-style"))!==!1&&f!==c?f:m.Stylesheets._scope.DEFAULT_PYGMENTS_STYLE)),(f=p["$attr?"]("linenums"))!==!1&&f!==c?w=y["$[]="]("linenos",(f=p.document.$attributes()["$[]"]("pygments-linenums-mode"))!==!1&&f!==c?f:"table")["$=="]("table")?x.$highlight(b,g(["options"],{options:y})).$sub(/<div class="pyhl">(.*)<\/div>/i,"1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/i,"1"):x.$highlight(b,g(["options"],{options:y})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/i,"1"):(y["$[]="]("nowrap",!0),w=x.$highlight(b,g(["options"],{options:y})))):w=b),((f=p.passthroughs["$empty?"]())===!1||f===c)&&(w=w.$gsub(m.PASS_MATCH_HI,""+m.PASS_START+"\\1"+m.PASS_END)),n=d,(f=(l=n===c||n===!1)!=!1&&l!==c?l:q["$empty?"]())!==!1&&f!==c?w:(r=0,f=u["$=="]("table"),z=f===c||f===!1,(f=(l=w.$split(m.EOL)).$map,f._p=(o=function(a){var b,d,e,f,h=o._s||this,j=c,k=c,l=c,n=c;if(null==h.document&&(h.document=c),null==a&&(a=c),(b=z)===!1||b===c){if((b=a["$include?"]('<td class="code">'))===!1||b===c)return a;z=!0}return r=r["$+"](1),(b=j=q.$delete(r))!==!1&&b!==c?(k=c,d=(e=s!==!1&&s!==c)?q["$empty?"]():e,(b=d!==!1&&d!==c?l=a.$index("</pre>"):d)!==!1&&b!==c&&(k=a["$[]"](i(l,-1,!1)),a=a["$[]"](i(0,l,!0))),j.$size()["$=="](1)?""+a+m.Inline.$new(h,"callout",j["$[]"](0),g(["id"],{id:h.document.$callouts().$read_next_id()})).$convert()+k:(n=(b=(d=j).$map,b._p=(f=function(a){var b=f._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),m.Inline.$new(b,"callout",a,g(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},f._s=h,f),b).call(d)["$*"](" "),""+a+n+k)):a},o._s=p,o),f).call(l)["$*"](m.EOL))},l.$lock_in_subs=function(){var a,b,d,e,f,g,h=this,i=c,j=c,k=c,l=c;if(null==h.default_subs&&(h.default_subs=c),null==h.content_model&&(h.content_model=c),null==h.context&&(h.context=c),null==h.attributes&&(h.attributes=c),null==h.style&&(h.style=c),null==h.document&&(h.document=c),null==h.subs&&(h.subs=c),(a=h.default_subs)!==!1&&a!==c)i=h.default_subs;else if(j=h.content_model,"simple"["$==="](j))i=m.SUBS["$[]"]("normal");else if("verbatim"["$==="](j))i=function(){return m.SUBS["$[]"]((a=(b=h.context["$=="]("listing"))!==!1&&b!==c?b:(d=h.context["$=="]("literal"))?(e=h["$option?"]("listparagraph"),e===c||e===!1):d)!==!1&&a!==c?"verbatim":h.context["$=="]("verse")?"normal":"basic")}();else{if(!"raw"["$==="](j))return c;i=m.SUBS["$[]"]("pass")}return h.subs=(a=k=h.attributes["$[]"]("subs"))!==!1&&a!==c?h.$resolve_block_subs(k,i,h.context):i.$dup(),e=(f=h.context["$=="]("listing"))?h.style["$=="]("source"):f,d=e!==!1&&e!==c?h.document["$basebackend?"]("html"):e,b=d!==!1&&d!==c?(e=(l=h.document.$attributes()["$[]"]("source-highlighter"))["$=="]("coderay"))!==!1&&e!==c?e:l["$=="]("pygments"):d,(a=b!==!1&&b!==c?h["$attr?"]("language"):b)!==!1&&a!==c?h.subs=(a=(b=h.subs).$map,a._p=(g=function(a){g._s||this;return null==a&&(a=c),a["$=="]("specialcharacters")?"highlight":a},g._s=h,g),a).call(b):c},a.donate(k,["$apply_subs","$apply_normal_subs","$apply_title_subs","$apply_header_subs","$extract_passthroughs","$restore_passthroughs","$sub_specialcharacters","$sub_specialchars","$sub_quotes","$sub_replacements","$do_replacement","$sub_attributes","$sub_macros","$sub_inline_anchors","$sub_inline_xrefs","$sub_callouts","$sub_post_replacements","$convert_quoted_text","$parse_quoted_text_attributes","$parse_attributes","$unescape_bracketed_text","$normalize_string","$unescape_brackets","$split_simple_csv","$resolve_subs","$resolve_block_subs","$resolve_pass_subs","$highlight_source","$lock_in_subs"])}(j)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2,g=a.range;return function(b){{var h=d(b,"Asciidoctor");h._proto,h._scope}!function(b,d){function h(){}var i=h=e(b,d,"AbstractNode",h),j=h._proto,k=h._scope;return j.document=j.attributes=j.path_resolver=j.style=c,i.$include(k.Substitutors),i.$attr_reader("parent"),i.$attr_reader("document"),i.$attr_reader("context"),i.$attr_reader("node_name"),i.$attr_accessor("id"),i.$attr_reader("attributes"),j.$initialize=function(a,b){var d,e=this;return b["$=="]("document")?(e.parent=c,e.document=a):e.document=(d=e.parent=a)!==!1&&d!==c?a.$document():c,e.context=b,e.node_name=b.$to_s(),e.attributes=f([],{}),e.passthroughs=[]},j["$parent="]=function(a){var b=this;return b.parent=a,b.document=a.$document(),c},j["$inline?"]=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},j["$block?"]=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},j.$attr=function(b,d,e){var f,g,h=this;return null==d&&(d=c),null==e&&(e=!0),(f=b["$is_a?"](null==(g=a.Object._scope.Symbol)?a.cm("Symbol"):g))!==!1&&f!==c&&(b=b.$to_s()),h["$=="](h.document)&&(e=!1),e!==!1&&e!==c?(f=(g=h.attributes["$[]"](b))!==!1&&g!==c?g:h.document.$attributes()["$[]"](b))!==!1&&f!==c?f:d:(f=h.attributes["$[]"](b))!==!1&&f!==c?f:d},j["$attr?"]=function(b,d,e){var f,g,h=this;return null==d&&(d=c),null==e&&(e=!0),(f=b["$is_a?"](null==(g=a.Object._scope.Symbol)?a.cm("Symbol"):g))!==!1&&f!==c&&(b=b.$to_s()),h["$=="](h.document)&&(e=!1),(f=d["$nil?"]())!==!1&&f!==c?(f=h.attributes["$has_key?"](b))!==!1&&f!==c?f:(g=e!==!1&&e!==c)?h.document.$attributes()["$has_key?"](b):g:d["$=="](e!==!1&&e!==c?(f=h.attributes["$[]"](b))!==!1&&f!==c?f:h.document.$attributes()["$[]"](b):h.attributes["$[]"](b))},j.$set_attr=function(a,b,d){var e,f,g,h=this;return null==d&&(d=c),(e=d["$nil?"]())!==!1&&e!==c?(h.attributes["$[]="](a,b),!0):(e=(f=d)!==!1&&f!==c?f:(g=h.attributes["$key?"](a),g===c||g===!1))!==!1&&e!==c?(h.attributes["$[]="](a,b),!0):!1},j.$set_option=function(a){var b,d=this;return(b=d.attributes["$has_key?"]("options"))!==!1&&b!==c?d.attributes["$[]="]("options",""+d.attributes["$[]"]("options")+","+a):d.attributes["$[]="]("options",a),d.attributes["$[]="](""+a+"-option","")},j["$option?"]=function(a){var b=this;return b.attributes["$has_key?"](""+a+"-option")},j.$update_attributes=function(a){var b=this;return b.attributes.$update(a),c},j.$converter=function(){var a=this;return a.document.$converter()},j["$role?"]=function(a){var b,d=this;return null==a&&(a=c),(b=a["$nil?"]())!==!1&&b!==c?(b=d.attributes["$has_key?"]("role"))!==!1&&b!==c?b:d.document.$attributes()["$has_key?"]("role"):a["$=="]((b=d.attributes["$[]"]("role"))!==!1&&b!==c?b:d.document.$attributes()["$[]"]("role"))},j.$role=function(){var a,b=this;return(a=b.attributes["$[]"]("role"))!==!1&&a!==c?a:b.document.$attributes()["$[]"]("role")},j["$has_role?"]=function(a){var b,d,e=this,f=c;return(b=f=(d=e.attributes["$[]"]("role"))!==!1&&d!==c?d:e.document.$attributes()["$[]"]("role"))!==!1&&b!==c?f.$split(" ")["$include?"](a):!1},j.$roles=function(){var a,b,d=this,e=c;return(a=e=(b=d.attributes["$[]"]("role"))!==!1&&b!==c?b:d.document.$attributes()["$[]"]("role"))!==!1&&a!==c?e.$split(" "):[]},j["$reftext?"]=function(){var a,b=this;return(a=b.attributes["$has_key?"]("reftext"))!==!1&&a!==c?a:b.document.$attributes()["$has_key?"]("reftext")},j.$reftext=function(){var a,b=this;return(a=b.attributes["$[]"]("reftext"))!==!1&&a!==c?a:b.document.$attributes()["$[]"]("reftext")},j.$icon_uri=function(a){var b,d=this;return(b=d["$attr?"]("icon"))!==!1&&b!==c?d.$image_uri(d.$attr("icon"),c):d.$image_uri(""+a+"."+d.document.$attr("icontype","png"),"iconsdir")},j.$media_uri=function(a,b){var d,e,f=this;return null==b&&(b="imagesdir"),e=a["$include?"](":"),(d=e!==!1&&e!==c?k.UriSniffRx["$=~"](a):e)!==!1&&d!==c?a:(d=(e=b!==!1&&b!==c)?f["$attr?"](b):e)!==!1&&d!==c?f.$normalize_web_path(a,f.document.$attr(b)):f.$normalize_web_path(a)},j.$image_uri=function(a,b){var d,e,f=this;return null==b&&(b="imagesdir"),e=a["$include?"](":"),(d=e!==!1&&e!==c?k.UriSniffRx["$=~"](a):e)!==!1&&d!==c?a:(d=(e=f.document.$safe()["$<"](k.SafeMode._scope.SECURE))?f.document["$attr?"]("data-uri"):e)!==!1&&d!==c?f.$generate_data_uri(a,b):(d=(e=b!==!1&&b!==c)?f["$attr?"](b):e)!==!1&&d!==c?f.$normalize_web_path(a,f.document.$attr(b)):f.$normalize_web_path(a)},j.$generate_data_uri=function(a,b){var d,e,h,i=this,j=c,l=c,m=c,n=c;return null==b&&(b=c),j=k.File.$extname(a)["$[]"](g(1,-1,!1)),l="image/"["$+"](j),j["$=="]("svg")&&(l=""+l+"+xml"),m=b!==!1&&b!==c?i.$normalize_system_path(a,i.document.$attr(b),c,f(["target_name"],{target_name:"image"})):i.$normalize_system_path(a),e=k.File["$readable?"](m),(d=e===c||e===!1)!=!1&&d!==c?(i.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+m),"data:"+l+":base64,"):(n=c,n=(d=k.IO["$respond_to?"]("binread"))!==!1&&d!==c?k.IO.$binread(m):(d=(e=k.File).$open,d._p=(h=function(a){h._s||this;return null==a&&(a=c),a.$read()},h._s=i,h),d).call(e,m,"rb"),"data:"+l+";base64,"+k.Base64.$encode64(n).$delete(k.EOL))},j.$read_asset=function(a,b){var d,e=this;return null==b&&(b=!1),(d=k.File["$readable?"](a))!==!1&&d!==c?k.File.$read(a).$chomp():(b!==!1&&b!==c&&e.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+a),c)},j.$normalize_web_path=function(a,b){var d,e=this;return null==b&&(b=c),((d=e.path_resolver)!==!1&&d!==c?d:e.path_resolver=k.PathResolver.$new()).$web_path(a,b)},j.$normalize_system_path=function(a,b,d,e){var g,h,i=this;return null==b&&(b=c),null==d&&(d=c),null==e&&(e=f([],{})),(g=b["$nil?"]())!==!1&&g!==c&&(b=i.document.$base_dir()),h=d["$nil?"](),(g=h!==!1&&h!==c?i.document.$safe()["$>="](k.SafeMode._scope.SAFE):h)!==!1&&g!==c&&(d=i.document.$base_dir()),((g=i.path_resolver)!==!1&&g!==c?g:i.path_resolver=k.PathResolver.$new()).$system_path(a,b,d,e)},j.$normalize_asset_path=function(a,b,d){var e=this;return null==b&&(b="path"),null==d&&(d=!0),e.$normalize_system_path(a,e.document.$base_dir(),c,f(["target_name","recover"],{target_name:b,recover:d}))},j.$relative_path=function(a){var b,d=this;return((b=d.path_resolver)!==!1&&b!==c?b:d.path_resolver=k.PathResolver.$new()).$relative_path(a,d.document.$base_dir())},j.$list_marker_keyword=function(a){var b,d=this;return null==a&&(a=c),k.ORDERED_LIST_KEYWORDS["$[]"]((b=a)!==!1&&b!==c?b:d.style)},c}(h,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass;return function(b){var g=e(b,"Asciidoctor"),h=(g._proto,g._scope);!function(b,e){function g(){}var h,i=g=f(b,e,"AbstractBlock",g),j=g._proto,k=g._scope;return j.document=j.attributes=j.blocks=j.subs=j.title=j.subbed_title=j.caption=j.context=j.next_section_index=j.next_section_number=c,i.$attr_accessor("content_model"),i.$attr_reader("subs"),i.$attr_reader("blocks"),i.$attr_accessor("level"),i.$attr_writer("title"),i.$attr_accessor("style"),i.$attr_accessor("caption"),j.$initialize=h=function(b,e){var f,g,i,j=d.call(arguments,0),k=this,l=h._p;return h._p=null,a.find_super_dispatcher(k,"initialize",h,l).apply(k,j),k.content_model="compound",k.subs=[],k.default_subs=c,k.blocks=[],k.id=c,k.title=c,k.caption=c,k.style=c,k.level=function(){return e["$=="]("document")?0:(f=(g=b!==!1&&b!==c)?(i=e["$=="]("section"),i===c||i===!1):g)!==!1&&f!==c?b.$level():c}(),k.next_section_index=0,k.next_section_number=1},j["$block?"]=function(){return!0},j["$inline?"]=function(){return!1},j["$context="]=function(a){var b=this;return b.context=a,b.node_name=a.$to_s()},j.$convert=function(){var a=this;return a.document.$playback_attributes(a.attributes),a.$converter().$convert(a)},a.defn(i,"$render",j.$convert),j.$content=function(){var a,b,d,e=this;return(a=(b=e.blocks).$map,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$convert()},d._s=e,d),a).call(b)["$*"](k.EOL)},j["$sub?"]=function(a){var b=this;return b.subs["$include?"](a)},j["$title?"]=function(){var a,b=this;return a=b.title["$nil_or_empty?"](),a===c||a===!1},j.$title=function(){var a,b,d=this;return b=d.subbed_title,(a=null!=b&&b!==c?"instance-variable":c)!==!1&&a!==c?d.subbed_title:(a=d.title)!==!1&&a!==c?d.subbed_title=d.$apply_title_subs(d.title):d.title},j.$captioned_title=function(){var a=this;return""+a.caption+a.$title()},j["$blocks?"]=function(){var a,b=this;return a=b.blocks["$empty?"](),a===c||a===!1},j["$<<"]=function(a){var b=this;return b.blocks["$<<"](a)},j.$sections=function(){var a,b,d,e=this;return(a=(b=e.blocks).$select,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$context()["$=="]("section")},d._s=e,d),a).call(b)},j.$remove_sub=function(a){var b=this;return b.subs.$delete(a),c},j.$assign_caption=function(a,b){var d,e,f,g=this,h=c,i=c,j=c,k=c;return null==a&&(a=c),null==b&&(b=c),(d=(e=g["$title?"]())!==!1&&e!==c?e:(f=g.caption,f===c||f===!1))===!1||d===c?c:(a!==!1&&a!==c?g.caption=a:(d=h=g.document.$attributes()["$[]"]("caption"))!==!1&&d!==c?g.caption=h:(d=g["$title?"]())!==!1&&d!==c&&((d=b)!==!1&&d!==c?d:b=g.context.$to_s(),i=""+b+"-caption",(d=j=g.document.$attributes()["$[]"](i))!==!1&&d!==c&&(k=g.document.$counter_increment(""+b+"-number",g),g.caption=""+j+" "+k+". ")),c)},j.$assign_index=function(a){var b,d,e,f,g=this,h=c,i=c;return a["$index="](g.next_section_index),g.next_section_index=g.next_section_index["$+"](1),a.$sectname()["$=="]("appendix")?(h=g.document.$counter("appendix-number","A"),(b=a.$numbered())!==!1&&b!==c&&a["$number="](h),d=(i=g.document.$attr("appendix-caption",""))["$=="](""),a["$caption="]((b=d===c||d===!1)!=!1&&b!==c?""+i+" "+h+": ":""+h+". ")):(b=a.$numbered())!==!1&&b!==c?(d=(e=a.$level()["$=="](1))!==!1&&e!==c?e:(f=a.$level()["$=="](0))?a.$special():f,(b=d!==!1&&d!==c?g.document.$doctype()["$=="]("book"):d)!==!1&&b!==c?a["$number="](g.document.$counter("chapter-number",1)):(a["$number="](g.next_section_number),g.next_section_number=g.next_section_number["$+"](1))):c},j.$reindex_sections=function(){var a,b,d,e=this;return e.next_section_index=0,e.next_section_number=0,(a=(b=e.blocks).$each,a._p=(d=function(a){var b=d._s||this;return null==a&&(a=c),a.$context()["$=="]("section")?(b.$assign_index(a),a.$reindex_sections()):c},d._s=e,d),a).call(b)},c}(g,h.AbstractNode)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b,d){function g(){}var h=g=e(b,d,"AttributeList",g),i=g._proto,j=g._scope;return i.attributes=i.scanner=i.delimiter=i.block=i.delimiter_skip_pattern=i.delimiter_boundary_pattern=c,a.cdecl(j,"BoundaryRxs",f(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/})),a.cdecl(j,"EscapedQuoteRxs",f(['"',"'"],{'"':/\\"/,"'":/\\'/})),a.cdecl(j,"NameRx",/[A-Za-z:_][A-Za-z:_\-.]*/),a.cdecl(j,"BlankRx",/[ \t]+/),a.cdecl(j,"SkipRxs",f(["blank",","],{blank:j.BlankRx,",":/[ \t]*(,|$)/})),i.$initialize=function(b,d,e){var f,g=this;return null==d&&(d=c),null==e&&(e=","),g.scanner=(null==(f=a.Object._scope.StringScanner)?a.cm("StringScanner"):f).$new(b),g.block=d,g.delimiter=e,g.delimiter_skip_pattern=j.SkipRxs["$[]"](e),g.delimiter_boundary_pattern=j.BoundaryRxs["$[]"](e),g.attributes=c
},i.$parse_into=function(a,b){var c=this;return null==b&&(b=[]),a.$update(c.$parse(b))},i.$parse=function(a){var b,d,e=this,g=c;if(null==a&&(a=[]),(b=e.attributes)!==!1&&b!==c)return e.attributes;for(e.attributes=f([],{}),g=0;(d=e.$parse_attribute(g,a))!==!1&&d!==c&&((d=e.scanner["$eos?"]())===!1||d===c);)e.$skip_delimiter(),g=g["$+"](1);return e.attributes},i.$rekey=function(a){var b=this;return j.AttributeList.$rekey(b.attributes,a)},a.defs(h,"$rekey",function(a,b){var d,e,f,g=this;return(d=(e=b).$each_with_index,d._p=(f=function(b,d){var e,g=(f._s||this,c),h=c;return null==b&&(b=c),null==d&&(d=c),(e=b)===!1||e===c?c:(g=d["$+"](1),(e=h=a["$[]"](g))!==!1&&e!==c?a["$[]="](b,h):c)},f._s=g,f),d).call(e),a}),i.$parse_attribute=function(a,b){var d,e,f,g,h=this,i=c,j=c,k=c,l=c,m=c,n=c,o=c,p=c,q=c,r=c;if(null==a&&(a=0),null==b&&(b=[]),i=!1,h.$skip_blank(),(j=h.scanner.$peek(1))["$=="]('"'))k=h.$parse_attribute_value(h.scanner.$get_byte()),l=c;else if(j["$=="]("'"))k=h.$parse_attribute_value(h.scanner.$get_byte()),l=c,i=!0;else{if(k=h.$scan_name(),m=0,n=c,(d=h.scanner["$eos?"]())!==!1&&d!==c){if((d=k)===!1||d===c)return!1}else m=(d=h.$skip_blank())!==!1&&d!==c?d:0,n=h.scanner.$get_byte();if(f=n,(d=(e=f===c||f===!1)!=!1&&e!==c?e:n["$=="](h.delimiter))!==!1&&d!==c)l=c;else if(f=n["$=="]("="),(d=(e=f===c||f===!1)!=!1&&e!==c?e:(f=k,f===c||f===!1))!==!1&&d!==c)k=""+k+" "["$*"](m)+n+h.$scan_to_delimiter(),l=c;else if(h.$skip_blank(),(d=h.scanner.$peek(1))!==!1&&d!==c)if((n=h.scanner.$get_byte())["$=="]('"'))l=h.$parse_attribute_value(n);else if(n["$=="]("'"))l=h.$parse_attribute_value(n),i=!0;else if(n["$=="](h.delimiter))l=c;else if(l=""+n+h.$scan_to_delimiter(),l["$=="]("None"))return!0}return l!==!1&&l!==c?(o=function(){return p=k,"options"["$==="](p)||"opts"["$==="](p)?(k="options",(d=(e=l.$split(",")).$each,d._p=(g=function(a){var b=g._s||this;return null==b.attributes&&(b.attributes=c),null==a&&(a=c),b.attributes["$[]="](""+a.$strip()+"-option","")},g._s=h,g),d).call(e),l):"title"["$==="](p)?l:(d=(f=i!==!1&&i!==c)?h.block:f)!==!1&&d!==c?h.block.$apply_normal_subs(l):l}(),h.attributes["$[]="](k,o)):(q=function(){return(d=(f=i!==!1&&i!==c)?h.block:f)!==!1&&d!==c?h.block.$apply_normal_subs(k):k}(),(d=r=b["$[]"](a))!==!1&&d!==c&&h.attributes["$[]="](r,q),h.attributes["$[]="](a["$+"](1),q)),!0},i.$parse_attribute_value=function(a){var b,d=this,e=c;return d.scanner.$peek(1)["$=="](a)?(d.scanner.$get_byte(),""):(b=e=d.$scan_to_quote(a))!==!1&&b!==c?(d.scanner.$get_byte(),e.$gsub(j.EscapedQuoteRxs["$[]"](a),a)):""+a+d.$scan_to_delimiter()},i.$skip_blank=function(){var a=this;return a.scanner.$skip(j.BlankRx)},i.$skip_delimiter=function(){var a=this;return a.scanner.$skip(a.delimiter_skip_pattern)},i.$scan_name=function(){var a=this;return a.scanner.$scan(j.NameRx)},i.$scan_to_delimiter=function(){var a=this;return a.scanner.$scan(a.delimiter_boundary_pattern)},i.$scan_to_quote=function(a){var b=this;return b.scanner.$scan(j.BoundaryRxs["$[]"](a))},c}(g,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.hash2;return function(b){var h=e(b,"Asciidoctor"),i=(h._proto,h._scope);!function(b,e){function h(){}var i,j,k,l=h=f(b,e,"Block",h),m=h._proto,n=h._scope;return m.subs=m.attributes=m.content_model=m.lines=m.blocks=m.context=m.style=c,a.cdecl(n,"DEFAULT_CONTENT_MODEL",(null==(i=a.Object._scope.Hash)?a.cm("Hash"):i).$new("simple").$merge(g(["audio","image","listing","literal","math","open","page_break","pass","thematic_break","video"],{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",math:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}))),a.defn(l,"$blockname",m.$context),l.$attr_accessor("lines"),m.$initialize=j=function(b,d,e){var f,h,i,k=this,l=(j._p,c),m=c,o=c;return null==e&&(e=g([],{})),j._p=null,a.find_super_dispatcher(k,"initialize",j,null).apply(k,[b,d]),k.content_model=(f=e["$[]"]("content_model"))!==!1&&f!==c?f:n.DEFAULT_CONTENT_MODEL["$[]"](d),k.attributes=(f=(l=e["$[]"]("attributes"))["$nil_or_empty?"]())!==!1&&f!==c?g([],{}):l.$dup(),(f=e["$has_key?"]("subs"))!==!1&&f!==c&&(i=m=e["$[]"]("subs"),(f=(h=i===c||i===!1)!=!1&&h!==c?h:m["$is_a?"](null==(i=a.Object._scope.Array)?a.cm("Array"):i))!==!1&&f!==c?(k.subs=(f=m)!==!1&&f!==c?f:[],k.default_subs=k.subs.$dup(),k.attributes.$delete("subs")):k.attributes["$[]="]("subs",""+m)),h=o=e["$[]"]("source"),k.lines=(f=h===c||h===!1)!=!1&&f!==c?[]:(f=o["$is_a?"](null==(h=a.Object._scope.String)?a.cm("String"):h))!==!1&&f!==c?n.Helpers.$normalize_lines_from_string(o):o.$dup()},m.$content=k=function(){var b,e,f,g=d.call(arguments,0),h=this,i=k._p,j=c,l=c,m=c,o=c;return k._p=null,function(){if(j=h.content_model,"compound"["$==="](j))return a.find_super_dispatcher(h,"content",k,i).apply(h,g);if("simple"["$==="](j))return h.$apply_subs(h.lines["$*"](n.EOL),h.subs);if("verbatim"["$==="](j)||"raw"["$==="](j)){if(l=h.$apply_subs(h.lines,h.subs),l.$size()["$<"](2))return l["$[]"](0);for(;f=m=l["$[]"](0),(e=f!==!1&&f!==c?m.$rstrip()["$empty?"]():f)!==!1&&e!==c;)l.$shift();for(;f=o=l["$[]"](-1),(e=f!==!1&&f!==c?o.$rstrip()["$empty?"]():f)!==!1&&e!==c;)l.$pop();return l["$*"](n.EOL)}return((b=h.content_model["$=="]("empty"))===!1||b===c)&&h.$warn("Unknown content model '"+h.content_model+"' for block: "+h.$to_s()),c}()},m.$source=function(){var a=this;return a.lines["$*"](n.EOL)},m.$to_s=function(){var a=this,b=c;return b=function(){return a.content_model["$=="]("compound")?"blocks: "+a.blocks.$size():"lines: "+a.lines.$size()}(),"#<"+a.$class()+"@"+a.$object_id()+" {context: "+a.context.$inspect()+", content_model: "+a.content_model.$inspect()+", style: "+a.style.$inspect()+", "+b+"}>"},c}(h,i.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(a){{var b=d(a,"Asciidoctor");b._proto,b._scope}!function(a,b){function d(){}{var g=(d=e(a,b,"Callouts",d),d._proto);d._scope}return g.co_index=g.lists=g.list_index=c,g.$initialize=function(){var a=this;return a.lists=[],a.list_index=0,a.$next_list()},g.$register=function(a){var b=this,d=c;return b.$current_list()["$<<"](f(["ordinal","id"],{ordinal:a.$to_i(),id:d=b.$generate_next_callout_id()})),b.co_index=b.co_index["$+"](1),d},g.$read_next_id=function(){var a=this,b=c,d=c;return b=c,d=a.$current_list(),a.co_index["$<="](d.$size())&&(b=d["$[]"](a.co_index["$-"](1))["$[]"]("id")),a.co_index=a.co_index["$+"](1),b},g.$callout_ids=function(a){var b,d,e,f=this;return(b=(d=f.$current_list()).$map,b._p=(e=function(b){e._s||this;return null==b&&(b=c),b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":c},e._s=f,e),b).call(d).$join().$chop()},g.$current_list=function(){var a=this;return a.lists["$[]"](a.list_index["$-"](1))},g.$next_list=function(){var a=this;return a.list_index=a.list_index["$+"](1),a.lists.$size()["$<"](a.list_index)&&a.lists["$<<"]([]),a.co_index=1,c},g.$rewind=function(){var a=this;return a.list_index=1,a.co_index=1,c},g.$generate_next_callout_id=function(){var a=this;return a.$generate_callout_id(a.list_index,a.co_index)},g.$generate_callout_id=function(a,b){return"CO"+a+"-"+b},c}(b,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g,h=d(b,"Asciidoctor"),i=(h._proto,h._scope);(g=i.RUBY_ENGINE_OPAL)!==!1&&g!==c&&!function(a){{var b=d(a,"Converter");b._proto,b._scope}}(h),function(a,b){function c(){}var d=c=e(a,b,"Base",c),f=(c._proto,c._scope);return d.$include(f.Converter)}(i.Converter,null),function(b,d){function g(){}{var h=g=e(b,d,"BuiltIn",g),i=g._proto;g._scope}return i.$initialize=function(a,b){return null==b&&(b=f([],{})),c},i.$convert=function(a,b){var d,e=this;return null==b&&(b=c),(d=b)!==!1&&d!==c?d:b=a.$node_name(),e.$send(b,a)},i.$convert_with_options=function(a,b,d){var e,g=this;return null==b&&(b=c),null==d&&(d=f([],{})),(e=b)!==!1&&e!==c?e:b=a.$node_name(),g.$send(b,a,d)},a.defn(h,"$handles?",i["$respond_to?"]),i.$content=function(a){return a.$content()},a.defn(h,"$pass",i.$content),i.$skip=function(){return c},c}(i.Converter,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b){{var g=d(b,"Converter");g._proto,g._scope}!function(b,d){function g(){}var h=g=e(b,d,"Factory",g),i=g._proto,j=g._scope;return i.converters=i.star_converter=c,h.__default__=c,function(b){b._scope,b._proto;return b._proto.$default=function(b){var d,e,f=this;return null==f.__default__&&(f.__default__=c),null==b&&(b=!0),(d=b)===!1||d===c?(d=f.__default__)!==!1&&d!==c?d:f.$new():(d=f.__default__)!==!1&&d!==c?d:f.__default__=function(){try{!function(){return(e=null==a.Object._scope.ThreadSafe?c:"constant")!==!1&&e!==c?c:!0}(),f.$new((null==(e=a.Object._scope.ThreadSafe)?a.cm("ThreadSafe"):e)._scope.Cache.$new())}catch(b){f.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem recommended when registering custom converters."),f.$new()}}()},b._proto.$register=function(a,b){var c=this;return null==b&&(b=["*"]),c.$default().$register(a,b)},b._proto.$resolve=function(a){var b=this;return b.$default().$resolve(a)},b._proto.$converters=function(){var a=this;return a.$default().$converters()},b._proto.$unregister_all=function(){var a=this;return a.$default().$unregister_all()},c}(h.$singleton_class()),h.$attr_reader("converters"),i.$initialize=function(a){var b,d=this;return null==a&&(a=c),d.converters=(b=a)!==!1&&b!==c?b:f([],{}),d.star_converter=c},i.$register=function(a,b){var d,e,f,g=this;return null==b&&(b=["*"]),(d=(e=b).$each,d._p=(f=function(b){var d=f._s||this;return null==d.converters&&(d.converters=c),null==b&&(b=c),d.converters["$[]="](b,a),b["$=="]("*")?d.star_converter=a:c},f._s=g,f),d).call(e),c},i.$resolve=function(a){var b,d,e=this;return b=e.converters,b!==!1&&b!==c?(d=e.converters["$[]"](a))!==!1&&d!==c?d:e.star_converter:b},i.$unregister_all=function(){var a=this;return a.converters.$clear(),a.star_converter=c},i.$create=function(b,d){var e,g,h=this,i=c,k=c,l=c,m=c;return null==d&&(d=f([],{})),(e=i=h.$resolve(b))!==!1&&e!==c?(e=i["$is_a?"](null==(g=a.Object._scope.Class)?a.cm("Class"):g))!==!1&&e!==c?i.$new(b,d):i:(k=function(){return l=b,"html5"["$==="](l)?((e=function(){try{return null!=(null==(g=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):g)._scope.Converter._scope.Html5Converter?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}())===!1||e===c,j.Html5Converter.$new(b,d)):"docbook5"["$==="](l)?((e=function(){try{return null!=(null==(g=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):g)._scope.Converter._scope.DocBook5Converter?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}())===!1||e===c,j.DocBook5Converter.$new(b,d)):"docbook45"["$==="](l)?((e=function(){try{return null!=(null==(g=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):g)._scope.Converter._scope.DocBook45Converter?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}())===!1||e===c,j.DocBook45Converter.$new(b,d)):c}(),(e=d["$key?"]("template_dirs"))===!1||e===c?k:((e=function(){try{return null!=(null==(g=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):g)._scope.Converter._scope.TemplateConverter?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}())===!1||e===c,(e=function(){try{return null!=(null==(g=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):g)._scope.Converter._scope.CompositeConverter?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}())===!1||e===c,m=j.TemplateConverter.$new(b,d["$[]"]("template_dirs"),d),j.CompositeConverter.$new(b,m,k)))},c}(g,null)}(g)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.range,g=a.hash2;return function(b){{var h=e(b,"Asciidoctor");h._proto,h._scope}!function(b){var h=e(b,"Converter"),i=h._proto,j=h._scope;!function(b){var f=e(b,"Config"),g=f._proto,h=f._scope;g.$register_for=function(a){var b,e,f,g,i,j=this,k=c;return a=d.call(arguments,0),h.Factory.$register(j,a),k=function(a){a._scope,a._proto;return a}(j.$singleton_class()),a["$=="](["*"])?(b=(e=k).$send,b._p=(f=function(a){f._s||this;return null==a&&(a=c),!0},f._s=j,f),b).call(e,"define_method","converts?"):(b=(g=k).$send,b._p=(i=function(b){i._s||this;return null==b&&(b=c),a["$include?"](b)},i._s=j,i),b).call(g,"define_method","converts?"),c},a.donate(f,["$register_for"])}(h),function(b){var d=e(b,"BackendInfo"),h=d._proto,i=d._scope;h.$backend_info=function(){var a,b=this;return null==b.backend_info&&(b.backend_info=c),(a=b.backend_info)!==!1&&a!==c?a:b.backend_info=b.$setup_backend_info()},h.$setup_backend_info=function(){var b,d=this,e=c,h=c,j=c,k=c;return null==d.backend&&(d.backend=c),((b=d.backend)===!1||b===c)&&d.$raise(null==(b=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):b,"Cannot determine backend for converter: "+d.$class()),e=d.backend.$sub(i.TrailingDigitsRx,""),(b=h=i.DEFAULT_EXTENSIONS["$[]"](e))!==!1&&b!==c?j=h["$[]"](f(1,-1,!1)):(e="html",h=".html",j="html",k="html"),g(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:h,filetype:j,htmlsyntax:k})},h.$filetype=function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("filetype",a):b.$backend_info()["$[]"]("filetype")},h.$basebackend=function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("basebackend",a):b.$backend_info()["$[]"]("basebackend")},h.$outfilesuffix=function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("outfilesuffix",a):b.$backend_info()["$[]"]("outfilesuffix")},h.$htmlsyntax=function(a){var b=this;return null==a&&(a=c),a!==!1&&a!==c?b.$backend_info()["$[]="]("htmlsyntax",a):b.$backend_info()["$[]"]("htmlsyntax")},a.donate(d,["$backend_info","$setup_backend_info","$filetype","$basebackend","$outfilesuffix","$htmlsyntax"])}(h),function(a){{var b=a._scope;a._proto}return a._proto.$included=function(a){return a.$extend(b.Config)},c}(h.$singleton_class()),h.$include(j.Config),h.$include(j.BackendInfo),i.$initialize=function(a,b){var c=this;return null==b&&(b=g([],{})),c.backend=a,c.$setup_backend_info()},i.$convert=function(b,d){var e,f=this;return null==d&&(d=c),f.$raise(null==(e=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):e)},i.$convert_with_options=function(a,b,d){var e=this;return null==b&&(b=c),null==d&&(d=g([],{})),e.$convert(a,b)},a.donate(h,["$initialize","$convert","$convert_with_options"])}(h),function(b){var d=e(b,"Writer"),f=d._proto,g=d._scope;f.$write=function(b,d){var e,f,h,i,j=this;return(e=d["$respond_to?"]("write"))!==!1&&e!==c?(d.$write(b.$chomp()),d.$write(g.EOL)):(e=(f=null==(i=a.Object._scope.File)?a.cm("File"):i).$open,e._p=(h=function(a){h._s||this;return null==a&&(a=c),a.$write(b)},h._s=j,h),e).call(f,d,"w"),c},a.donate(d,["$write"])}(h)}(b),!0}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2,g=a.range;return function(b){var h=d(b,"Asciidoctor"),i=(h._proto,h._scope);!function(b,d){function h(){}var i=(h=e(b,d,"Html5Converter",h),h._proto),j=h._scope;return i.xml_mode=i.void_element_slash=i.stylesheets=c,a.cdecl(j,"QUOTE_TAGS",f(["emphasis","strong","monospaced","superscript","subscript","double","single","asciimath","latexmath"],{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),j.QUOTE_TAGS["$default="]([c,c,c]),i.$initialize=function(a,b){var d,e=this;return null==b&&(b=f([],{})),e.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml"),e.void_element_slash=function(){return(d=e.xml_mode)!==!1&&d!==c?"/":c}(),e.stylesheets=j.Stylesheets.$instance()},i.$document=function(a){var b,d,e,h,i,k,l=this,m=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c;return m=[],n=l.void_element_slash,o="<br"+n+">",p=(b=a.$safe()["$>="](j.SafeMode._scope.SECURE))!==!1&&b!==c?b:a["$attr?"]("linkcss"),m["$<<"]("<!DOCTYPE html>"),q=function(){return(b=a["$attr?"]("nolang"))!==!1&&b!==c?c:' lang="'+a.$attr("lang","en")+'"'}(),m["$<<"]("<html"+function(){return(b=l.xml_mode)!==!1&&b!==c?' xmlns="http://www.w3.org/1999/xhtml"':c}()+q+">"),m["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+n+'>\n<!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+n+'><![endif]-->\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+n+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+n+">"),(b=a["$attr?"]("app-name"))!==!1&&b!==c&&m["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+n+">"),(b=a["$attr?"]("description"))!==!1&&b!==c&&m["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+n+">"),(b=a["$attr?"]("keywords"))!==!1&&b!==c&&m["$<<"]('<meta name="keywords" content="'+a.$attr("keywords")+'"'+n+">"),(b=a["$attr?"]("authors"))!==!1&&b!==c&&m["$<<"]('<meta name="author" content="'+a.$attr("authors")+'"'+n+">"),(b=a["$attr?"]("copyright"))!==!1&&b!==c&&m["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+n+">"),m["$<<"]("<title>"+((b=a.$doctitle(f(["sanitize"],{sanitize:!0})))!==!1&&b!==c?b:a.$attr("untitled-label"))+"</title>"),(b=j.DEFAULT_STYLESHEET_KEYS["$include?"](a.$attr("stylesheet")))!==!1&&b!==c?m["$<<"](p!==!1&&p!==c?'<link rel="stylesheet" href="'+a.$normalize_web_path(j.DEFAULT_STYLESHEET_NAME,a.$attr("stylesdir",""))+'"'+n+">":l.stylesheets.$embed_primary_stylesheet()):(b=a["$attr?"]("stylesheet"))!==!1&&b!==c&&m["$<<"](p!==!1&&p!==c?'<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+n+">":"<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),!0)+"\n</style>"),(b=a["$attr?"]("icons","font"))!==!1&&b!==c&&(d=a.$attr("iconfont-remote","")["$nil?"](),(b=d===c||d===!1)!=!1&&b!==c?m["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn","http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css")+'"'+n+">"):(r=""+a.$attr("iconfont-name","font-awesome")+".css",m["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(r,a.$attr("stylesdir",""))+'"'+n+">"))),s=a.$attr("source-highlighter"),"coderay"["$==="](s)?a.$attr("coderay-css","class")["$=="]("class")&&m["$<<"](p!==!1&&p!==c?'<link rel="stylesheet" href="'+a.$normalize_web_path(l.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""))+'"'+n+">":l.stylesheets.$embed_coderay_stylesheet()):"pygments"["$==="](s)?a.$attr("pygments-css","class")["$=="]("class")&&(t=l.$doc().$attr("pygments-style","pastie"),m["$<<"](p!==!1&&p!==c?'<link rel="stylesheet" href="'+a.$normalize_web_path(l.stylesheets.$pygments_stylesheet_name(t),a.$attr("stylesdir",""))+'"'+n+">":l.stylesheets.$instance().$embed_pygments_stylesheet(t))):"highlightjs"["$==="](s)||"highlight.js"["$==="](s)?m["$<<"]('<link rel="stylesheet" href="'+a.$attr("highlightjsdir","http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4")+"/styles/"+a.$attr("highlightjs-theme","googlecode")+'.min.css"'+n+'>\n<script src="'+a.$attr("highlightjsdir","http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4")+'/highlight.min.js"></script>\n<script src="'+a.$attr("highlightjsdir","http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4")+'/lang/common.min.js"></script>\n<script>hljs.initHighlightingOnLoad()</script>'):"prettify"["$==="](s)&&m["$<<"]('<link rel="stylesheet" href="'+a.$attr("prettifydir","http://cdnjs.cloudflare.com/ajax/libs/prettify/r298")+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+n+'>\n<script src="'+a.$attr("prettifydir","http://cdnjs.cloudflare.com/ajax/libs/prettify/r298")+"/prettify.min.js\"></script>\n<script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>"),(b=a["$attr?"]("math"))!==!1&&b!==c&&m["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  tex2jax: {\n    inlineMath: ['+j.INLINE_MATH_DELIMITERS["$[]"]("latexmath")+"],\n    displayMath: ["+j.BLOCK_MATH_DELIMITERS["$[]"]("latexmath")+'],\n    ignoreClass: "nomath|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+j.BLOCK_MATH_DELIMITERS["$[]"]("asciimath")+'],\n    ignoreClass: "nomath|noasciimath"\n  }\n});\n</script>\n<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML"></script>\n<script>document.addEventListener(\'DOMContentLoaded\', MathJax.Hub.TypeSet)</script>'),((b=(u=a.$docinfo())["$empty?"]())===!1||b===c)&&m["$<<"](u),m["$<<"]("</head>"),v=[],(b=a.$id())!==!1&&b!==c&&v["$<<"]('id="'+a.$id()+'"'),e=a["$attr?"]("toc-class"),d=e!==!1&&e!==c?a["$attr?"]("toc"):e,v["$<<"]((b=d!==!1&&d!==c?a["$attr?"]("toc-placement","auto"):d)!==!1&&b!==c?'class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","left")+'"':'class="'+a.$doctype()+'"'),(b=a["$attr?"]("max-width"))!==!1&&b!==c&&v["$<<"]('style="max-width: '+a.$attr("max-width")+';"'),m["$<<"]("<body "+v["$*"](" ")+">"),((b=a.$noheader())===!1||b===c)&&(m["$<<"]('<div id="header">'),a.$doctype()["$=="]("manpage")?(m["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>"),d=a["$attr?"]("toc"),(b=d!==!1&&d!==c?a["$attr?"]("toc-placement","auto"):d)!==!1&&b!==c&&m["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+l.$outline(a)+"\n</div>"),m["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")):((b=a["$has_header?"]())!==!1&&b!==c&&(((b=a.$notitle())===!1||b===c)&&m["$<<"]("<h1>"+a.$header().$title()+"</h1>"),(b=a["$attr?"]("author"))!==!1&&b!==c&&(m["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+o),(b=a["$attr?"]("email"))!==!1&&b!==c&&m["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+o),(w=a.$attr("authorcount").$to_i())["$>"](1)&&(b=(d=g(2,w,!1)).$each,b._p=(h=function(b){{var d;h._s||this}return null==b&&(b=c),m["$<<"]('<span id="author'+b+'" class="author">'+a.$attr("author_"+b)+"</span>"+o),(d=a["$attr?"]("email_"+b))!==!1&&d!==c?m["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+o):c},h._s=l,h),b).call(d)),(b=a["$attr?"]("revnumber"))!==!1&&b!==c&&m["$<<"]('<span id="revnumber">'+((b=a.$attr("version-label"))!==!1&&b!==c?b:"").$downcase()+" "+a.$attr("revnumber")+function(){return(b=a["$attr?"]("revdate"))!==!1&&b!==c?",":""}()+"</span>"),(b=a["$attr?"]("revdate"))!==!1&&b!==c&&m["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>"),(b=a["$attr?"]("revremark"))!==!1&&b!==c&&m["$<<"](""+o+'<span id="revremark">'+a.$attr("revremark")+"</span>")),e=a["$attr?"]("toc"),(b=e!==!1&&e!==c?a["$attr?"]("toc-placement","auto"):e)!==!1&&b!==c&&m["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+l.$outline(a)+"\n</div>")),m["$<<"]("</div>")),m["$<<"]('<div id="content">\n'+a.$content()+"\n</div>"),e=a["$footnotes?"](),(b=e!==!1&&e!==c?(i=a["$attr?"]("nofootnotes"),i===c||i===!1):e)!==!1&&b!==c&&(m["$<<"]('<div id="footnotes">\n<hr'+n+">"),(b=(e=a.$footnotes()).$each,b._p=(k=function(a){k._s||this;return null==a&&(a=c),m["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},k._s=l,k),b).call(e),m["$<<"]("</div>")),((b=a.$nofooter())===!1||b===c)&&(m["$<<"]('<div id="footer">'),m["$<<"]('<div id="footer-text">'),(b=a["$attr?"]("revnumber"))!==!1&&b!==c&&m["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+o),(b=a["$attr?"]("last-update-label"))!==!1&&b!==c&&m["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime")),m["$<<"]("</div>"),((b=(u=a.$docinfo("footer"))["$empty?"]())===!1||b===c)&&m["$<<"](u),m["$<<"]("</div>")),m["$<<"]("</body>"),m["$<<"]("</html>"),m["$*"](j.EOL)},i.$embedded=function(a){var b,d,e,f,g=this,h=c,i=c;return h=[],e=a.$notitle(),d=e===c||e===!1,(b=d!==!1&&d!==c?a["$has_header?"]():d)!==!1&&b!==c&&(i=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),h["$<<"]("<h1"+i+">"+a.$header().$title()+"</h1>")),h["$<<"](a.$content()),d=a["$footnotes?"](),(b=d!==!1&&d!==c?(e=a["$attr?"]("nofootnotes"),e===c||e===!1):d)!==!1&&b!==c&&(h["$<<"]('<div id="footnotes">\n<hr'+g.void_element_slash+">"),(b=(d=a.$footnotes()).$each,b._p=(f=function(a){f._s||this;return null==a&&(a=c),h["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a> "+a.$text()+"\n</div>")},f._s=g,f),b).call(d),h["$<<"]("</div>")),h["$*"](j.EOL)},i.$outline=function(a,b){var d,e,g,h=this,i=c,k=c,l=c,m=c,n=c,o=c;return null==b&&(b=f([],{})),(d=(i=a.$sections())["$empty?"]())!==!1&&d!==c?c:(k=(d=b["$[]"]("sectnumlevels"))!==!1&&d!==c?d:a.$document().$attr("sectnumlevels",3).$to_i(),l=(d=b["$[]"]("toclevels"))!==!1&&d!==c?d:a.$document().$attr("toclevels",2).$to_i(),m=[],n=(o=i["$[]"](0)).$level(),(d=(e=n["$=="](0))?o.$special():e)!==!1&&d!==c&&(n=1),m["$<<"]('<ul class="sectlevel'+n+'">'),(d=(e=i).$each,d._p=(g=function(a){var b,d,e,h,i=g._s||this,j=c,n=c;return null==a&&(a=c),j=function(){return e=a.$numbered(),d=e!==!1&&e!==c?(h=a.$caption(),h===c||h===!1):e,(b=d!==!1&&d!==c?a.$level()["$<="](k):d)!==!1&&b!==c?""+a.$sectnum()+" ":c}(),m["$<<"]('<li><a href="#'+a.$id()+'">'+j+a.$captioned_title()+"</a></li>"),(b=(d=a.$level()["$<"](l))?n=i.$outline(a,f(["toclevels","secnumlevels"],{toclevels:l,secnumlevels:k})):d)!==!1&&b!==c?(m["$<<"]("<li>"),m["$<<"](n),m["$<<"]("</li>")):c},g._s=h,g),d).call(e),m["$<<"]("</ul>"),m["$*"](j.EOL))},i.$section=function(a){var b,d,e,f,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c,o=c;return g=a.$level(),(b=(d=g["$=="](0))?a.$special():d)!==!1&&b!==c&&(g=1),h="h"+g["$+"](1),i=j=k=l=c,(b=a.$id())!==!1&&b!==c&&(i=' id="'+a.$id()+'"',(b=a.$document()["$attr?"]("sectanchors"))!==!1&&b!==c?j='<a class="anchor" href="#'+a.$id()+'"></a>':(b=a.$document()["$attr?"]("sectlinks"))!==!1&&b!==c&&(k='<a class="link" href="#'+a.$id()+'">',l="</a>")),g["$=="](0)?"<h1"+i+' class="sect0">'+j+k+a.$title()+l+"</h1>\n"+a.$content():(m=function(){return(b=n=a.$role())!==!1&&b!==c?' class="sect'+g+" "+n+'"':' class="sect'+g+'"'}(),o=function(){return e=a.$numbered(),d=e!==!1&&e!==c?(f=a.$caption(),f===c||f===!1):e,(b=d!==!1&&d!==c?g["$<="](a.$document().$attr("sectnumlevels",3).$to_i()):d)!==!1&&b!==c?""+a.$sectnum()+" ":c}(),"<div"+m+">\n<"+h+i+">"+j+k+o+a.$captioned_title()+l+"</"+h+">\n"+function(){return g["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content()}()+"\n</div>")},i.$admonition=function(a){var b,d=this,e=c,f=c,g=c,h=c,i=c;return e=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),f=a.$attr("name"),g=function(){return(b=a["$title?"]())!==!1&&b!==c?'<div class="title">'+a.$title()+"</div>\n":c}(),h=function(){return(b=a.$document()["$attr?"]("icons"))!==!1&&b!==c?(b=a.$document()["$attr?"]("icons","font"))!==!1&&b!==c?'<i class="icon-'+f+'" title="'+a.$caption()+'"></i>':'<img src="'+a.$icon_uri(f)+'" alt="'+a.$caption()+'"'+d.void_element_slash+">":'<div class="title">'+a.$caption()+"</div>"}(),"<div"+e+' class="admonitionblock '+f+(b=i=a.$role(),b!==!1&&b!==c?" "+i:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+h+'\n</td>\n<td class="content">\n'+g+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},i.$audio=function(a){var b,d=this,e=c,f=c,g=c,h=c,i=c;return e=a.$document()["$attr?"]("htmlsyntax","xml"),f=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),g=["audioblock",a.$style(),a.$role()].$compact(),h=' class="'+g["$*"](" ")+'"',i=function(){return(b=a["$title?"]())!==!1&&b!==c?'<div class="title">'+a.$captioned_title()+"</div>\n":c}(),"<div"+f+h+">\n"+i+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+function(){return(b=a["$option?"]("autoplay"))!==!1&&b!==c?d.$append_boolean_attribute("autoplay",e):c}()+function(){return(b=a["$option?"]("nocontrols"))!==!1&&b!==c?c:d.$append_boolean_attribute("controls",e)}()+function(){return(b=a["$option?"]("loop"))!==!1&&b!==c?d.$append_boolean_attribute("loop",e):c}()+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},i.$colist=function(a){var b,d,e,f,g,h=this,i=c,k=c,l=c,m=c,n=c;return i=[],k=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),l=["colist",a.$style(),a.$role()].$compact(),m=' class="'+l["$*"](" ")+'"',i["$<<"]("<div"+k+m+">"),(b=a["$title?"]())!==!1&&b!==c&&i["$<<"]('<div class="title">'+a.$title()+"</div>"),(b=a.$document()["$attr?"]("icons"))!==!1&&b!==c?(i["$<<"]("<table>"),n=a.$document()["$attr?"]("icons","font"),(b=(d=a.$items()).$each_with_index,b._p=(e=function(b,d){var f=e._s||this,g=c,h=c;return null==f.void_element_slash&&(f.void_element_slash=c),null==b&&(b=c),null==d&&(d=c),g=d["$+"](1),h=function(){return n!==!1&&n!==c?'<i class="conum" data-value="'+g+'"></i><b>'+g+"</b>":'<img src="'+a.$icon_uri("callouts/"+g)+'" alt="'+g+'"'+f.void_element_slash+">"}(),i["$<<"]("<tr>\n<td>"+h+"</td>\n<td>"+b.$text()+"</td>\n</tr>")},e._s=h,e),b).call(d),i["$<<"]("</table>")):(i["$<<"]("<ol>"),(b=(f=a.$items()).$each,b._p=(g=function(a){g._s||this;return null==a&&(a=c),i["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},g._s=h,g),b).call(f),i["$<<"]("</ol>")),i["$<<"]("</div>"),i["$*"](j.EOL)},i.$dlist=function(a){var b,d,e,f,g,h,i,k=this,l=c,m=c,n=c,o=c,p=c,q=c,r=c,s=c;return l=[],m=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),n=function(){return o=a.$style(),"qanda"["$==="](o)?["qlist","qanda",a.$role()]:"horizontal"["$==="](o)?["hdlist",a.$role()]:["dlist",a.$style(),a.$role()]}().$compact(),p=' class="'+n["$*"](" ")+'"',l["$<<"]("<div"+m+p+">"),(b=a["$title?"]())!==!1&&b!==c&&l["$<<"]('<div class="title">'+a.$title()+"</div>"),o=a.$style(),"qanda"["$==="](o)?(l["$<<"]("<ol>"),(b=(d=a.$items()).$each,b._p=(e=function(a,b){var d,f,g,h=e._s||this;return null==a&&(a=c),null==b&&(b=c),l["$<<"]("<li>"),(d=(f=[].concat(a)).$each,d._p=(g=function(a){g._s||this;return null==a&&(a=c),l["$<<"]("<p><em>"+a.$text()+"</em></p>")},g._s=h,g),d).call(f),b!==!1&&b!==c&&((d=b["$text?"]())!==!1&&d!==c&&l["$<<"]("<p>"+b.$text()+"</p>"),(d=b["$blocks?"]())!==!1&&d!==c&&l["$<<"](b.$content())),l["$<<"]("</li>")},e._s=k,e),b).call(d),l["$<<"]("</ol>")):"horizontal"["$==="](o)?(q=k.void_element_slash,l["$<<"]("<table>"),(b=(f=a["$attr?"]("labelwidth"))!==!1&&f!==c?f:a["$attr?"]("itemwidth"))!==!1&&b!==c&&(l["$<<"]("<colgroup>"),r=function(){return(b=a["$attr?"]("labelwidth"))!==!1&&b!==c?' style="width: '+a.$attr("labelwidth").$chomp("%")+'%;"':c}(),l["$<<"]("<col"+r+q+">"),r=function(){return(b=a["$attr?"]("itemwidth"))!==!1&&b!==c?' style="width: '+a.$attr("itemwidth").$chomp("%")+'%;"':c}(),l["$<<"]("<col"+r+q+">"),l["$<<"]("</colgroup>")),(b=(f=a.$items()).$each,b._p=(g=function(b,d){var e,f,h,i=g._s||this,j=c,k=c;return null==b&&(b=c),null==d&&(d=c),l["$<<"]("<tr>"),l["$<<"]('<td class="hdlist1'+function(){return(e=a["$option?"]("strong"))!==!1&&e!==c?" strong":c}()+'">'),j=[].concat(b),k=j["$[]"](-1),(e=(f=j).$each,e._p=(h=function(a){{var b,d;h._s||this}return null==a&&(a=c),l["$<<"](a.$text()),d=a["$=="](k),(b=d===c||d===!1)!=!1&&b!==c?l["$<<"]("<br"+q+">"):c},h._s=i,h),e).call(f),l["$<<"]("</td>"),l["$<<"]('<td class="hdlist2">'),d!==!1&&d!==c&&((e=d["$text?"]())!==!1&&e!==c&&l["$<<"]("<p>"+d.$text()+"</p>"),(e=d["$blocks?"]())!==!1&&e!==c&&l["$<<"](d.$content())),l["$<<"]("</td>"),l["$<<"]("</tr>")},g._s=k,g),b).call(f),l["$<<"]("</table>")):(l["$<<"]("<dl>"),s=function(){return(b=a.$style())!==!1&&b!==c?c:' class="hdlist1"'}(),(b=(h=a.$items()).$each,b._p=(i=function(a,b){var d,e,f,g=i._s||this;return null==a&&(a=c),null==b&&(b=c),(d=(e=[].concat(a)).$each,d._p=(f=function(a){f._s||this;
return null==a&&(a=c),l["$<<"]("<dt"+s+">"+a.$text()+"</dt>")},f._s=g,f),d).call(e),b!==!1&&b!==c?(l["$<<"]("<dd>"),(d=b["$text?"]())!==!1&&d!==c&&l["$<<"]("<p>"+b.$text()+"</p>"),(d=b["$blocks?"]())!==!1&&d!==c&&l["$<<"](b.$content()),l["$<<"]("</dd>")):c},i._s=k,i),b).call(h),l["$<<"]("</dl>")),l["$<<"]("</div>"),l["$*"](j.EOL)},i.$example=function(a){var b,d=c,e=c,f=c;return d=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),e=function(){return(b=a["$title?"]())!==!1&&b!==c?'<div class="title">'+a.$captioned_title()+"</div>\n":c}(),"<div"+d+' class="'+function(){return(b=f=a.$role())!==!1&&b!==c?["exampleblock",f]["$*"](" "):"exampleblock"}()+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},i.$floating_title=function(a){var b,d=c,e=c,f=c;return d="h"+a.$level()["$+"](1),e=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),f=[a.$style(),a.$role()].$compact(),"<"+d+e+' class="'+f["$*"](" ")+'">'+a.$title()+"</"+d+">"},i.$image=function(a){var b,d,e=this,f=c,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c,o=c,p=c,q=c;return f=function(){return(b=a["$attr?"]("align"))!==!1&&b!==c?a.$attr("align"):c}(),g=function(){return(b=a["$attr?"]("float"))!==!1&&b!==c?a.$attr("float"):c}(),h=function(){return(b=(d=f)!==!1&&d!==c?d:g)!==!1&&b!==c?(i=[function(){return f!==!1&&f!==c?"text-align: "+f:c}(),function(){return g!==!1&&g!==c?"float: "+g:c}()].$compact(),' style="'+i["$*"](";")+'"'):c}(),j=function(){return(b=a["$attr?"]("width"))!==!1&&b!==c?' width="'+a.$attr("width")+'"':c}(),k=function(){return(b=a["$attr?"]("height"))!==!1&&b!==c?' height="'+a.$attr("height")+'"':c}(),l='<img src="'+a.$image_uri(a.$attr("target"))+'" alt="'+a.$attr("alt")+'"'+j+k+e.void_element_slash+">",(b=m=a.$attr("link"))!==!1&&b!==c&&(l='<a class="image" href="'+m+'">'+l+"</a>"),n=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),o=["imageblock",a.$style(),a.$role()].$compact(),p=' class="'+o["$*"](" ")+'"',q=function(){return(b=a["$title?"]())!==!1&&b!==c?'\n<div class="title">'+a.$captioned_title()+"</div>":c}(),"<div"+n+p+h+'>\n<div class="content">\n'+l+"\n</div>"+q+"\n</div>"},i.$listing=function(a){var b,d,e=c,f=c,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c,o=c;return d=a.$document()["$attr?"]("prewrap"),e=(b=d===c||d===!1)!=!1&&b!==c?b:a["$option?"]("nowrap"),a.$style()["$=="]("source")?(f=a.$attr("language"),g=function(){return f!==!1&&f!==c?""+f+" language-"+f:c}(),h=a.$attr("source-highlighter"),"coderay"["$==="](h)?(i=function(){return e!==!1&&e!==c?' class="CodeRay nowrap"':' class="CodeRay"'}(),j=function(){return f!==!1&&f!==c?' class="'+g+'"':c}()):"pygments"["$==="](h)?(i=function(){return e!==!1&&e!==c?' class="pygments highlight nowrap"':' class="pygments highlight"'}(),j=function(){return f!==!1&&f!==c?' class="'+g+'"':c}()):"highlightjs"["$==="](h)||"highlight.js"["$==="](h)?(i=function(){return e!==!1&&e!==c?' class="highlight nowrap"':' class="highlight"'}(),j=function(){return f!==!1&&f!==c?' class="'+g+'"':c}()):"prettify"["$==="](h)?(i=' class="prettyprint'+function(){return e!==!1&&e!==c?" nowrap":c}()+function(){return(b=a["$attr?"]("linenums"))!==!1&&b!==c?" linenums":c}()+'"',j=function(){return f!==!1&&f!==c?' class="'+g+'"':c}()):"html-pipeline"["$==="](h)?(i=function(){return f!==!1&&f!==c?' lang="'+f+'"':c}(),j=c):(i=function(){return e!==!1&&e!==c?' class="highlight nowrap"':' class="highlight"'}(),j=function(){return f!==!1&&f!==c?' class="'+g+'"':c}()),k="<pre"+i+"><code"+j+">",l="</code></pre>"):(k="<pre"+function(){return e!==!1&&e!==c?' class="nowrap"':c}()+">",l="</pre>"),m=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),n=function(){return(b=a["$title?"]())!==!1&&b!==c?'<div class="title">'+a.$captioned_title()+"</div>\n":c}(),"<div"+m+' class="listingblock'+(b=o=a.$role(),b!==!1&&b!==c?" "+o:b)+'">\n'+n+'<div class="content">\n'+k+a.$content()+l+"\n</div>\n</div>"},i.$literal=function(a){var b,d,e=c,f=c,g=c,h=c;return e=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),f=function(){return(b=a["$title?"]())!==!1&&b!==c?'<div class="title">'+a.$title()+"</div>\n":c}(),d=a.$document()["$attr?"]("prewrap"),g=(b=d===c||d===!1)!=!1&&b!==c?b:a["$option?"]("nowrap"),"<div"+e+' class="literalblock'+(b=h=a.$role(),b!==!1&&b!==c?" "+h:b)+'">\n'+f+'<div class="content">\n<pre'+function(){return g!==!1&&g!==c?' class="nowrap"':c}()+">"+a.$content()+"</pre>\n</div>\n</div>"},i.$math=function(b){var d,e,f,g=c,h=c,i=c,k=c,l=c,m=c;return g=function(){return(d=b.$id())!==!1&&d!==c?' id="'+b.$id()+'"':c}(),h=function(){return(d=b["$title?"]())!==!1&&d!==c?'<div class="title">'+b.$title()+"</div>\n":c}(),d=a.to_ary(j.BLOCK_MATH_DELIMITERS["$[]"](b.$style().$to_sym())),i=null==d[0]?c:d[0],k=null==d[1]?c:d[1],l=b.$content().$strip(),e=b.$subs()["$nil_or_empty?"](),(d=e!==!1&&e!==c?(f=b["$attr?"]("subs"),f===c||f===!1):e)!==!1&&d!==c&&(l=b.$sub_specialcharacters(l)),e=l["$start_with?"](i),((d=e!==!1&&e!==c?l["$end_with?"](k):e)===!1||d===c)&&(l=""+i+l+k),"<div"+g+' class="'+function(){return(d=m=b.$role())!==!1&&d!==c?["mathblock",m]["$*"](" "):"mathblock"}()+'">\n'+h+'<div class="content">\n'+l+"\n</div>\n</div>"},i.$olist=function(a){var b,d,e,f=this,g=c,h=c,i=c,k=c,l=c,m=c,n=c;return g=[],h=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),i=["olist",a.$style(),a.$role()].$compact(),k=' class="'+i["$*"](" ")+'"',g["$<<"]("<div"+h+k+">"),(b=a["$title?"]())!==!1&&b!==c&&g["$<<"]('<div class="title">'+a.$title()+"</div>"),l=function(){return(b=m=a.$list_marker_keyword())!==!1&&b!==c?' type="'+m+'"':c}(),n=function(){return(b=a["$attr?"]("start"))!==!1&&b!==c?' start="'+a.$attr("start")+'"':c}(),g["$<<"]('<ol class="'+a.$style()+'"'+l+n+">"),(b=(d=a.$items()).$each,b._p=(e=function(a){{var b;e._s||this}return null==a&&(a=c),g["$<<"]("<li>"),g["$<<"]("<p>"+a.$text()+"</p>"),(b=a["$blocks?"]())!==!1&&b!==c&&g["$<<"](a.$content()),g["$<<"]("</li>")},e._s=f,e),b).call(d),g["$<<"]("</ol>"),g["$<<"]("</div>"),g["$*"](j.EOL)},i.$open=function(a){var b,d,e,f,g,h=this,i=c,j=c,k=c,l=c;return(i=a.$style())["$=="]("abstract")?(b=(d=a.$parent()["$=="](a.$document()))?a.$document().$doctype()["$=="]("book"):d)!==!1&&b!==c?(h.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),""):(j=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),k=function(){return(b=a["$title?"]())!==!1&&b!==c?'<div class="title">'+a.$title()+"</div>":c}(),"<div"+j+' class="quoteblock abstract'+(b=l=a.$role(),b!==!1&&b!==c?" "+l:b)+'">\n'+k+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"):(b=(d=i["$=="]("partintro"))?(g=a.$level()["$=="](0),(e=(f=g===c||g===!1)!=!1&&f!==c?f:(g=a.$parent().$context()["$=="]("section"),g===c||g===!1))!==!1&&e!==c?e:(f=a.$document().$doctype()["$=="]("book"),f===c||f===!1)):d)!==!1&&b!==c?(h.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),""):(j=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),k=function(){return(b=a["$title?"]())!==!1&&b!==c?'<div class="title">'+a.$title()+"</div>":c}(),"<div"+j+' class="openblock'+function(){return(b=(d=i!==!1&&i!==c)?(e=i["$=="]("open"),e===c||e===!1):d)!==!1&&b!==c?" "+i:""}()+(b=l=a.$role(),b!==!1&&b!==c?" "+l:b)+'">\n'+k+'<div class="content">\n'+a.$content()+"\n</div>\n</div>")},i.$page_break=function(){return'<div style="page-break-after: always;"></div>'},i.$paragraph=function(a){var b,d=c;return d=function(){return(b=a.$id())!==!1&&b!==c?(b=a.$role())!==!1&&b!==c?' id="'+a.$id()+'" class="paragraph '+a.$role()+'"':' id="'+a.$id()+'" class="paragraph"':(b=a.$role())!==!1&&b!==c?' class="paragraph '+a.$role()+'"':' class="paragraph"'}(),(b=a["$title?"]())!==!1&&b!==c?"<div"+d+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div"+d+">\n<p>"+a.$content()+"</p>\n</div>"},i.$preamble=function(a){var b,d,e=this,f=c;return f=function(){return d=a["$attr?"]("toc"),(b=d!==!1&&d!==c?a["$attr?"]("toc-placement","preamble"):d)!==!1&&b!==c?'\n<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+e.$outline(a.$document())+"\n</div>":c}(),'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+f+"\n</div>"},i.$quote=function(a){var b,d,e=this,f=c,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c;return f=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),g=["quoteblock",a.$role()].$compact(),h=' class="'+g["$*"](" ")+'"',i=function(){return(b=a["$title?"]())!==!1&&b!==c?'\n<div class="title">'+a.$title()+"</div>":c}(),j=function(){return(b=a["$attr?"]("attribution"))!==!1&&b!==c?a.$attr("attribution"):c}(),k=function(){return(b=a["$attr?"]("citetitle"))!==!1&&b!==c?a.$attr("citetitle"):c}(),(b=(d=j)!==!1&&d!==c?d:k)!==!1&&b!==c?(l=function(){return k!==!1&&k!==c?"<cite>"+k+"</cite>":c}(),m=function(){return j!==!1&&j!==c?""+function(){return k!==!1&&k!==c?"<br"+e.void_element_slash+">\n":c}()+"&#8212; "+j:c}(),n='\n<div class="attribution">\n'+l+m+"\n</div>"):n=c,"<div"+f+h+">"+i+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+n+"\n</div>"},i.$thematic_break=function(){var a=this;return"<hr"+a.void_element_slash+">"},i.$sidebar=function(a){var b,d=c,e=c,f=c;return d=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),e=function(){return(b=a["$title?"]())!==!1&&b!==c?'<div class="title">'+a.$title()+"</div>\n":c}(),"<div"+d+' class="'+function(){return(b=f=a.$role())!==!1&&b!==c?["sidebarblock",f]["$*"](" "):"sidebarblock"}()+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"},i.$table=function(a){var b,d,e,f,g,h,i,k,l,m,n=this,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c;return o=[],p=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),q=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],(b=r=a.$role())!==!1&&b!==c&&q["$<<"](r),s=' class="'+q["$*"](" ")+'"',t=[function(){return(b=a["$option?"]("autowidth"))!==!1&&b!==c?c:"width: "+a.$attr("tablepcwidth")+"%;"}(),function(){return(b=a["$attr?"]("float"))!==!1&&b!==c?"float: "+a.$attr("float")+";":c}()].$compact(),u=function(){return t.$size()["$>"](0)?' style="'+t["$*"](" ")+'"':c}(),o["$<<"]("<table"+p+s+u+">"),(b=a["$title?"]())!==!1&&b!==c&&o["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>"),a.$attr("rowcount")["$>"](0)&&(v=n.void_element_slash,o["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))!==!1&&b!==c?(w="<col"+v+">",(b=(d=a.$columns().$size()).$times,b._p=(e=function(){e._s||this;return o["$<<"](w)},e._s=n,e),b).call(d)):(b=(f=a.$columns()).$each,b._p=(g=function(a){g._s||this;return null==a&&(a=c),o["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+v+">")},g._s=n,g),b).call(f),o["$<<"]("</colgroup>"),(b=(h=(k=(l=["head","foot","body"]).$select,k._p=(m=function(b){{var d;m._s||this}return null==b&&(b=c),d=a.$rows()["$[]"](b)["$empty?"](),d===c||d===!1},m._s=n,m),k).call(l)).$each,b._p=(i=function(b){var d,e,f,g=i._s||this;return null==b&&(b=c),o["$<<"]("<t"+b+">"),(d=(e=a.$rows()["$[]"](b)).$each,d._p=(f=function(d){var e,g,h,i=f._s||this;return null==d&&(d=c),o["$<<"]("<tr>"),(e=(g=d).$each,e._p=(h=function(d){var e,f,g,i,j=h._s||this,k=c,l=c,m=c,n=c,p=c,q=c,r=c;return null==d&&(d=c),b["$=="]("head")?k=d.$text():(l=d.$style(),"asciidoc"["$==="](l)?k="<div>"+d.$content()+"</div>":"verse"["$==="](l)?k='<div class="verse">'+d.$text()+"</div>":"literal"["$==="](l)?k='<div class="literal"><pre>'+d.$text()+"</pre></div>":(k="",(e=(f=d.$content()).$each,e._p=(g=function(a){g._s||this;return null==a&&(a=c),k=""+k+'<p class="tableblock">'+a+"</p>"},g._s=j,g),e).call(f))),m=function(){return(e=(i=b["$=="]("head"))!==!1&&i!==c?i:d.$style()["$=="]("header"))!==!1&&e!==c?"th":"td"}(),n=' class="tableblock halign-'+d.$attr("halign")+" valign-"+d.$attr("valign")+'"',p=function(){return(e=d.$colspan())!==!1&&e!==c?' colspan="'+d.$colspan()+'"':c}(),q=function(){return(e=d.$rowspan())!==!1&&e!==c?' rowspan="'+d.$rowspan()+'"':c}(),r=function(){return(e=a.$document()["$attr?"]("cellbgcolor"))!==!1&&e!==c?' style="background-color: '+a.$document().$attr("cellbgcolor")+';"':c}(),o["$<<"]("<"+m+n+p+q+r+">"+k+"</"+m+">")},h._s=i,h),e).call(g),o["$<<"]("</tr>")},f._s=g,f),d).call(e),o["$<<"]("</t"+b+">")},i._s=n,i),b).call(h)),o["$<<"]("</table>"),o["$*"](j.EOL)},i.$toc=function(a){var b,d,e,g=this,h=c,i=c,j=c,k=c,l=c,m=c;return(b=(h=a.$document())["$attr?"]("toc"))===!1||b===c?"<!-- toc disabled -->":((b=a.$id())!==!1&&b!==c?(i=' id="'+a.$id()+'"',j=""):(b=(d=h["$embedded?"]())!==!1&&d!==c?d:(e=h["$attr?"]("toc-placement"),e===c||e===!1))!==!1&&b!==c?(i=' id="toc"',j=' id="toctitle"'):(i=c,j=c),k=function(){return(b=a["$title?"]())!==!1&&b!==c?a.$title():h.$attr("toc-title")}(),l=function(){return(b=a["$attr?"]("levels"))!==!1&&b!==c?a.$attr("levels").$to_i():c}(),m=function(){return(b=a["$role?"]())!==!1&&b!==c?a.$role():h.$attr("toc-class","toc")}(),"<div"+i+' class="'+m+'">\n<div'+j+' class="title">'+k+"</div>\n"+g.$outline(h,f(["toclevels"],{toclevels:l}))+"\n</div>")},i.$ulist=function(a){var b,d,e,f=this,g=c,h=c,i=c,k=c,l=c,m=c,n=c;return g=[],h=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),i=["ulist",a.$style(),a.$role()].$compact(),k=c,l=c,(b=m=a["$option?"]("checklist"))!==!1&&b!==c?(i.$insert(1,"checklist"),n=' class="checklist"',(b=a["$option?"]("interactive"))!==!1&&b!==c?(b=a.$document()["$attr?"]("htmlsyntax","xml"))!==!1&&b!==c?(k='<input type="checkbox" data-item-complete="1" checked="checked"/> ',l='<input type="checkbox" data-item-complete="0"/> '):(k='<input type="checkbox" data-item-complete="1" checked> ',l='<input type="checkbox" data-item-complete="0"> '):(b=a.$document()["$attr?"]("icons","font"))!==!1&&b!==c?(k='<i class="icon-check"></i> ',l='<i class="icon-check-empty"></i> '):(k="&#10003; ",l="&#10063; ")):n=function(){return(b=a.$style())!==!1&&b!==c?' class="'+a.$style()+'"':c}(),g["$<<"]("<div"+h+' class="'+i["$*"](" ")+'">'),(b=a["$title?"]())!==!1&&b!==c&&g["$<<"]('<div class="title">'+a.$title()+"</div>"),g["$<<"]("<ul"+n+">"),(b=(d=a.$items()).$each,b._p=(e=function(a){{var b,d;e._s||this}return null==a&&(a=c),g["$<<"]("<li>"),g["$<<"]((b=(d=m!==!1&&m!==c)?a["$attr?"]("checkbox"):d)!==!1&&b!==c?"<p>"+function(){return(b=a["$attr?"]("checked"))!==!1&&b!==c?k:l}()+a.$text()+"</p>":"<p>"+a.$text()+"</p>"),(b=a["$blocks?"]())!==!1&&b!==c&&g["$<<"](a.$content()),g["$<<"]("</li>")},e._s=f,e),b).call(d),g["$<<"]("</ul>"),g["$<<"]("</div>"),g["$*"](j.EOL)},i.$verse=function(a){var b,d,e=this,f=c,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c;return f=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),g=["verseblock",a.$role()].$compact(),h=' class="'+g["$*"](" ")+'"',i=function(){return(b=a["$title?"]())!==!1&&b!==c?'\n<div class="title">'+a.$title()+"</div>":c}(),j=function(){return(b=a["$attr?"]("attribution"))!==!1&&b!==c?a.$attr("attribution"):c}(),k=function(){return(b=a["$attr?"]("citetitle"))!==!1&&b!==c?a.$attr("citetitle"):c}(),(b=(d=j)!==!1&&d!==c?d:k)!==!1&&b!==c?(l=function(){return k!==!1&&k!==c?"<cite>"+k+"</cite>":c}(),m=function(){return j!==!1&&j!==c?""+function(){return k!==!1&&k!==c?"<br"+e.void_element_slash+">\n":c}()+"&#8212; "+j:c}(),n='\n<div class="attribution">\n'+l+m+"\n</div>"):n=c,"<div"+f+h+">"+i+'\n<pre class="content">'+a.$content()+"</pre>"+n+"\n</div>"},i.$video=function(a){var b,d,e=this,f=c,g=c,h=c,i=c,j=c,k=c,l=c,m=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c;return f=a.$document()["$attr?"]("htmlsyntax","xml"),g=function(){return(b=a.$id())!==!1&&b!==c?' id="'+a.$id()+'"':c}(),h=["videoblock",a.$style(),a.$role()].$compact(),i=' class="'+h["$*"](" ")+'"',j=function(){return(b=a["$title?"]())!==!1&&b!==c?'\n<div class="title">'+a.$captioned_title()+"</div>":c}(),k=function(){return(b=a["$attr?"]("width"))!==!1&&b!==c?' width="'+a.$attr("width")+'"':c}(),l=function(){return(b=a["$attr?"]("height"))!==!1&&b!==c?' height="'+a.$attr("height")+'"':c}(),function(){return m=a.$attr("poster"),"vimeo"["$==="](m)?(n=function(){return(b=a["$attr?"]("start"))!==!1&&b!==c?"#at="+a.$attr("start"):c}(),o="?",p=function(){return(b=a["$option?"]("autoplay"))!==!1&&b!==c?""+o+"autoplay=1":c}(),p!==!1&&p!==c&&(o="&amp;"),q=function(){return(b=a["$option?"]("loop"))!==!1&&b!==c?""+o+"loop=1":c}(),"<div"+g+i+">"+j+'\n<div class="content">\n<iframe'+k+l+' src="//player.vimeo.com/video/'+a.$attr("target")+n+p+q+'" frameborder="0"'+e.$append_boolean_attribute("webkitAllowFullScreen",f)+e.$append_boolean_attribute("mozallowfullscreen",f)+e.$append_boolean_attribute("allowFullScreen",f)+"></iframe>\n</div>\n</div>"):"youtube"["$==="](m)?(r=function(){return(b=a["$attr?"]("start"))!==!1&&b!==c?"&amp;start="+a.$attr("start"):c}(),s=function(){return(b=a["$attr?"]("end"))!==!1&&b!==c?"&amp;end="+a.$attr("end"):c}(),p=function(){return(b=a["$option?"]("autoplay"))!==!1&&b!==c?"&amp;autoplay=1":c}(),q=function(){return(b=a["$option?"]("loop"))!==!1&&b!==c?"&amp;loop=1":c}(),t=function(){return(b=a["$option?"]("nocontrols"))!==!1&&b!==c?"&amp;controls=0":c}(),"<div"+g+i+">"+j+'\n<div class="content">\n<iframe'+k+l+' src="//www.youtube.com/embed/'+a.$attr("target")+"?rel=0"+r+s+p+q+t+'" frameborder="0"'+function(){return(b=a["$option?"]("nofullscreen"))!==!1&&b!==c?c:e.$append_boolean_attribute("allowfullscreen",f)}()+"></iframe>\n</div>\n</div>"):(u=function(){return(b=(""+(v=a.$attr("poster")))["$empty?"]())!==!1&&b!==c?c:' poster="'+a.$media_uri(v)+'"'}(),w=function(){return(b=(d=a["$attr?"]("start"))!==!1&&d!==c?d:a["$attr?"]("end"))!==!1&&b!==c?"#t="+a.$attr("start")+function(){return(b=a["$attr?"]("end"))!==!1&&b!==c?",":c}()+a.$attr("end"):c}(),"<div"+g+i+">"+j+'\n<div class="content">\n<video src="'+a.$media_uri(a.$attr("target"))+w+'"'+k+l+u+function(){return(b=a["$option?"]("autoplay"))!==!1&&b!==c?e.$append_boolean_attribute("autoplay",f):c}()+function(){return(b=a["$option?"]("nocontrols"))!==!1&&b!==c?c:e.$append_boolean_attribute("controls",f)}()+function(){return(b=a["$option?"]("loop"))!==!1&&b!==c?e.$append_boolean_attribute("loop",f):c}()+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>")}()},i.$inline_anchor=function(a){var b,d,e=this,f=c,g=c,h=c,i=c,j=c,k=c,l=c;return f=a.$target(),function(){return g=a.$type(),"xref"["$==="](g)?(h=(b=a.$attr("refid"))!==!1&&b!==c?b:f,i=(b=a.$text())!==!1&&b!==c?b:(d=a.$document().$references()["$[]"]("ids")["$[]"](h))!==!1&&d!==c?d:"["+h+"]",'<a href="'+f+'">'+i+"</a>"):"ref"["$==="](g)?'<a id="'+f+'"></a>':"link"["$==="](g)?(j=function(){return(b=k=a.$role())!==!1&&b!==c?' class="'+k+'"':c}(),l=function(){return(b=a["$attr?"]("window"))!==!1&&b!==c?' target="'+a.$attr("window")+'"':c}(),'<a href="'+f+'"'+j+l+">"+a.$text()+"</a>"):"bibref"["$==="](g)?'<a id="'+f+'"></a>['+f+"]":e.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()},i.$inline_break=function(a){var b=this;return""+a.$text()+"<br"+b.void_element_slash+">"},i.$inline_button=function(a){return'<b class="button">'+a.$text()+"</b>"},i.$inline_callout=function(a){var b,d=this,e=c;return(b=a.$document()["$attr?"]("icons","font"))!==!1&&b!==c?'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>":(b=a.$document()["$attr?"]("icons"))!==!1&&b!==c?(e=a.$icon_uri("callouts/"+a.$text()),'<img src="'+e+'" alt="'+a.$text()+'"'+d.void_element_slash+">"):"<b>("+a.$text()+")</b>"},i.$inline_footnote=function(a){var b,d=c,e=c;return(b=d=a.$attr("index"))!==!1&&b!==c?a.$type()["$=="]("xref")?'<span class="footnoteref">[<a class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</span>":(e=function(){return(b=a.$id())!==!1&&b!==c?' id="_footnote_'+a.$id()+'"':c}(),'<span class="footnote"'+e+'>[<a id="_footnoteref_'+d+'" class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</span>"):a.$type()["$=="]("xref")?'<span class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</span>":c},i.$inline_image=function(a){var b,d,e,f,g=this,h=c,i=c,j=c,k=c,l=c,m=c,n=c,o=c,p=c,q=c;return(b=(d=(h=a.$type())["$=="]("icon"))?a.$document()["$attr?"]("icons","font"):d)!==!1&&b!==c?(i="icon-"+a.$target(),(b=a["$attr?"]("size"))!==!1&&b!==c&&(i=""+i+" icon-"+a.$attr("size")),(b=a["$attr?"]("rotate"))!==!1&&b!==c&&(i=""+i+" icon-rotate-"+a.$attr("rotate")),(b=a["$attr?"]("flip"))!==!1&&b!==c&&(i=""+i+" icon-flip-"+a.$attr("flip")),j=function(){return(b=a["$attr?"]("title"))!==!1&&b!==c?' title="'+a.$attr("title")+'"':c}(),k='<i class="'+i+'"'+j+"></i>"):(b=(d=h["$=="]("icon"))?(e=a.$document()["$attr?"]("icons"),e===c||e===!1):d)!==!1&&b!==c?k="["+a.$attr("alt")+"]":(l=function(){return(b=h["$=="]("icon"))!==!1&&b!==c?a.$icon_uri(a.$target()):a.$image_uri(a.$target())}(),m=(b=(d=["alt","width","height","title"]).$map,b._p=(f=function(b){{var d;f._s||this}return null==b&&(b=c),(d=a["$attr?"](b))!==!1&&d!==c?" "+b+'="'+a.$attr(b)+'"':c},f._s=g,f),b).call(d).$join(),k='<img src="'+l+'"'+m+g.void_element_slash+">"),(b=a["$attr?"]("link"))!==!1&&b!==c&&(n=function(){return(b=a["$attr?"]("window"))!==!1&&b!==c?' target="'+a.$attr("window")+'"':c}(),k='<a class="image" href="'+a.$attr("link")+'"'+n+">"+k+"</a>"),o=function(){return(b=p=a.$role())!==!1&&b!==c?""+h+" "+p:h}(),q=function(){return(b=a["$attr?"]("float"))!==!1&&b!==c?' style="float: '+a.$attr("float")+'"':c}(),'<span class="'+o+'"'+q+">"+k+"</span>"},i.$inline_indexterm=function(a){return a.$type()["$=="]("visible")?a.$text():""},i.$inline_kbd=function(a){var b,d,e,f=this,g=c,h=c;return(g=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+g["$[]"](0)+"</kbd>":(h=(b=(d=g).$map,b._p=(e=function(a){e._s||this;return null==a&&(a=c),"<kbd>"+a+"</kbd>+"},e._s=f,e),b).call(d).$join().$chop(),'<span class="keyseq">'+h+"</span>")},i.$inline_menu=function(a){var b,d,e,f=this,g=c,h=c,i=c,j=c;return g=a.$attr("menu"),d=(h=a.$attr("submenus"))["$empty?"](),(b=d===c||d===!1)!=!1&&b!==c?(i=(b=(d=h).$map,b._p=(e=function(a){e._s||this;return null==a&&(a=c),'<span class="submenu">'+a+"</span>&#160;&#9656; "},e._s=f,e),b).call(d).$join().$chop(),'<span class="menuseq"><span class="menu">'+g+"</span>&#160;&#9656; "+i+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>"):(b=j=a.$attr("menuitem"))!==!1&&b!==c?'<span class="menuseq"><span class="menu">'+g+'</span>&#160;&#9656; <span class="menuitem">'+j+"</span></span>":'<span class="menu">'+g+"</span>"},i.$inline_quoted=function(b){var d,e=c,f=c,g=c,h=c,i=c;return d=a.to_ary(j.QUOTE_TAGS["$[]"](b.$type())),e=null==d[0]?c:d[0],f=null==d[1]?c:d[1],g=null==d[2]?c:d[2],h=function(){return(d=i=b.$role())!==!1&&d!==c?g!==!1&&g!==c?""+e.$chop()+' class="'+i+'">'+b.$text()+f:'<span class="'+i+'">'+e+b.$text()+f+"</span>":""+e+b.$text()+f}(),(d=b.$id())!==!1&&d!==c?'<a id="'+b.$id()+'"></a>'+h:h},i.$append_boolean_attribute=function(a,b){return b!==!1&&b!==c?" "+a+'="'+a+'"':" "+a},c}(i.Converter,i.Converter._scope.BuiltIn)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.hash2,h=a.range;return function(b){var i=e(b,"Asciidoctor"),j=(i._proto,i._scope);!function(b,e){function i(){}var j,k,l,m,n=i=f(b,e,"Document",i),o=i._proto,p=i._scope;return o.attributes=o.safe=o.reader=o.callouts=o.base_dir=o.parsed=o.parent_document=o.extensions=o.options=o.counters=o.references=o.doctype=o.backend=o.header=o.blocks=o.attributes_modified=o.id=o.original_attributes=o.attribute_overrides=o.converter=c,a.cdecl(p,"Footnote",(null==(j=a.Object._scope.Struct)?a.cm("Struct"):j).$new("index","id","text")),function(a,b){function d(){}{var e=d=f(a,b,"AttributeEntry",d),g=d._proto;d._scope}return e.$attr_reader("name","value","negate"),g.$initialize=function(a,b,d){var e,f=this;return null==d&&(d=c),f.name=a,f.value=b,f.negate=function(){return(e=d["$nil?"]())!==!1&&e!==c?b["$nil?"]():d}()},g.$save_to=function(a){var b,d,e,f=this;return(b="attribute_entries",d=a,(e=d["$[]"](b))!==!1&&e!==c?e:d["$[]="](b,[]))["$<<"](f)},c}(n,null),n.$attr_reader("safe"),n.$attr_reader("references"),n.$attr_reader("counters"),n.$attr_reader("callouts"),n.$attr_reader("header"),n.$attr_reader("base_dir"),n.$attr_reader("parent_document"),n.$attr_reader("reader"),n.$attr_reader("converter"),n.$attr_reader("extensions"),o.$initialize=k=function(b,d){var e,f,i,j,l,m,n,o,q,r,s,t,u=this,v=(k._p,c),w=c,x=c,y=c,z=c,A=c,B=c,C=c,D=c,E=c,F=c,G=c,H=c,I=c,J=c;return null==b&&(b=c),null==d&&(d=g([],{})),k._p=null,a.find_super_dispatcher(u,"initialize",k,null).apply(u,[u,"document"]),(e=v=d.$delete("parent"))!==!1&&e!==c?(u.parent_document=v,e="base_dir",f=d,(i=f["$[]"](e))!==!1&&i!==c?i:f["$[]="](e,v.$base_dir()),u.references=(e=(f=v.$references()).$opalInject,e._p=(j=function(a,b){j._s||this;return null==a&&(a=c),key=b[0],ref=b[1],key["$=="]("footnotes")?a["$[]="]("footnotes",[]):a["$[]="](key,ref),a},j._s=u,j),e).call(f,g([],{})),w=v.$attributes().$dup(),w.$delete("doctype"),u.attribute_overrides=w,u.safe=v.$safe(),u.converter=v.$converter(),x=!1,u.extensions=v.$extensions()):(u.parent_document=c,u.references=g(["ids","footnotes","links","images","indexterms","includes"],{ids:g([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:(null==(e=a.Object._scope.Set)?a.cm("Set"):e).$new()}),w=g([],{}),(e=(i=(m=d["$[]"]("attributes"))!==!1&&m!==c?m:g([],{})).$each,e._p=(l=function(a,b){{var d;l._s||this}return null==a&&(a=c),null==b&&(b=c),(d=a["$start_with?"]("!"))!==!1&&d!==c?(a=a["$[]"](h(1,-1,!1)),b=c):(d=a["$end_with?"]("!"))!==!1&&d!==c&&(a=a.$chop(),b=c),w["$[]="](a.$downcase(),b)},l._s=u,l),e).call(i),u.attribute_overrides=w,u.safe=c,u.converter=c,x=function(){try{return null!=(null==(e=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):e)._scope.Extensions?"constant":c}catch(b){if(b._klass===Opal.NameError)return c;throw b}}(),u.extensions=c),u.parsed=!1,u.header=c,u.counters=g([],{}),u.callouts=p.Callouts.$new(),u.attributes_modified=(null==(e=a.Object._scope.Set)?a.cm("Set"):e).$new(),u.options=d,((e=v)===!1||e===c)&&(m=y=d["$[]"]("safe"),u.safe=(e=m===c||m===!1)!=!1&&e!==c?p.SafeMode._scope.SECURE:(e=y["$is_a?"](null==(m=a.Object._scope.Fixnum)?a.cm("Fixnum"):m))!==!1&&e!==c?y:function(){try{return p.SafeMode.$const_get(y.$to_s().$upcase()).$to_i()}catch(a){return p.SafeMode._scope.SECURE.$to_i()}}()),e="header_footer",m=d,z=(n=m["$[]"](e))!==!1&&n!==c?n:m["$[]="](e,!1),A=u.attributes,A["$[]="]("encoding","UTF-8"),A["$[]="]("sectids",""),((e=z)===!1||e===c)&&A["$[]="]("notitle",""),A["$[]="]("toc-placement","auto"),A["$[]="]("stylesheet",""),z!==!1&&z!==c&&A["$[]="]("copycss",""),A["$[]="]("prewrap",""),A["$[]="]("attribute-undefined",p.Compliance.$attribute_undefined()),A["$[]="]("attribute-missing",p.Compliance.$attribute_missing()),A["$[]="]("caution-caption","Caution"),A["$[]="]("important-caption","Important"),A["$[]="]("note-caption","Note"),A["$[]="]("tip-caption","Tip"),A["$[]="]("warning-caption","Warning"),A["$[]="]("appendix-caption","Appendix"),A["$[]="]("example-caption","Example"),A["$[]="]("figure-caption","Figure"),A["$[]="]("table-caption","Table"),A["$[]="]("toc-title","Table of Contents"),A["$[]="]("manname-title","NAME"),A["$[]="]("untitled-label","Untitled"),A["$[]="]("version-label","Version"),A["$[]="]("last-update-label","Last updated"),w["$[]="]("asciidoctor",""),w["$[]="]("asciidoctor-version",p.VERSION),B=(e=(m=p.SafeMode.$constants()).$detect,e._p=(o=function(a){var b=o._s||this;return null==b.safe&&(b.safe=c),null==a&&(a=c),p.SafeMode.$const_get(a)["$=="](b.safe)},o._s=u,o),e).call(m).$to_s().$downcase(),w["$[]="]("safe-mode-name",B),w["$[]="]("safe-mode-"+B,""),w["$[]="]("safe-mode-level",u.safe),w["$[]="]("embedded",function(){return z!==!1&&z!==c?c:""}()),e="max-include-depth",n=w,(q=n["$[]"](e))!==!1&&q!==c?q:n["$[]="](e,64),n=w["$[]"]("allow-uri-read")["$nil?"](),((e=n===c||n===!1)==!1||e===c)&&w["$[]="]("allow-uri-read",c),w["$[]="]("user-home",p.USER_HOME),u.base_dir=(e=d["$[]"]("base_dir"))!==!1&&e!==c?w["$[]="]("docdir",(null==(e=a.Object._scope.File)?a.cm("File"):e).$expand_path(d["$[]"]("base_dir"))):(e=w["$[]"]("docdir"))!==!1&&e!==c?w["$[]="]("docdir",(null==(e=a.Object._scope.File)?a.cm("File"):e).$expand_path(w["$[]"]("docdir"))):w["$[]="]("docdir",(null==(e=a.Object._scope.File)?a.cm("File"):e).$expand_path((null==(e=a.Object._scope.Dir)?a.cm("Dir"):e).$pwd())),(e=C=d["$[]"]("backend"))!==!1&&e!==c&&w["$[]="]("backend",""+C),(e=D=d["$[]"]("doctype"))!==!1&&e!==c&&w["$[]="]("doctype",""+D),u.safe["$>="](p.SafeMode._scope.SERVER)&&(e="copycss",n=w,(q=n["$[]"](e))!==!1&&q!==c?q:n["$[]="](e,c),e="source-highlighter",n=w,(q=n["$[]"](e))!==!1&&q!==c?q:n["$[]="](e,c),e="backend",n=w,(q=n["$[]"](e))!==!1&&q!==c?q:n["$[]="](e,p.DEFAULT_BACKEND),q=v,n=q===c||q===!1,(e=n!==!1&&n!==c?w["$key?"]("docfile"):n)!==!1&&e!==c&&w["$[]="]("docfile",w["$[]"]("docfile")["$[]"](h(w["$[]"]("docdir").$length()["$+"](1),-1,!1))),w["$[]="]("docdir",""),w["$[]="]("user-home","."),u.safe["$>="](p.SafeMode._scope.SECURE)&&(((e=w.$fetch("linkcss","")["$nil?"]())===!1||e===c)&&w["$[]="]("linkcss",""),e="icons",n=w,(q=n["$[]"](e))!==!1&&q!==c?q:n["$[]="](e,c))),(e=(n=w).$delete_if,e._p=(r=function(b,d){var e,f,g,h=(r._s||this,c);return null==b&&(b=c),null==d&&(d=c),h=!1,(e=d["$nil?"]())!==!1&&e!==c?A.$delete(b):(f=d["$is_a?"](null==(g=a.Object._scope.String)?a.cm("String"):g),(e=f!==!1&&f!==c?d["$end_with?"]("@"):f)!==!1&&e!==c&&(d=d.$chop(),h=!0),A["$[]="](b,d)),h},r._s=u,r),e).call(n),v!==!1&&v!==c?(u.reader=p.Reader.$new(b,d["$[]"]("cursor")),p.Parser.$parse(u.reader,u),u.callouts.$rewind(),u.parsed=!0):(e="backend",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,p.DEFAULT_BACKEND),e="doctype",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,p.DEFAULT_DOCTYPE),u.$update_backend_attributes(A["$[]"]("backend"),!0),E=(null==(e=a.Object._scope.Time)?a.cm("Time"):e).$now(),e="localdate",q=A,F=(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,E.$strftime("%Y-%m-%d")),e="localtime",q=A,G=(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,function(){try{return E.$strftime("%H:%M:%S %Z")}catch(a){return E.$strftime("%H:%M:%S")}}()),e="localdatetime",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,""+F+" "+G),e="docdate",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,F),e="doctime",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,G),e="docdatetime",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,""+F+" "+G),e="stylesdir",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,"."),e="iconsdir",q=A,(s=q["$[]"](e))!==!1&&s!==c?s:q["$[]="](e,(null==(t=a.Object._scope.File)?a.cm("File"):t).$join(A.$fetch("imagesdir","./images"),"icons")),u.extensions=function(){return x!==!1&&x!==c?(H=function(){return(e=I=d["$[]"]("extensions_registry"))!==!1&&e!==c?(e=(q=I["$is_a?"](p.Extensions._scope.Registry))!==!1&&q!==c?q:(s=null==(t=a.Object._scope.RUBY_ENGINE_JRUBY)?a.cm("RUBY_ENGINE_JRUBY"):t,s!==!1&&s!==c?I["$is_a?"]((null==(t=a.Object._scope.AsciidoctorJ)?a.cm("AsciidoctorJ"):t)._scope.Extensions._scope.ExtensionRegistry):s))!==!1&&e!==c?I:c:(e=(J=d["$[]"]("extensions"))["$is_a?"](null==(q=a.Object._scope.Proc)?a.cm("Proc"):q))!==!1&&e!==c?(e=(q=p.Extensions).$build_registry,e._p=J.$to_proc(),e).call(q):c}(),((e=H)!==!1&&e!==c?e:H=p.Extensions._scope.Registry.$new()).$activate(u)):c}(),u.reader=p.PreprocessorReader.$new(u,b,p.Reader._scope.Cursor.$new(A["$[]"]("docfile"),u.base_dir)),(e=(s=b!==!1&&b!==c)?d["$[]"]("parse"):s)!==!1&&e!==c?u.$parse():c)},o.$parse=function(a){var b,d,e,f,h,i=this,j=c;return null==a&&(a=c),((b=i.parsed)===!1||b===c)&&(a!==!1&&a!==c&&(i.reader=p.PreprocessorReader.$new(i,a,p.Reader._scope.Cursor.$new(i.attributes["$[]"]("docfile"),i.base_dir))),d=j=function(){return(e=i.parent_document)!==!1&&e!==c?c:i.extensions}(),(b=d!==!1&&d!==c?j["$preprocessors?"]():d)!==!1&&b!==c&&(b=(d=j.$preprocessors()).$each,b._p=(f=function(a){var b,d=f._s||this;return null==d.reader&&(d.reader=c),null==a&&(a=c),d.reader=(b=a.$process_method()["$[]"](d,d.reader))!==!1&&b!==c?b:d.reader
},f._s=i,f),b).call(d),p.Parser.$parse(i.reader,i,g(["header_only"],{header_only:(e=i.options["$[]"]("parse_header_only"),b=e===c||e===!1,b===c||b===!1)})),i.callouts.$rewind(),(b=(e=j!==!1&&j!==c)?j["$treeprocessors?"]():e)!==!1&&b!==c&&(b=(e=j.$treeprocessors()).$each,b._p=(h=function(a){var b=h._s||this;return null==a&&(a=c),a.$process_method()["$[]"](b)},h._s=i,h),b).call(e),i.parsed=!0),i},o.$counter=function(a,b){var d,e,f,g=this,h=c,i=c;return null==b&&(b=c),f=(i=g.attributes["$[]"](a))["$nil_or_empty?"](),e=h=f===c||f===!1,(d=e!==!1&&e!==c?g.counters["$key?"](a):e)!==!1&&d!==c?g.counters["$[]="](a,g.$nextval(i)):((d=b["$nil?"]())!==!1&&d!==c?b=g.$nextval(function(){return h!==!1&&h!==c?i:0}()):b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()),g.counters["$[]="](a,b)),g.attributes["$[]="](a,g.counters["$[]"](a))},o.$counter_increment=function(a,b){var d=this,e=c;return e=d.$counter(a),p.AttributeEntry.$new(a,e).$save_to(b.$attributes()),e},o.$nextval=function(b){var d,e,f=c;return(d=b["$is_a?"](null==(e=a.Object._scope.Integer)?a.cm("Integer"):e))!==!1&&d!==c?b["$+"](1):(f=b.$to_i(),e=f.$to_s()["$=="](b.$to_s()),(d=e===c||e===!1)!=!1&&d!==c?b["$[]"](0).$ord()["$+"](1).$chr():f["$+"](1))},o.$register=function(b,d){var e,f,g=this,h=c;return function(){return h=b,"ids"["$==="](h)?(e=d["$is_a?"](null==(f=a.Object._scope.Array)?a.cm("Array"):f))!==!1&&e!==c?g.references["$[]"]("ids")["$[]="](d["$[]"](0),(e=d["$[]"](1))!==!1&&e!==c?e:"["["$+"](d["$[]"](0))["$+"]("]")):g.references["$[]"]("ids")["$[]="](d,"["["$+"](d)["$+"]("]")):"footnotes"["$==="](h)||"indexterms"["$==="](h)?g.references["$[]"](b)["$<<"](d):(e=g.options["$[]"]("catalog_assets"))!==!1&&e!==c?g.references["$[]"](b)["$<<"](d):c}()},o["$footnotes?"]=function(){var a,b=this;return a=b.references["$[]"]("footnotes")["$empty?"](),a===c||a===!1},o.$footnotes=function(){var a=this;return a.references["$[]"]("footnotes")},o["$nested?"]=function(){var a,b,d=this;return b=d.parent_document,a=b===c||b===!1,a===c||a===!1},o["$embedded?"]=function(){var a=this;return a.attributes["$key?"]("embedded")},o["$extensions?"]=function(){var a,b,d=this;return b=d.extensions,a=b===c||b===!1,a===c||a===!1},o.$source=function(){var a,b=this;return(a=b.reader)!==!1&&a!==c?b.reader.$source():c},o.$source_lines=function(){var a,b=this;return(a=b.reader)!==!1&&a!==c?b.reader.$source_lines():c},o.$doctype=function(){var a,b=this;return(a=b.doctype)!==!1&&a!==c?a:b.doctype=b.attributes["$[]"]("doctype")},o.$backend=function(){var a,b=this;return(a=b.backend)!==!1&&a!==c?a:b.backend=b.attributes["$[]"]("backend")},o["$basebackend?"]=function(a){var b=this;return b.attributes["$[]"]("basebackend")["$=="](a)},o.$title=function(){var a=this;return a.attributes["$[]"]("title")},o["$title="]=function(a){var b,d=this;return(b=d.header)!==!1&&b!==c?b:d.header=p.Section.$new(d,0),d.header["$title="](a)},o.$doctitle=function(a){var b,d,e=this,f=c,h=c;if(null==a&&(a=g([],{})),d=(f=e.attributes.$fetch("title",""))["$empty?"](),(b=d===c||d===!1)!=!1&&b!==c)f=e.$title();else{if(d=h=e.$first_section(),(b=d!==!1&&d!==c?h["$title?"]():d)===!1||b===c)return c;f=h.$title()}return d=a["$[]"]("sanitize"),(b=d!==!1&&d!==c?f["$include?"]("<"):d)!==!1&&b!==c?f.$gsub(p.XmlSanitizeRx,"").$tr_s(" "," ").$strip():f},a.defn(n,"$name",o.$doctitle),o.$author=function(){var a=this;return a.attributes["$[]"]("author")},o.$revdate=function(){var a=this;return a.attributes["$[]"]("revdate")},o.$notitle=function(){var a,b,d=this;return b=d.attributes["$key?"]("showtitle"),a=b===c||b===!1,a!==!1&&a!==c?d.attributes["$key?"]("notitle"):a},o.$noheader=function(){var a=this;return a.attributes["$key?"]("noheader")},o.$nofooter=function(){var a=this;return a.attributes["$key?"]("nofooter")},o.$first_section=function(){var a,b,d,e,f=this;return(a=f["$has_header?"]())!==!1&&a!==c?f.header:(a=(b=(e=f.blocks)!==!1&&e!==c?e:[]).$detect,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$context()["$=="]("section")},d._s=f,d),a).call(b)},o["$has_header?"]=function(){var a,b=this;return(a=b.header)!==!1&&a!==c?!0:!1},a.defn(n,"$header?",o["$has_header?"]),o["$<<"]=l=function(b){var e=d.call(arguments,0),f=this,g=l._p;return l._p=null,a.find_super_dispatcher(f,"<<",l,g).apply(f,e),b.$context()["$=="]("section")?f.$assign_index(b):c},o.$finalize_header=function(a,b){var d,e=this;return null==b&&(b=!0),e.$clear_playback_attributes(a),e.$save_attributes(),((d=b)===!1||d===c)&&a["$[]="]("invalid-header",!0),a},o.$save_attributes=function(){var a,b,d,e,f,g,h,i=this,j=c,k=c,l=c,m=c,n=c,o=c,q=c,r=c;return i.attributes["$[]"]("basebackend")["$=="]("docbook")&&(((a=(b=i["$attribute_locked?"]("toc"))!==!1&&b!==c?b:i.attributes_modified["$include?"]("toc"))===!1||a===c)&&i.attributes["$[]="]("toc",""),((a=(b=i["$attribute_locked?"]("numbered"))!==!1&&b!==c?b:i.attributes_modified["$include?"]("numbered"))===!1||a===c)&&i.attributes["$[]="]("numbered","")),((a=(b=i.attributes["$key?"]("doctitle"))!==!1&&b!==c?b:(d=j=i.$doctitle(),d===c||d===!1))===!1||a===c)&&i.attributes["$[]="]("doctitle",j),((a=i.id)===!1||a===c)&&(i.id=i.attributes["$[]"]("css-signature")),k=i.attributes["$[]"]("toc"),l=i.attributes["$[]"]("toc2"),m=i.attributes["$[]"]("toc-position"),(a=(b=(d=k!==!1&&k!==c)?(f=k["$=="](""),(e=f===c||f===!1)!=!1&&e!==c?e:(f=m["$nil_or_empty?"](),f===c||f===!1)):d)!==!1&&b!==c?b:l)!==!1&&a!==c&&(n="left",o="toc2",q=(a=(b=[m,l,k]).$find,a._p=(g=function(a){{var b;g._s||this}return null==a&&(a=c),b=a["$nil_or_empty?"](),b===c||b===!1},g._s=i,g),a).call(b),e=q,d=e===c||e===!1,(a=d!==!1&&d!==c?l:d)!==!1&&a!==c&&(q=n),i.attributes["$[]="]("toc",""),r=q,"left"["$==="](r)||"<"["$==="](r)||"&lt;"["$==="](r)?i.attributes["$[]="]("toc-position","left"):"right"["$==="](r)||">"["$==="](r)||"&gt;"["$==="](r)?i.attributes["$[]="]("toc-position","right"):"top"["$==="](r)||"^"["$==="](r)?i.attributes["$[]="]("toc-position","top"):"bottom"["$==="](r)||"v"["$==="](r)?i.attributes["$[]="]("toc-position","bottom"):"preamble"["$==="](r)?(i.attributes.$delete("toc2"),i.attributes["$[]="]("toc-placement","preamble"),o=c,n=c):"default"["$==="](r)&&(i.attributes.$delete("toc2"),o=c,n="default"),o!==!1&&o!==c&&(a="toc-class",d=i.attributes,(e=d["$[]"](a))!==!1&&e!==c?e:d["$[]="](a,o)),n!==!1&&n!==c&&(a="toc-position",d=i.attributes,(e=d["$[]"](a))!==!1&&e!==c?e:d["$[]="](a,n))),i.original_attributes=i.attributes.$dup(),(a=i["$nested?"]())!==!1&&a!==c?c:(a=(d=p.FLEXIBLE_ATTRIBUTES).$each,a._p=(h=function(a){var b,d,e,f=h._s||this;return null==f.attribute_overrides&&(f.attribute_overrides=c),null==a&&(a=c),d=f.attribute_overrides["$key?"](a),(b=d!==!1&&d!==c?(e=f.attribute_overrides["$[]"](a)["$nil?"](),e===c||e===!1):d)!==!1&&b!==c?f.attribute_overrides.$delete(a):c},h._s=i,h),a).call(d)},o.$restore_attributes=function(){var a=this;return a.attributes=a.original_attributes},o.$clear_playback_attributes=function(a){return a.$delete("attribute_entries")},o.$playback_attributes=function(a){var b,d,e,f=this;return(b=a["$key?"]("attribute_entries"))!==!1&&b!==c?(b=(d=a["$[]"]("attribute_entries")).$each,b._p=(e=function(a){var b,d=e._s||this;return null==d.attributes&&(d.attributes=c),null==a&&(a=c),(b=a.$negate())!==!1&&b!==c?d.attributes.$delete(a.$name()):d.attributes["$[]="](a.$name(),a.$value())},e._s=f,e),b).call(d):c},o.$set_attribute=function(a,b){var d,e=this,f=c;return(d=e["$attribute_locked?"](a))!==!1&&d!==c?!1:(f=a,"backend"["$==="](f)?e.$update_backend_attributes(e.$apply_attribute_value_subs(b)):"doctype"["$==="](f)?e.$update_doctype_attributes(e.$apply_attribute_value_subs(b)):e.attributes["$[]="](a,e.$apply_attribute_value_subs(b)),e.attributes_modified["$<<"](a),!0)},o.$delete_attribute=function(a){var b,d=this;return(b=d["$attribute_locked?"](a))!==!1&&b!==c?!1:(d.attributes.$delete(a),d.attributes_modified["$<<"](a),!0)},o["$attribute_locked?"]=function(a){var b=this;return b.attribute_overrides["$key?"](a)},o.$apply_attribute_value_subs=function(a){var b,d,e=this,f=c,g=c;return(b=f=p.AttributeEntryPassMacroRx.$match(a))!==!1&&b!==c?(d=f["$[]"](1)["$empty?"](),(b=d===c||d===!1)!=!1&&b!==c?(g=e.$resolve_pass_subs(f["$[]"](1)),(b=g["$empty?"]())!==!1&&b!==c?f["$[]"](2):e.$apply_subs(f["$[]"](2),g)):f["$[]"](2)):e.$apply_header_subs(a)},o.$update_backend_attributes=function(a,b){var d,e,f,g,i=this,j=c,k=c,l=c,m=c,n=c,o=c,q=c,r=c,s=c,t=c;return null==b&&(b=!1),(d=(e=b)!==!1&&e!==c?e:(f=a!==!1&&a!==c)?(g=a["$=="](i.attributes["$[]"]("backend")),g===c||g===!1):f)!==!1&&d!==c?(j=i.attributes,k=j["$[]"]("backend"),l=j["$[]"]("basebackend"),m=j["$[]"]("doctype"),(d=a["$start_with?"]("xhtml"))!==!1&&d!==c?(j["$[]="]("htmlsyntax","xml"),a=a["$[]"](h(1,-1,!1))):(d=a["$start_with?"]("html"))!==!1&&d!==c&&j["$[]="]("htmlsyntax","html"),(d=n=p.BACKEND_ALIASES["$[]"](a))!==!1&&d!==c&&(a=n),k!==!1&&k!==c&&(j.$delete("backend-"+k),m!==!1&&m!==c&&j.$delete("backend-"+k+"-doctype-"+m)),m!==!1&&m!==c&&(j["$[]="]("doctype-"+m,""),j["$[]="]("backend-"+a+"-doctype-"+m,"")),j["$[]="]("backend",a),j["$[]="]("backend-"+a,""),(d=(i.converter=i.$create_converter())["$is_a?"](p.Converter._scope.BackendInfo))!==!1&&d!==c?(o=i.converter.$basebackend(),j["$[]="]("outfilesuffix",i.converter.$outfilesuffix()),q=i.converter.$filetype()):(o=a.$sub(p.TrailingDigitsRx,""),r=(d=p.DEFAULT_EXTENSIONS["$[]"](o))!==!1&&d!==c?d:".html",q=r["$[]"](h(1,-1,!1)),((d=i["$attribute_locked?"]("outfilesuffix"))===!1||d===c)&&j["$[]="]("outfilesuffix",r)),(d=s=j["$[]"]("filetype"))!==!1&&d!==c&&j.$delete("filetype-"+s),j["$[]="]("filetype",q),j["$[]="]("filetype-"+q,""),(d=t=p.DEFAULT_PAGE_WIDTHS["$[]"](o))!==!1&&d!==c?j["$[]="]("pagewidth",t):j.$delete("pagewidth"),e=o["$=="](l),(d=e===c||e===!1)!=!1&&d!==c&&(l!==!1&&l!==c&&(j.$delete("basebackend-"+l),m!==!1&&m!==c&&j.$delete("basebackend-"+l+"-doctype-"+m)),j["$[]="]("basebackend",o),j["$[]="]("basebackend-"+o,""),m!==!1&&m!==c&&j["$[]="]("basebackend-"+o+"-doctype-"+m,"")),i.backend=c):c},o.$update_doctype_attributes=function(a){var b,d,e,f=this,g=c,h=c,i=c,j=c;return(b=(d=a!==!1&&a!==c)?(e=a["$=="](f.attributes["$[]"]("doctype")),e===c||e===!1):d)!==!1&&b!==c?(g=f.attributes,h=g["$[]"]("doctype"),i=g["$[]"]("backend"),j=g["$[]"]("basebackend"),h!==!1&&h!==c&&(g.$delete("doctype-"+h),i!==!1&&i!==c&&g.$delete("backend-"+i+"-doctype-"+h),j!==!1&&j!==c&&g.$delete("basebackend-"+j+"-doctype-"+h)),g["$[]="]("doctype",a),g["$[]="]("doctype-"+a,""),i!==!1&&i!==c&&g["$[]="]("backend-"+i+"-doctype-"+a,""),j!==!1&&j!==c&&g["$[]="]("basebackend-"+j+"-doctype-"+a,""),f.doctype=c):c},o.$create_converter=function(){var b,d=this,e=c,f=c,h=c,i=c,j=c;return e=g([],{}),e["$[]="]("htmlsyntax",d.attributes["$[]"]("htmlsyntax")),f=function(){return(b=h=d.options["$[]"]("template_dir"))!==!1&&b!==c?e["$[]="]("template_dirs",[h]):(b=f=d.options["$[]"]("template_dirs"))!==!1&&b!==c?e["$[]="]("template_dirs",f):c}(),f!==!1&&f!==c&&(e["$[]="]("template_cache",d.options.$fetch("template_cache",!0)),e["$[]="]("template_engine",d.options["$[]"]("template_engine")),e["$[]="]("template_engine_options",d.options["$[]"]("template_engine_options")),e["$[]="]("eruby",d.options["$[]"]("eruby"))),i=function(){return(b=j=d.options["$[]"]("converter"))!==!1&&b!==c?p.Converter._scope.Factory.$new((null==(b=a.Object._scope.Hash)?a.cm("Hash"):b)["$[]"](d.$backend(),j)):p.Converter._scope.Factory.$default(!1)}(),i.$create(d.$backend(),e)},o.$convert=function(a){var b,d,e,f,h=this,i=c,j=c,k=c,l=c;return null==a&&(a=g([],{})),((b=h.parsed)===!1||b===c)&&h.$parse(),h.$restore_attributes(),h.$doctype()["$=="]("inline")?(d=i=h.blocks["$[]"](0),j=(b=d!==!1&&d!==c?(e=i.$content_model()["$=="]("compound"),e===c||e===!1):d)!==!1&&b!==c?i.$content():""):(k=function(){return(b=function(){return(d=a["$key?"]("header_footer"))!==!1&&d!==c?a["$[]"]("header_footer"):h.options["$[]"]("header_footer")}())!==!1&&b!==c?"document":"embedded"}(),j=h.converter.$convert(h,k)),((b=h.parent_document)===!1||b===c)&&(d=l=h.extensions,(b=d!==!1&&d!==c?l["$postprocessors?"]():d)!==!1&&b!==c&&(b=(d=l.$postprocessors()).$each,b._p=(f=function(a){var b=f._s||this;return null==a&&(a=c),j=a.$process_method()["$[]"](b,j)},f._s=h,f),b).call(d)),j},a.defn(n,"$render",o.$convert),o.$write=function(b,d){var e,f,g,h,i=this;return(e=i.converter["$is_a?"](p.Writer))!==!1&&e!==c?i.converter.$write(b,d):((e=d["$respond_to?"]("write"))!==!1&&e!==c?(d.$write(b.$chomp()),d.$write(p.EOL)):(e=(f=null==(h=a.Object._scope.File)?a.cm("File"):h).$open,e._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$write(b)},g._s=i,g),e).call(f,d,"w"),c)},o.$content=m=function(){var b=d.call(arguments,0),c=this,e=m._p;return m._p=null,c.attributes.$delete("title"),a.find_super_dispatcher(c,"content",m,e).apply(c,b)},o.$docinfo=function(b,d){var e,f,g,h=this,i=c,j=c,k=c,l=c,m=c,n=c,o=c,q=c,r=c;return null==b&&(b="header"),null==d&&(d=c),h.$safe()["$>="](p.SafeMode._scope.SECURE)?"":(i=b,j="footer"["$==="](i)?"-footer":c,(e=d["$nil?"]())!==!1&&e!==c&&(d=h.attributes["$[]"]("outfilesuffix")),k=c,l=h.attributes["$key?"]("docinfo"),m=h.attributes["$key?"]("docinfo1"),n=h.attributes["$key?"]("docinfo2"),o="docinfo"+j+d,(e=(f=m)!==!1&&f!==c?f:n)!==!1&&e!==c&&(q=h.$normalize_system_path(o),k=h.$read_asset(q),((e=k["$nil?"]())===!1||e===c)&&((e=p.FORCE_ENCODING)!==!1&&e!==c&&k.$force_encoding((null==(e=a.Object._scope.Encoding)?a.cm("Encoding"):e)._scope.UTF_8),k=h.$sub_attributes(k.$split(p.EOL))["$*"](p.EOL))),f=(g=l)!==!1&&g!==c?g:n,(e=f!==!1&&f!==c?h.attributes["$key?"]("docname"):f)!==!1&&e!==c&&(q=h.$normalize_system_path(""+h.attributes["$[]"]("docname")+"-"+o),r=h.$read_asset(q),((e=r["$nil?"]())===!1||e===c)&&((e=p.FORCE_ENCODING)!==!1&&e!==c&&r.$force_encoding((null==(e=a.Object._scope.Encoding)?a.cm("Encoding"):e)._scope.UTF_8),r=h.$sub_attributes(r.$split(p.EOL))["$*"](p.EOL),k=function(){return(e=k["$nil?"]())!==!1&&e!==c?r:""+k+p.EOL+r}())),k.$to_s())},o.$to_s=function(){var a,b,d=this;return"#<"+d.$class()+"@"+d.$object_id()+" {doctype: "+d.$doctype().$inspect()+", doctitle: "+function(){return b=d.header["$=="](c),(a=b===c||b===!1)!=!1&&a!==c?d.header.$title():c}().$inspect()+", blocks: "+d.blocks.$size()+"}>"},c}(i,j.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor"),h=(g._proto,g._scope);!function(b,d){function g(){}{var h,i=g=e(b,d,"Inline",g),j=g._proto;g._scope}return i.$attr_reader("text"),i.$attr_reader("type"),i.$attr_accessor("target"),j.$initialize=h=function(b,d,e,g){var i,j=this,k=(h._p,c);return null==e&&(e=c),null==g&&(g=f([],{})),h._p=null,a.find_super_dispatcher(j,"initialize",h,null).apply(j,[b,d]),j.node_name="inline_"+d,j.text=e,j.id=g["$[]"]("id"),j.type=g["$[]"]("type"),j.target=g["$[]"]("target"),(i=(k=g["$[]"]("attributes"))["$nil_or_empty?"]())!==!1&&i!==c?c:j.$update_attributes(k)},j["$block?"]=function(){return!1},j["$inline?"]=function(){return!0},j.$convert=function(){var a=this;return a.$converter().$convert(a)},a.defn(i,"$render",j.$convert)}(g,h.AbstractNode)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass;return function(b){var g=e(b,"Asciidoctor"),h=(g._proto,g._scope);!function(b,e){function g(){}{var h,i,j=g=f(b,e,"List",g),k=g._proto;g._scope}return k.blocks=k.context=k.document=k.style=c,a.defn(j,"$items",k.$blocks),a.defn(j,"$items?",k["$blocks?"]),k.$initialize=h=function(){var b=d.call(arguments,0),c=this,e=h._p;return h._p=null,a.find_super_dispatcher(c,"initialize",h,e).apply(c,b)},k.$content=function(){var a=this;return a.blocks},k.$convert=i=function(){var b=d.call(arguments,0),e=this,f=i._p,g=c;return i._p=null,e.context["$=="]("colist")?(g=a.find_super_dispatcher(e,"convert",i,f).apply(e,b),e.document.$callouts().$next_list(),g):a.find_super_dispatcher(e,"convert",i,f).apply(e,b)},a.defn(j,"$render",k.$convert),k.$to_s=function(){var a=this;return"#<"+a.$class()+"@"+a.$object_id()+" {context: "+a.context.$inspect()+", style: "+a.style.$inspect()+", items: "+a.$items().$size()+"}>"},c}(g,h.AbstractBlock),function(b,d){function e(){}var g,h=e=f(b,d,"ListItem",e),i=e._proto,j=e._scope;return i.text=i.blocks=c,h.$attr_accessor("marker"),i.$initialize=g=function(b,d){{var e=this;g._p}return null==d&&(d=c),g._p=null,a.find_super_dispatcher(e,"initialize",g,null).apply(e,[b,"list_item"]),e.text=d,e.level=b.$level()},i["$text?"]=function(){var a,b=this;return a=b.text["$nil_or_empty?"](),a===c||a===!1},i.$text=function(){var a=this;return a.$apply_subs(a.text)},i.$fold_first=function(a,b){var d,e,f,g,h,i,k,l=this,m=c,n=c;return null==a&&(a=!1),null==b&&(b=!1),f=m=l.blocks["$[]"](0),e=f!==!1&&f!==c?m["$is_a?"](j.Block):f,(d=e!==!1&&e!==c?(f=(g=m.$context()["$=="]("paragraph"))?(h=a,h===c||h===!1):g)!==!1&&f!==c?f:(h=(i=b)!==!1&&i!==c?i:(k=a,k===c||k===!1),g=h!==!1&&h!==c?m.$context()["$=="]("literal"):h,g!==!1&&g!==c?m["$option?"]("listparagraph"):g):e)!==!1&&d!==c&&(n=l.$blocks().$shift(),((d=l.text["$nil_or_empty?"]())===!1||d===c)&&n.$lines().$unshift(l.text),l.text=n.$source()),c},i.$to_s=function(){var a,b=this;return"#<"+b.$class()+"@"+b.$object_id()+" {list_context: "+b.$parent().$context().$inspect()+", text: "+b.text.$inspect()+", blocks: "+((a=b.blocks)!==!1&&a!==c?a:[]).$size()+"}>"},c}(g,h.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=(a.slice,a.module),f=a.klass,g=a.hash2,h=a.range,i=a.gvars;return function(b){{var j=e(b,"Asciidoctor");j._proto,j._scope}!function(b,e){function j(){}var k=j=f(b,e,"Parser",j),l=j._proto,m=j._scope;return a.cdecl(m,"BlockMatchData",m.Struct.$new("context","masq","tip","terminator")),l.$initialize=function(){var a=this;return a.$raise("Au contraire, mon frere. No lexer instances will be running around.")},a.defs(k,"$parse",function(b,d,e){var f,h,i=this,j=c,k=c;if(null==e&&(e=g([],{})),j=i.$parse_document_header(b,d),(f=e["$[]"]("header_only"))===!1||f===c)for(;(h=b["$has_more_lines?"]())!==!1&&h!==c;)h=a.to_ary(i.$next_section(b,d,j)),k=null==h[0]?c:h[0],j=null==h[1]?c:h[1],k!==!1&&k!==c&&d["$<<"](k);return d}),a.defs(k,"$parse_document_header",function(b,d){var e,f,g,h=this,i=c,j=c,k=c,l=c,m=c,n=c;return i=h.$parse_block_metadata_lines(b,d),(e=i["$has_key?"]("title"))!==!1&&e!==c?d.$finalize_header(i,!1):(j=c,((e=(k=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===!1||e===c)&&(d["$title="](k),j=k),l=c,(e=h["$is_next_line_document_title?"](b,i))!==!1&&e!==c&&(e=a.to_ary(h.$parse_section_title(b,d)),d["$id="](null==e[0]?c:e[0]),m=null==e[1]?c:e[1],n=null==e[2]?c:e[2],m=null==e[3]?c:e[3],m=null==e[4]?c:e[4],((e=j)===!1||e===c)&&(d["$title="](n),j=n),d.$attributes()["$[]="]("doctitle",l=n),((e=d.$id())===!1||e===c)&&d["$id="](i.$delete("id")),h.$parse_header_metadata(b,d)),g=(k=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"](),f=g===c||g===!1,(e=f!==!1&&f!==c?(g=k["$=="](l),g===c||g===!1):f)!==!1&&e!==c&&(d["$title="](k),j=k),j!==!1&&j!==c&&d.$attributes()["$[]="]("doctitle",j),d.$doctype()["$=="]("manpage")&&h.$parse_manpage_header(b,d),d.$finalize_header(i))}),a.defs(k,"$parse_manpage_header",function(a,b){var d,e=this,f=c,h=c,i=c;return(d=f=m.ManpageTitleVolnumRx.$match(b.$attributes()["$[]"]("doctitle")))!==!1&&d!==c?(b.$attributes()["$[]="]("mantitle",b.$sub_attributes(f["$[]"](1).$rstrip().$downcase())),b.$attributes()["$[]="]("manvolnum",f["$[]"](2).$strip())):e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),a.$skip_blank_lines(),(d=e["$is_next_line_section?"](a,g([],{})))!==!1&&d!==c?(h=e.$initialize_section(a,b,g([],{})),h.$level()["$=="](1)?(i=a.$read_lines_until(g(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),(d=f=m.ManpageNamePurposeRx.$match(i))!==!1&&d!==c?(b.$attributes()["$[]="]("manname",f["$[]"](1)),b.$attributes()["$[]="]("manpurpose",f["$[]"](2)),b.$backend()["$=="]("manpage")?(b.$attributes()["$[]="]("docname",b.$attributes()["$[]"]("manname")),b.$attributes()["$[]="]("outfilesuffix","."+b.$attributes()["$[]"]("manvolnum"))):c):e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body")):e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")):e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected")}),a.defs(k,"$next_section",function(b,d,e){var f,h,i,j,k=this,l=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c,B=c;for(null==e&&(e=g([],{})),l=!1,n=!1,o=!1,h=(i=d.$context()["$=="]("document"))?d.$blocks()["$empty?"]():i,(f=h!==!1&&h!==c?(i=(j=p=d["$has_header?"]())!==!1&&j!==c?j:e.$delete("invalid-header"))!==!1&&i!==c?i:(j=k["$is_next_line_section?"](b,e),j===c||j===!1):h)!==!1&&f!==c?(q=d.$doctype(),p!==!1&&p!==c&&(l=o=m.Block.$new(d,"preamble",g(["content_model"],{content_model:"compound"})),d["$<<"](l)),r=d,s=0,t=(f=d.$attributes()["$has_key?"]("fragment"))!==!1&&f!==c?c:q["$=="]("book")?[0,1]:[1]):(q=d.$document().$doctype(),r=k.$initialize_section(b,d,e),e=function(){return(f=u=e["$[]"]("title"))!==!1&&f!==c?g(["title"],{title:u}):g([],{})}(),s=r.$level(),(f=(h=s["$=="](0))?q["$=="]("book"):h)!==!1&&f!==c?(f=r.$special(),n=f===c||f===!1,h=r.$special(),t=(f=h!==!1&&h!==c?["preface","appendix"]["$include?"](r.$sectname()):h)!==!1&&f!==c?[s["$+"](2)]:[s["$+"](1)]):t=[s["$+"](1)]),b.$skip_blank_lines();(h=b["$has_more_lines?"]())!==!1&&h!==c;){if(k.$parse_block_metadata_lines(b,r,e),(h=v=k["$is_next_line_section?"](b,e))!==!1&&h!==c){if(v=v["$+"](r.$document().$attr("leveloffset",0).$to_i()),(h=(i=v["$>"](s))!==!1&&i!==c?i:(j=r.$context()["$=="]("document"))?v["$=="](0):j)===!1||h===c){(h=(i=v["$=="](0))?(j=q["$=="]("book"),j===c||j===!1):i)!==!1&&h!==c&&k.$warn("asciidoctor: ERROR: "+b.$line_info()+": only book doctypes can contain level 0 sections");break}(h=(i=v["$=="](0))?(j=q["$=="]("book"),j===c||j===!1):i)!==!1&&h!==c?k.$warn("asciidoctor: ERROR: "+b.$line_info()+": only book doctypes can contain level 0 sections"):(h=(i=t!==!1&&t!==c)?(j=t["$include?"](v),j===c||j===!1):i)!==!1&&h!==c&&k.$warn(("asciidoctor: WARNING: "+b.$line_info()+": section title out of sequence: ")["$+"]("expected "+function(){return t.$size()["$>"](1)?"levels":"level"}()+" "+t["$*"](" or ")+", ")["$+"]("got level "+v)),h=a.to_ary(k.$next_section(b,r,e)),w=null==h[0]?c:h[0],e=null==h[1]?c:h[1],r["$<<"](w)}else x=b.$line_info(),(h=y=k.$next_block(b,(i=o)!==!1&&i!==c?i:r,e,g(["parse_metadata"],{parse_metadata:!1})))!==!1&&h!==c&&(n!==!1&&n!==c&&(i=r["$blocks?"](),(h=i===c||i===!1)!=!1&&h!==c?(i=y.$style()["$=="]("partintro"),(h=i===c||i===!1)!=!1&&h!==c&&(y.$context()["$=="]("paragraph")?(y["$context="]("open"),y["$style="]("partintro")):(o=m.Block.$new(r,"open",g(["content_model"],{content_model:"compound"})),o["$style="]("partintro"),y["$parent="](o),r["$<<"](o)))):r.$blocks().$size()["$=="](1)&&(z=r.$blocks()["$[]"](0),j=o,i=j===c||j===!1,(h=i!==!1&&i!==c?z.$content_model()["$=="]("compound"):i)!==!1&&h!==c?k.$warn("asciidoctor: ERROR: "+x+": illegal block content outside of partintro block"):(i=z.$content_model()["$=="]("compound"),(h=i===c||i===!1)!=!1&&h!==c&&(o=m.Block.$new(r,"open",g(["content_model"],{content_model:"compound"})),o["$style="]("partintro"),r.$blocks().$shift(),z.$style()["$=="]("partintro")&&(z["$context="]("paragraph"),z["$style="](c)),z["$parent="](o),o["$<<"](z),y["$parent="](o),r["$<<"](o))))),((h=o)!==!1&&h!==c?h:r)["$<<"](y),e=g([],{}));b.$skip_blank_lines()}if(n!==!1&&n!==c)h=r["$blocks?"](),((f=h!==!1&&h!==c?r.$blocks()["$[]"](-1).$context()["$=="]("section"):h)===!1||f===c)&&k.$warn("asciidoctor: ERROR: "+b.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(l!==!1&&l!==c)if(A=d,(f=l["$blocks?"]())!==!1&&f!==c){if(i=m.Compliance.$unwrap_standalone_preamble(),h=i!==!1&&i!==c?A.$blocks().$size()["$=="](1):i,(f=h!==!1&&h!==c?(j=q["$=="]("book"),(i=j===c||j===!1)!=!1&&i!==c?i:(j=l.$blocks()["$[]"](0).$style()["$=="]("abstract"),j===c||j===!1)):h)!==!1&&f!==c)for(A.$blocks().$shift();(h=B=l.$blocks().$shift())!==!1&&h!==c;)B["$parent="](A),A["$<<"](B)}else A.$blocks().$shift();return[function(){return h=r["$=="](d),(f=h===c||h===!1)!=!1&&f!==c?r:c}(),e.$dup()]}),a.defs(k,"$next_block",function(b,d,e,f){var i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=this,E=c,F=c,G=c,H=c,I=c,J=c,K=c,L=c,M=c,N=c,O=c,P=c,Q=c,R=c,S=c,T=c,U=c,V=c,W=c,X=c,Y=c,Z=c,$=c,_=c,ab=c,bb=c,cb=c,db=c,eb=c,fb=c,gb=c,hb=c,ib=c,jb=c,kb=c,lb=c,mb=c,nb=c,ob=c,pb=c,qb=c,rb=c,sb=c,tb=c,ub=c,vb=c,wb=c,xb=c,yb=c,zb=c,Ab=c,Bb=c,Cb=c,Db=c,Eb=c;if(null==e&&(e=g([],{})),null==f&&(f=g([],{})),E=b.$skip_blank_lines(),(i=b["$has_more_lines?"]())===!1||i===c)return c;for(j=F=f["$[]"]("text"),(i=j!==!1&&j!==c?E["$>"](0):j)!==!1&&i!==c&&(f.$delete("text"),F=!1),G=f.$fetch("parse_metadata",!0),H=d.$document(),(i=I=H.$extensions())!==!1&&i!==c?(J=I["$blocks?"](),K=I["$block_macros?"]()):J=K=!1,L=d["$is_a?"](m.List),M=c,N=c,O=c;l=M,k=l===c||l===!1,(j=k!==!1&&k!==c?b["$has_more_lines?"]():k)!==!1&&j!==c;)if((j=(k=G!==!1&&G!==c)?D.$parse_block_metadata_line(b,H,e,f):k)===!1||j===c){if(P=b.$read_line(),Q=!1,R=c,S=c,T=c,(j=e["$[]"](1))!==!1&&j!==c&&(j=a.to_ary(D.$parse_style_attribute(e,b)),N=null==j[0]?c:j[0],O=null==j[1]?c:j[1]),(j=U=D["$is_delimited_block?"](P,!0))!==!1&&j!==c&&(Q=!0,R=S=U.$context(),T=U.$terminator(),k=N,(j=k===c||k===!1)!=!1&&j!==c?N=e["$[]="]("style",R.$to_s()):(k=N["$=="](R.$to_s()),(j=k===c||k===!1)!=!1&&j!==c&&((j=U.$masq()["$include?"](N))!==!1&&j!==c?R=N.$to_sym():(k=U.$masq()["$include?"]("admonition"),(j=k!==!1&&k!==c?m.ADMONITION_STYLES["$include?"](N):k)!==!1&&j!==c?R="admonition":(j=(k=J!==!1&&J!==c)?I["$registered_for_block?"](N,R):k)!==!1&&j!==c?R=N.$to_sym():(D.$warn("asciidoctor: WARNING: "+b.$prev_line_info()+": invalid style for "+R+" block: "+N),N=R.$to_s()))))),(j=Q)===!1||j===c)for(;(k=!0)!=!1&&k!==c;){if(l=(n=N!==!1&&N!==c)?m.Compliance.$strict_verbatim_paragraphs():n,(k=l!==!1&&l!==c?m.VERBATIM_STYLES["$include?"](N):l)!==!1&&k!==c){R=N.$to_sym(),b.$unshift_line(P);break}if((k=F)===!1||k===c){if(V=function(){return(k=m.Compliance.$markdown_syntax())!==!1&&k!==c?P.$lstrip().$chr():P.$chr()}(),n=m.LAYOUT_BREAK_LINES["$has_key?"](V),l=n!==!1&&n!==c?P.$length()["$>="](3):n,(k=l!==!1&&l!==c?function(){return(n=m.Compliance.$markdown_syntax())!==!1&&n!==c?m.LayoutBreakLinePlusRx:m.LayoutBreakLineRx}()["$=~"](P):l)!==!1&&k!==c){M=m.Block.$new(d,m.LAYOUT_BREAK_LINES["$[]"](V),g(["content_model"],{content_model:"empty"}));break}if(l=P["$end_with?"]("]"),(k=l!==!1&&l!==c?W=m.MediaBlockMacroRx.$match(P):l)!==!1&&k!==c){if(X=W["$[]"](1).$to_sym(),M=m.Block.$new(d,X,g(["content_model"],{content_model:"empty"})),Y=X["$=="]("image")?["alt","width","height"]:X["$=="]("video")?["poster","width","height"]:[],n=N,((k=(l=n===c||n===!1)!=!1&&l!==c?l:O)===!1||k===c)&&(X["$=="]("image")&&e["$[]="]("alt",N),e.$delete("style"),N=c),M.$parse_attributes(W["$[]"](3),Y,g(["unescape_input","sub_input","sub_result","into"],{unescape_input:X["$=="]("image"),sub_input:!0,sub_result:!1,into:e})),Z=M.$sub_attributes(W["$[]"](2),g(["attribute_missing"],{attribute_missing:"drop-line"})),(k=Z["$empty?"]())!==!1&&k!==c)return H.$attributes().$fetch("attribute-missing",m.Compliance.$attribute_missing())["$=="]("skip")?m.Block.$new(d,"paragraph",g(["content_model","source"],{content_model:"simple",source:[P]})):(e.$clear(),c);e["$[]="]("target",Z);break}if((k=(l=V["$=="]("t"))?W=m.TocBlockMacroRx.$match(P):l)!==!1&&k!==c){M=m.Block.$new(d,"toc",g(["content_model"],{content_model:"empty"})),M.$parse_attributes(W["$[]"](1),[],g(["sub_result","into"],{sub_result:!1,into:e}));break}if(l=(n=K!==!1&&K!==c)?W=m.GenericBlockMacroRx.$match(P):n,(k=l!==!1&&l!==c?$=I["$registered_for_block_macro?"](W["$[]"](1)):l)!==!1&&k!==c){if(Z=W["$[]"](2),_=W["$[]"](3),$.$config()["$[]"]("content_model")["$=="]("attributes")?((k=_["$empty?"]())===!1||k===c)&&H.$parse_attributes(_,(k=$.$config()["$[]"]("pos_attrs"))!==!1&&k!==c?k:[],g(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:e})):e["$[]="]("text",_),(k=ab=$.$config()["$[]"]("default_attrs"))!==!1&&k!==c&&(k=(l=ab).$each,k._p=(o=function(a,b){{var d,f,g;o._s||this}return null==a&&(a=c),null==b&&(b=c),d=a,f=e,(g=f["$[]"](d))!==!1&&g!==c?g:f["$[]="](d,b)},o._s=D,o),k).call(l),(k=M=$.$process_method()["$[]"](d,Z,e.$dup()))===!1||k===c)return e.$clear(),c;e.$replace(M.$attributes());break}}if((k=W=m.CalloutListRx.$match(P))!==!1&&k!==c){for(M=m.List.$new(d,"colist"),e["$[]="]("style","arabic"),b.$unshift_line(P),bb=1;p=b["$has_more_lines?"](),(n=p!==!1&&p!==c?W=m.CalloutListRx.$match(b.$peek_line()):p)!==!1&&n!==c;)p=W["$[]"](1).$to_i()["$=="](bb),(n=p===c||p===!1)!=!1&&n!==c&&D.$warn("asciidoctor: WARNING: "+b.$path()+": line "+b.$lineno()["$-"](2)+": callout list item index: expected "+bb+" got "+W["$[]"](1)),cb=D.$next_list_item(b,M,W),bb=bb["$+"](1),cb!==!1&&cb!==c&&(M["$<<"](cb),db=H.$callouts().$callout_ids(M.$items().$size()),p=db["$empty?"](),(n=p===c||p===!1)!=!1&&n!==c?cb.$attributes()["$[]="]("coids",db):D.$warn("asciidoctor: WARNING: "+b.$path()+": line "+b.$lineno()["$-"](2)+": no callouts refer to list item "+M.$items().$size()));H.$callouts().$next_list();break}if((k=m.UnorderedListRx["$=~"](P))!==!1&&k!==c){b.$unshift_line(P),M=D.$next_outline_list(b,"ulist",d);break}if((k=W=m.OrderedListRx.$match(P))!==!1&&k!==c){b.$unshift_line(P),M=D.$next_outline_list(b,"olist",d),p=e["$[]"]("style"),n=p===c||p===!1,(k=n!==!1&&n!==c?(p=M.$attributes()["$[]"]("style"),p===c||p===!1):n)!==!1&&k!==c&&(eb=M.$items()["$[]"](0).$marker(),(k=eb["$start_with?"]("."))!==!1&&k!==c?e["$[]="]("style",((k=m.ORDERED_LIST_STYLES["$[]"](eb.$length()["$-"](1)))!==!1&&k!==c?k:m.ORDERED_LIST_STYLES["$[]"](0)).$to_s()):(N=(k=(n=m.ORDERED_LIST_STYLES).$detect,k._p=(q=function(a){q._s||this;return null==a&&(a=c),m.OrderedListMarkerRxMap["$[]"](a)["$=~"](eb)},q._s=D,q),k).call(n),e["$[]="]("style",((k=N)!==!1&&k!==c?k:m.ORDERED_LIST_STYLES["$[]"](0)).$to_s())));break}if((k=W=m.DefinitionListRx.$match(P))!==!1&&k!==c){b.$unshift_line(P),M=D.$next_labeled_list(b,W,d);break}if(p=(r=N["$=="]("float"))!==!1&&r!==c?r:N["$=="]("discrete"),(k=p!==!1&&p!==c?D["$is_section_title?"](P,function(){return(r=m.Compliance.$underline_style_section_titles())!==!1&&r!==c?b.$peek_line(!0):c}()):p)!==!1&&k!==c){b.$unshift_line(P),k=a.to_ary(D.$parse_section_title(b,H)),fb=null==k[0]?c:k[0],gb=null==k[1]?c:k[1],hb=null==k[2]?c:k[2],ib=null==k[3]?c:k[3],jb=null==k[4]?c:k[4],gb!==!1&&gb!==c&&e["$[]="]("reftext",gb),(k=e["$has_key?"]("id"))!==!1&&k!==c&&((k=fb)!==!1&&k!==c?k:fb=e["$[]"]("id")),M=m.Block.$new(d,"floating_title",g(["content_model"],{content_model:"empty"})),(k=fb["$nil_or_empty?"]())!==!1&&k!==c?(kb=m.Section.$new(d),kb["$title="](hb),M["$id="](kb.$generate_id())):M["$id="](fb),M["$level="](ib),M["$title="](hb);break}if((k=(p=N!==!1&&N!==c)?(r=N["$=="]("normal"),r===c||r===!1):p)!==!1&&k!==c){if((k=m.PARAGRAPH_STYLES["$include?"](N))!==!1&&k!==c){R=N.$to_sym(),S="paragraph",b.$unshift_line(P);break}if((k=m.ADMONITION_STYLES["$include?"](N))!==!1&&k!==c){R="admonition",S="paragraph",b.$unshift_line(P);break}if((k=(p=J!==!1&&J!==c)?I["$registered_for_block?"](N,"paragraph"):p)!==!1&&k!==c){R=N.$to_sym(),S="paragraph",b.$unshift_line(P);break}D.$warn("asciidoctor: WARNING: "+b.$prev_line_info()+": invalid style for paragraph: "+N),N=c}if(lb=(k=E["$=="](0))?L:k,r=N["$=="]("normal"),p=r===c||r===!1,(k=p!==!1&&p!==c?m.LiteralParagraphRx["$=~"](P):p)!==!1&&k!==c)b.$unshift_line(P),mb=(k=(p=b).$read_lines_until,k._p=(s=function(a){var b,d,e,f=s._s||this;return null==a&&(a=c),(b=(d=lb!==!1&&lb!==c)?m.AnyListRx["$=~"](a):d)!==!1&&b!==c?b:(d=m.Compliance.$block_terminates_paragraph(),d!==!1&&d!==c?(e=f["$is_delimited_block?"](a))!==!1&&e!==c?e:m.BlockAttributeLineRx["$=~"](a):d)},s._s=D,s),k).call(p,g(["break_on_blank_lines","break_on_list_continuation","preserve_last_line"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0})),D["$reset_block_indent!"](mb),M=m.Block.$new(d,"literal",g(["content_model","source","attributes"],{content_model:"verbatim",source:mb,attributes:e})),L!==!1&&L!==c&&M.$set_option("listparagraph");
else{if(b.$unshift_line(P),mb=(k=(r=b).$read_lines_until,k._p=(t=function(a){var b,d,e,f=t._s||this;return null==a&&(a=c),(b=(d=lb!==!1&&lb!==c)?m.AnyListRx["$=~"](a):d)!==!1&&b!==c?b:(d=m.Compliance.$block_terminates_paragraph(),d!==!1&&d!==c?(e=f["$is_delimited_block?"](a))!==!1&&e!==c?e:m.BlockAttributeLineRx["$=~"](a):d)},t._s=D,t),k).call(r,g(["break_on_blank_lines","break_on_list_continuation","preserve_last_line","skip_line_comments"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0,skip_line_comments:!0})),(k=mb["$empty?"]())!==!1&&k!==c)return b.$advance(),c;if(D.$catalog_inline_anchors(mb.$join(m.EOL),H),nb=mb["$[]"](0),v=F,u=v===c||v===!1,(k=u!==!1&&u!==c?ob=m.AdmonitionParagraphRx.$match(nb):u)!==!1&&k!==c)mb["$[]="](0,ob.$post_match().$lstrip()),e["$[]="]("style",ob["$[]"](1)),e["$[]="]("name",pb=ob["$[]"](1).$downcase()),k="caption",u=e,(v=u["$[]"](k))!==!1&&v!==c?v:u["$[]="](k,H.$attributes()["$[]"](""+pb+"-caption")),M=m.Block.$new(d,"admonition",g(["content_model","source","attributes"],{content_model:"simple",source:mb,attributes:e}));else if(w=F,v=w===c||w===!1,u=v!==!1&&v!==c?m.Compliance.$markdown_syntax():v,(k=u!==!1&&u!==c?nb["$start_with?"]("> "):u)!==!1&&k!==c){if((k=(u=mb)["$map!"],k._p=(x=function(a){{var b;x._s||this}return null==a&&(a=c),a["$=="](">")?a["$[]"](h(1,-1,!1)):(b=a["$start_with?"]("> "))!==!1&&b!==c?a["$[]"](h(2,-1,!1)):a},x._s=D,x),k).call(u),(k=mb["$[]"](-1)["$start_with?"]("-- "))!==!1&&k!==c)for(k=a.to_ary(mb.$pop()["$[]"](h(3,-1,!1)).$split(", ",2)),qb=null==k[0]?c:k[0],rb=null==k[1]?c:k[1];(v=mb["$[]"](-1)["$empty?"]())!==!1&&v!==c;)mb.$pop();else k=a.to_ary(c),qb=null==k[0]?c:k[0],rb=null==k[1]?c:k[1];e["$[]="]("style","quote"),qb!==!1&&qb!==c&&e["$[]="]("attribution",qb),rb!==!1&&rb!==c&&e["$[]="]("citetitle",rb),M=D.$build_block("quote","compound",!1,d,m.Reader.$new(mb),e)}else if(A=F,z=A===c||A===!1,y=z!==!1&&z!==c?mb.$size()["$>"](1):z,w=y!==!1&&y!==c?nb["$start_with?"]('"'):y,v=w!==!1&&w!==c?mb["$[]"](-1)["$start_with?"]("-- "):w,(k=v!==!1&&v!==c?mb["$[]"](-2)["$end_with?"]('"'):v)!==!1&&k!==c){for(mb["$[]="](0,nb["$[]"](h(1,-1,!1))),k=a.to_ary(mb.$pop()["$[]"](h(3,-1,!1)).$split(", ",2)),qb=null==k[0]?c:k[0],rb=null==k[1]?c:k[1];(v=mb["$[]"](-1)["$empty?"]())!==!1&&v!==c;)mb.$pop();mb["$[]="](-1,mb["$[]"](-1).$chop()),e["$[]="]("style","quote"),qb!==!1&&qb!==c&&e["$[]="]("attribution",qb),rb!==!1&&rb!==c&&e["$[]="]("citetitle",rb),M=m.Block.$new(d,"quote",g(["content_model","source","attributes"],{content_model:"simple",source:mb,attributes:e}))}else(k=(v=N["$=="]("normal"))?(w=(V=mb["$[]"](0).$chr())["$=="](" "))!==!1&&w!==c?w:V["$=="](m.TAB):v)!==!1&&k!==c&&(nb=mb["$[]"](0),sb=nb.$lstrip(),tb=D.$line_length(nb)["$-"](D.$line_length(sb)),mb["$[]="](0,sb),(k=(v=mb.$size()).$times,k._p=(B=function(a){B._s||this;return null==a&&(a=c),a["$>"](0)?mb["$[]="](a,mb["$[]"](a)["$[]"](h(tb,-1,!1))):c},B._s=D,B),k).call(v)),M=m.Block.$new(d,"paragraph",g(["content_model","source","attributes"],{content_model:"simple",source:mb,attributes:e}))}break}if(w=M,k=w===c||w===!1,(j=k!==!1&&k!==c?R:k)!==!1&&j!==c)if((j=(k=R["$=="]("abstract"))!==!1&&k!==c?k:R["$=="]("partintro"))!==!1&&j!==c&&(R="open"),ub=R,"admonition"["$==="](ub))e["$[]="]("name",pb=N.$downcase()),j="caption",k=e,(w=k["$[]"](j))!==!1&&w!==c?w:k["$[]="](j,H.$attributes()["$[]"](""+pb+"-caption")),M=D.$build_block(R,"compound",T,d,b,e);else{if("comment"["$==="](ub))return D.$build_block(R,"skip",T,d,b,e),c;if("example"["$==="](ub))M=D.$build_block(R,"compound",T,d,b,e);else if("listing"["$==="](ub)||"fenced_code"["$==="](ub)||"source"["$==="](ub))R["$=="]("fenced_code")?(N=e["$[]="]("style","source"),j=a.to_ary(P["$[]"](h(3,-1,!1)).$split(",",2)),vb=null==j[0]?c:j[0],wb=null==j[1]?c:j[1],(j=(k=vb!==!1&&vb!==c)?(w=(vb=vb.$strip())["$empty?"](),w===c||w===!1):k)!==!1&&j!==c&&(e["$[]="]("language",vb),(j=(k=wb!==!1&&wb!==c)?(w=wb.$strip()["$empty?"](),w===c||w===!1):k)!==!1&&j!==c&&e["$[]="]("linenums","")),T=T["$[]"](h(0,2,!1))):R["$=="]("source")&&m.AttributeList.$rekey(e,[c,"language","linenums"]),M=D.$build_block("listing","verbatim",T,d,b,e);else if("literal"["$==="](ub))M=D.$build_block(R,"verbatim",T,d,b,e);else if("pass"["$==="](ub))M=D.$build_block(R,"raw",T,d,b,e);else if("math"["$==="](ub)||"latexmath"["$==="](ub)||"asciimath"["$==="](ub))R["$=="]("math")&&e["$[]="]("style",function(){return(j=(xb=H.$attributes()["$[]"]("math"))["$nil_or_empty?"]())!==!1&&j!==c?"asciimath":xb}()),M=D.$build_block("math","raw",T,d,b,e);else if("open"["$==="](ub)||"sidebar"["$==="](ub))M=D.$build_block(R,"compound",T,d,b,e);else if("table"["$==="](ub))yb=b.$cursor(),zb=m.Reader.$new(b.$read_lines_until(g(["terminator","skip_line_comments"],{terminator:T,skip_line_comments:!0})),yb),ub=T.$chr(),","["$==="](ub)?e["$[]="]("format","csv"):":"["$==="](ub)&&e["$[]="]("format","dsv"),M=D.$next_table(zb,d,e);else if("quote"["$==="](ub)||"verse"["$==="](ub))m.AttributeList.$rekey(e,[c,"attribution","citetitle"]),M=D.$build_block(R,function(){return R["$=="]("verse")?"verbatim":"compound"}(),T,d,b,e);else if((j=(k=J!==!1&&J!==c)?$=I["$registered_for_block?"](R,S):k)!==!1&&j!==c){if(k=(Ab=$.$config()["$[]"]("content_model"))["$=="]("skip"),(j=k===c||k===!1)!=!1&&j!==c&&(k=(Bb=(w=$.$config()["$[]"]("pos_attrs"))!==!1&&w!==c?w:[])["$empty?"](),(j=k===c||k===!1)!=!1&&j!==c&&m.AttributeList.$rekey(e,[c].$concat(Bb)),(j=ab=$.$config()["$[]"]("default_attrs"))!==!1&&j!==c&&(j=(k=ab).$each,j._p=(C=function(a,b){{var d,f,g;C._s||this}return null==a&&(a=c),null==b&&(b=c),d=a,f=e,(g=f["$[]"](d))!==!1&&g!==c?g:f["$[]="](d,b)},C._s=D,C),j).call(k)),M=D.$build_block(R,Ab,T,d,b,e,g(["extension"],{extension:$})),(j=(w=M!==!1&&M!==c)?(y=Ab["$=="]("skip"),y===c||y===!1):w)===!1||j===c)return e.$clear(),c}else D.$raise("Unsupported block type "+R+" at "+b.$line_info())}}else b.$advance();return M!==!1&&M!==c&&(((i=M["$title?"]())===!1||i===c)&&M["$title="](e["$[]"]("title")),M.$context()["$=="]("image")?(Cb=e["$[]"]("target"),M.$document().$register("images",Cb),i="alt",j=e,(w=j["$[]"](i))!==!1&&w!==c?w:j["$[]="](i,(null==(y=a.Object._scope.File)?a.cm("File"):y).$basename(Cb,(null==(y=a.Object._scope.File)?a.cm("File"):y).$extname(Cb)).$tr("_-"," ")),M.$assign_caption(e.$delete("caption"),"figure"),(i=Db=e["$[]"]("scaledwidth"))!==!1&&i!==c&&(i=h(48,57,!1)["$include?"](((j=Db["$[]"](-1))!==!1&&j!==c?j:0).$ord()))!==!1&&i!==c&&e["$[]="]("scaledwidth",""+Db+"%")):(i=M,(j=i.$caption())!==!1&&j!==c?j:i["$caption="](e.$delete("caption"))),M["$style="](e["$[]"]("style")),j=M,(i=Eb=(w=j.$id())!==!1&&w!==c?w:j["$id="](e["$[]"]("id")))!==!1&&i!==c&&H.$register("ids",[Eb,(i=e["$[]"]("reftext"))!==!1&&i!==c?i:function(){return(j=M["$title?"]())!==!1&&j!==c?M.$title():c}()]),((i=e["$empty?"]())===!1||i===c)&&M.$attributes().$update(e),M.$lock_in_subs(),(i=M["$sub?"]("callouts"))!==!1&&i!==c&&((i=D.$catalog_callouts(M.$source(),H))===!1||i===c)&&M.$remove_sub("callouts")),M}),a.defs(k,"$is_delimited_block?",function(a,b){var d,e,f,g=c,i=c,j=c,k=c,l=c,n=c,o=c;if(null==b&&(b=!1),(d=(e=(g=a.$length())["$>"](1))?m.DELIMITED_BLOCK_LEADERS["$include?"](a["$[]"](h(0,1,!1))):e)===!1||d===c)return c;if(g["$=="](2))i=a,j=2;else{if(g["$<="](4)?(i=a,j=g):(i=a["$[]"](h(0,3,!1)),j=4),k=!1,(d=m.Compliance.$markdown_syntax())!==!1&&d!==c)if(l=function(){return j["$=="](4)?i.$chop():i}(),l["$=="]("```")){if((d=(e=j["$=="](4))?i["$end_with?"]("`"):e)!==!1&&d!==c)return c;i=l,j=3,k=!0}else if(l["$=="]("~~~")){if((d=(e=j["$=="](4))?i["$end_with?"]("~"):e)!==!1&&d!==c)return c;i=l,j=3,k=!0}if((d=(e=j["$=="](3))?(f=k,f===c||f===!1):e)!==!1&&d!==c)return c}return(d=m.DELIMITED_BLOCKS["$has_key?"](i))!==!1&&d!==c?(d=(e=j["$<"](4))!==!1&&e!==c?e:j["$=="](g))!==!1&&d!==c?b!==!1&&b!==c?((d=m.DELIMITED_BLOCKS["$[]"](i)).$to_a?d=d.$to_a():d._isArray?d:d=[d],n=null==d[0]?c:d[0],o=null==d[1]?c:d[1],m.BlockMatchData.$new(n,o,i,i)):!0:(""+i+i["$[]"](h(-1,-1,!1))["$*"](g["$-"](j)))["$=="](a)?b!==!1&&b!==c?((d=m.DELIMITED_BLOCKS["$[]"](i)).$to_a?d=d.$to_a():d._isArray?d:d=[d],n=null==d[0]?c:d[0],o=null==d[1]?c:d[1],m.BlockMatchData.$new(n,o,i,a)):!0:c:c}),a.defs(k,"$build_block",function(a,b,d,e,f,h,i){var j,k,l,n,o,p=this,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c;if(null==i&&(i=g([],{})),(j=(k=b["$=="]("skip"))!==!1&&k!==c?k:b["$=="]("raw"))!==!1&&j!==c?(q=b["$=="]("skip"),r="simple"):(q=!1,r=b),(j=d["$nil?"]())!==!1&&j!==c?(r["$=="]("verbatim")?s=f.$read_lines_until(g(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),s=(j=(k=f).$read_lines_until,j._p=(l=function(a){var b,d,e=l._s||this;return null==a&&(a=c),b=m.Compliance.$block_terminates_paragraph(),b!==!1&&b!==c?(d=e["$is_delimited_block?"](a))!==!1&&d!==c?d:m.BlockAttributeLineRx["$=~"](a):b},l._s=p,l),j).call(k,g(["break_on_blank_lines","break_on_list_continuation","preserve_last_line","skip_line_comments","skip_processing"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0,skip_line_comments:!0,skip_processing:q}))),t=c):(n=r["$=="]("compound"),(j=n===c||n===!1)!=!1&&j!==c?(s=f.$read_lines_until(g(["terminator","skip_processing"],{terminator:d,skip_processing:q})),t=c):d["$=="](!1)?(s=c,t=f):(s=c,u=f.$cursor(),t=m.Reader.$new(f.$read_lines_until(g(["terminator","skip_processing"],{terminator:d,skip_processing:q})),u))),b["$=="]("skip"))return h.$clear(),s;if((j=(n=b["$=="]("verbatim"))?v=h["$[]"]("indent"):n)!==!1&&j!==c&&p["$reset_block_indent!"](s,v.$to_i()),(j=w=i["$[]"]("extension"))!==!1&&j!==c){if(h.$delete("style"),(j=x=w.$process_method()["$[]"](e,(n=t)!==!1&&n!==c?n:m.Reader.$new(s),h.$dup()))===!1||j===c)return c;h.$replace(x.$attributes()),(j=(n=x.$content_model()["$=="]("compound"))?(o=(s=x.$lines())["$nil_or_empty?"](),o===c||o===!1):n)!==!1&&j!==c&&(b="compound",t=m.Reader.$new(s))}else x=m.Block.$new(e,a,g(["content_model","source","attributes"],{content_model:b,source:s,attributes:h}));return n=h["$has_key?"]("title"),(j=n!==!1&&n!==c?x.$document()["$attr?"](""+x.$context()+"-caption"):n)!==!1&&j!==c&&(x["$title="](h.$delete("title")),x.$assign_caption(h.$delete("caption"))),b["$=="]("compound")&&p.$parse_blocks(t,x),x}),a.defs(k,"$parse_blocks",function(a,b){for(var d,e=c;(d=a["$has_more_lines?"]())!==!1&&d!==c;)e=m.Parser.$next_block(a,b),e!==!1&&e!==c&&b["$<<"](e)}),a.defs(k,"$next_outline_list",function(a,b,d){var e,f,g,h=this,i=c,j=c,k=c,l=c,n=c,o=c;for(i=m.List.$new(d,b),i["$level="](d.$context()["$=="](b)?d.$level()["$+"](1):1);f=a["$has_more_lines?"](),(e=f!==!1&&f!==c?j=m.ListRxMap["$[]"](b).$match(a.$peek_line()):f)!==!1&&e!==c;){if(k=h.$resolve_list_marker(b,j["$[]"](1)),f=i["$items?"](),(e=f!==!1&&f!==c?(g=k["$=="](i.$items()["$[]"](0).$marker()),g===c||g===!1):f)!==!1&&e!==c)for(l=i.$level()["$+"](1),n=d;n.$context()["$=="](b);){if(k["$=="](n.$items()["$[]"](0).$marker())){l=n.$level();break}n=n.$parent()}else l=i.$level();if(g=i["$items?"](),(e=(f=g===c||g===!1)!=!1&&f!==c?f:l["$=="](i.$level()))!==!1&&e!==c)o=h.$next_list_item(a,i,j);else{if(l["$<"](i.$level()))break;l["$>"](i.$level())&&i.$items()["$[]"](-1)["$<<"](h.$next_block(a,i))}o!==!1&&o!==c&&i["$<<"](o),o=c,a.$skip_blank_lines()}return i}),a.defs(k,"$catalog_callouts",function(a,b){var d,e,f,g=this,h=c;return h=!1,(d=a["$include?"]("<"))!==!1&&d!==c&&(d=(e=a).$scan,d._p=(f=function(){var a,d,e=(f._s||this,c);return e=i["~"],d=e["$[]"](0).$chr()["$=="]("\\"),(a=d===c||d===!1)!=!1&&a!==c&&b.$callouts().$register(e["$[]"](2)),h=!0},f._s=g,f),d).call(e,m.CalloutQuickScanRx),h}),a.defs(k,"$catalog_inline_anchors",function(a,b){var d,e,f,g=this;return(d=a["$include?"]("["))!==!1&&d!==c&&(d=(e=a).$scan,d._p=(f=function(){var a,d=(f._s||this,c),e=c,g=c;return d=i["~"],(a=d["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?c:(e=(a=d["$[]"](1))!==!1&&a!==c?a:d["$[]"](3),g=(a=d["$[]"](2))!==!1&&a!==c?a:d["$[]"](4),b.$register("ids",[e,g]))},f._s=g,f),d).call(e,m.InlineAnchorRx),c}),a.defs(k,"$next_labeled_list",function(b,d,e){var f,g,h,i=this,j=c,k=c,l=c,n=c,o=c;for(j=m.List.$new(e,"dlist"),k=c,l=m.DefinitionListSiblingRx["$[]"](d["$[]"](2));g=b["$has_more_lines?"](),(f=g!==!1&&g!==c?d=l.$match(b.$peek_line()):g)!==!1&&f!==c;)f=a.to_ary(i.$next_list_item(b,j,d,l)),n=null==f[0]?c:f[0],o=null==f[1]?c:f[1],(f=(g=k!==!1&&k!==c)?(h=k["$[]"](-1),h===c||h===!1):g)!==!1&&f!==c?(k.$pop(),k["$[]"](0)["$<<"](n),k["$<<"](o)):j.$items()["$<<"](k=[[n],o]);return j}),a.defs(k,"$next_list_item",function(a,b,d,e){var f,i,j,k=this,l=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c;if(null==e&&(e=c),(l=b.$context())["$=="]("dlist")?(n=m.ListItem.$new(b,d["$[]"](1)),o=m.ListItem.$new(b,d["$[]"](3)),f=d["$[]"](3)["$nil_or_empty?"](),p=f===c||f===!1):(q=d["$[]"](2),r=!1,(f=(i=l["$=="]("ulist"))?q["$start_with?"]("["):i)!==!1&&f!==c&&((f=q["$start_with?"]("[ ] "))!==!1&&f!==c?(r=!0,s=!1,q=q["$[]"](h(3,-1,!1)).$lstrip()):(f=(i=q["$start_with?"]("[*] "))!==!1&&i!==c?i:q["$start_with?"]("[x] "))!==!1&&f!==c&&(r=!0,s=!0,q=q["$[]"](h(3,-1,!1)).$lstrip())),o=m.ListItem.$new(b,q),r!==!1&&r!==c&&(b.$attributes()["$[]="]("checklist-option",""),o.$attributes()["$[]="]("checkbox",""),s!==!1&&s!==c&&o.$attributes()["$[]="]("checked","")),(f=e)!==!1&&f!==c?f:e=k.$resolve_list_marker(l,d["$[]"](1),b.$items().$size(),!0,a),o["$marker="](e),p=!0),a.$advance(),t=a.$cursor(),u=m.Reader.$new(k.$read_lines_for_list_item(a,l,e,p),t),(f=u["$has_more_lines?"]())!==!1&&f!==c){for(v=u.$skip_line_comments(),w=u.$peek_line(),((f=v["$empty?"]())===!1||f===c)&&u.$unshift_lines(v),i=w["$nil?"](),(f=i===c||i===!1)!=!1&&f!==c?(x=w["$empty?"](),j=x,i=j===c||j===!1,(f=i!==!1&&i!==c?(j=l["$=="]("dlist"),j===c||j===!1):i)!==!1&&f!==c&&(p=!1),i=x,f=i===c||i===!1,y=f!==!1&&f!==c?(i=w["$empty?"](),i===c||i===!1):f):(x=!1,y=!1),z=g(["text"],{text:(f=p,f===c||f===!1)});(i=u["$has_more_lines?"]())!==!1&&i!==c;)A=k.$next_block(u,b,g([],{}),z),A!==!1&&A!==c&&o["$<<"](A);o.$fold_first(x,y)}return l["$=="]("dlist")?(((f=(i=o["$text?"]())!==!1&&i!==c?i:o["$blocks?"]())===!1||f===c)&&(o=c),[n,o]):o}),a.defs(k,"$read_lines_for_list_item",function(a,b,d,e){var f,h,j,k,l,n,o,p,q,r,s,t,u,v,w=this,x=c,y=c,z=c,A=c,B=c,C=c,D=c,E=c;for(null==d&&(d=c),null==e&&(e=!0),x=[],y="inactive",z=!1,A=c;(h=a["$has_more_lines?"]())!==!1&&h!==c&&(B=a.$read_line(),(h=w["$is_sibling_list_item?"](B,b,d))===!1||h===c);)if(C=function(){return(h=x["$empty?"]())!==!1&&h!==c?c:x["$[]"](-1)}(),C["$=="](m.LIST_CONTINUATION)&&(y["$=="]("inactive")&&(y="active",e=!0,((h=z)===!1||h===c)&&x["$[]="](-1,"")),B["$=="](m.LIST_CONTINUATION)))j=y["$=="]("frozen"),(h=j===c||j===!1)!=!1&&h!==c&&(y="frozen",x["$<<"](B)),B=c;else{if((h=D=w["$is_delimited_block?"](B,!0))!==!1&&h!==c){if(!y["$=="]("active"))break;x["$<<"](B),x.$concat(a.$read_lines_until(g(["terminator","read_last_line"],{terminator:D.$terminator(),read_last_line:!0}))),y="inactive"}else{if(j=(k=b["$=="]("dlist"))?(l=y["$=="]("active"),l===c||l===!1):k,(h=j!==!1&&j!==c?m.BlockAttributeLineRx["$=~"](B):j)!==!1&&h!==c)break;if((h=(j=y["$=="]("active"))?(k=B["$empty?"](),k===c||k===!1):j)!==!1&&h!==c)(h=m.LiteralParagraphRx["$=~"](B))!==!1&&h!==c?(a.$unshift_line(B),x.$concat((h=(j=a).$read_lines_until,h._p=(n=function(a){var e,f=n._s||this;return null==a&&(a=c),(e=b["$=="]("dlist"))?f["$is_sibling_list_item?"](a,b,d):e},n._s=w,n),h).call(j,g(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),y="inactive"):(h=(k=(l=m.BlockTitleRx["$=~"](B))!==!1&&l!==c?l:m.BlockAttributeLineRx["$=~"](B))!==!1&&k!==c?k:m.AttributeEntryRx["$=~"](B))!==!1&&h!==c?x["$<<"](B):((h=E=(k=(l=function(){return z!==!1&&z!==c?["dlist"]:m.NESTABLE_LIST_CONTEXTS}()).$detect,k._p=(o=function(a){o._s||this;return null==a&&(a=c),m.ListRxMap["$[]"](a)["$=~"](B)},o._s=w,o),k).call(l))!==!1&&h!==c&&(z=!0,(h=(k=E["$=="]("dlist"))?i["~"]["$[]"](3)["$nil_or_empty?"]():k)!==!1&&h!==c&&(e=!1)),x["$<<"](B),y="inactive");else if(p=C["$nil?"](),k=p===c||p===!1,(h=k!==!1&&k!==c?C["$empty?"]():k)!==!1&&h!==c){if((h=B["$empty?"]())!==!1&&h!==c&&(a.$skip_blank_lines(),B=a.$read_line(),(h=(k=B["$nil?"]())!==!1&&k!==c?k:w["$is_sibling_list_item?"](B,b,d))!==!1&&h!==c))break;if(B["$=="](m.LIST_CONTINUATION))A=x.$size(),x["$<<"](B);else if(e!==!1&&e!==c){if((h=w["$is_sibling_list_item?"](B,b,d))!==!1&&h!==c)break;if((h=E=(k=(p=m.NESTABLE_LIST_CONTEXTS).$detect,k._p=(q=function(a){q._s||this;return null==a&&(a=c),m.ListRxMap["$[]"](a)["$=~"](B)},q._s=w,q),k).call(p))!==!1&&h!==c)x["$<<"](B),z=!0,(h=(k=E["$=="]("dlist"))?i["~"]["$[]"](3)["$nil_or_empty?"]():k)!==!1&&h!==c&&(e=!1);else{if((h=m.LiteralParagraphRx["$=~"](B))===!1||h===c)break;a.$unshift_line(B),x.$concat((h=(k=a).$read_lines_until,h._p=(r=function(a){var e,f=r._s||this;return null==a&&(a=c),(e=b["$=="]("dlist"))?f["$is_sibling_list_item?"](a,b,d):e},r._s=w,r),h).call(k,g(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}}else((h=z)===!1||h===c)&&x.$pop(),x["$<<"](B),e=!0}else s=B["$empty?"](),(h=s===c||s===!1)!=!1&&h!==c&&(e=!0),(h=E=(s=(t=function(){return z!==!1&&z!==c?["dlist"]:m.NESTABLE_LIST_CONTEXTS}()).$detect,s._p=(u=function(a){u._s||this;return null==a&&(a=c),m.ListRxMap["$[]"](a)["$=~"](B)},u._s=w,u),s).call(t))!==!1&&h!==c&&(z=!0,(h=(s=E["$=="]("dlist"))?i["~"]["$[]"](3)["$nil_or_empty?"]():s)!==!1&&h!==c&&(e=!1)),x["$<<"](B)}B=c}for(B!==!1&&B!==c&&a.$unshift_line(B),A!==!1&&A!==c&&x.$delete_at(A);v=x["$empty?"](),s=v===c||v===!1,(h=s!==!1&&s!==c?x["$[]"](-1)["$empty?"]():s)!==!1&&h!==c;)x.$pop();return s=x["$empty?"](),h=s===c||s===!1,(f=h!==!1&&h!==c?x["$[]"](-1)["$=="](m.LIST_CONTINUATION):h)!==!1&&f!==c&&x.$pop(),x}),a.defs(k,"$initialize_section",function(b,d,e){var f,h,i,j=this,k=c,l=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c;return null==e&&(e=g([],{})),k=d.$document(),f=a.to_ary(j.$parse_section_title(b,k)),l=null==f[0]?c:f[0],n=null==f[1]?c:f[1],o=null==f[2]?c:f[2],p=null==f[3]?c:f[3],q=null==f[4]?c:f[4],n!==!1&&n!==c&&e["$[]="]("reftext",n),r=m.Section.$new(d,p,k.$attributes()["$has_key?"]("numbered")),r["$id="](l),r["$title="](o),(f=e["$[]"](1))!==!1&&f!==c?(f=a.to_ary(j.$parse_style_attribute(e,b)),s=null==f[0]?c:f[0],q=null==f[1]?c:f[1],s!==!1&&s!==c?(r["$sectname="](s),r["$special="](!0),(f=(h=r.$sectname()["$=="]("abstract"))?k.$doctype()["$=="]("book"):h)!==!1&&f!==c&&(r["$sectname="]("sect1"),r["$special="](!1),r["$level="](1))):r["$sectname="]("sect"+r.$level())):(f=(h=o.$downcase()["$=="]("synopsis"))?k.$doctype()["$=="]("manpage"):h)!==!1&&f!==c?(r["$special="](!0),r["$sectname="]("synopsis")):r["$sectname="]("sect"+r.$level()),i=r.$id(),h=i===c||i===!1,(f=h!==!1&&h!==c?t=e["$[]"]("id"):h)!==!1&&f!==c?r["$id="](t):(f=r,(h=f.$id())!==!1&&h!==c?h:f["$id="](r.$generate_id())),(f=r.$id())!==!1&&f!==c&&r.$document().$register("ids",[r.$id(),(f=e["$[]"]("reftext"))!==!1&&f!==c?f:r.$title()]),r.$update_attributes(e),b.$skip_blank_lines(),r}),a.defs(k,"$section_level",function(a){return m.SECTION_LEVELS["$[]"](a.$chr())}),a.defs(k,"$single_line_section_level",function(a){return a.$length()["$-"](1)}),a.defs(k,"$is_next_line_section?",function(a,b){var d,e,f,g,h=this,i=c,j=c;return g=(i=b["$[]"](1))["$nil?"](),f=g===c||g===!1,e=f!==!1&&f!==c?(g=(j=i["$[]"](0).$ord())["$=="](100))!==!1&&g!==c?g:j["$=="](102):f,(d=e!==!1&&e!==c?i["$=~"](m.FloatingTitleStyleRx):e)!==!1&&d!==c?!1:(d=a["$has_more_lines?"]())===!1||d===c?!1:(d=m.Compliance.$underline_style_section_titles())!==!1&&d!==c?(d=h)["$is_section_title?"].apply(d,[].concat(a.$peek_lines(2))):h["$is_section_title?"](a.$peek_line())}),a.defs(k,"$is_next_line_document_title?",function(a,b){var c=this;return c["$is_next_line_section?"](a,b)["$=="](0)}),a.defs(k,"$is_section_title?",function(a,b){var d,e,f=this,g=c;return null==b&&(b=c),(d=g=f["$is_single_line_section_title?"](a))!==!1&&d!==c?g:(d=(e=b!==!1&&b!==c)?g=f["$is_two_line_section_title?"](a,b):e)!==!1&&d!==c?g:!1}),a.defs(k,"$is_single_line_section_title?",function(a){var b,d,e,f,g=this,h=c,i=c;return h=function(){return a!==!1&&a!==c?a.$chr():c}(),d=(e=h["$=="]("="))!==!1&&e!==c?e:(f=m.Compliance.$markdown_syntax(),f!==!1&&f!==c?h["$=="]("#"):f),(b=d!==!1&&d!==c?i=m.AtxSectionRx.$match(a):d)!==!1&&b!==c?g.$single_line_section_level(i["$[]"](1)):!1}),a.defs(k,"$is_two_line_section_title?",function(a,b){var d,e,f,g,h,i,j=this;return h=(i=a!==!1&&a!==c)?b:i,g=h!==!1&&h!==c?m.SECTION_LEVELS["$has_key?"](b.$chr()):h,f=g!==!1&&g!==c?b["$=~"](m.SetextSectionLineRx):g,e=f!==!1&&f!==c?a["$=~"](m.SetextSectionTitleRx):f,(d=e!==!1&&e!==c?j.$line_length(a)["$-"](j.$line_length(b)).$abs()["$<="](1):e)!==!1&&d!==c?j.$section_level(b):!1}),a.defs(k,"$parse_section_title",function(a,b){var d,e,f,g,h,i=this,j=c,k=c,l=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c;return j=a.$read_line(),k=c,l=c,n=-1,o=c,p=!0,q=j.$chr(),e=(f=q["$=="]("="))!==!1&&f!==c?f:(g=m.Compliance.$markdown_syntax(),g!==!1&&g!==c?q["$=="]("#"):g),(d=e!==!1&&e!==c?r=m.AtxSectionRx.$match(j):e)!==!1&&d!==c?(n=i.$single_line_section_level(r["$[]"](1)),l=r["$[]"](2),e=l["$end_with?"]("]]"),(d=e!==!1&&e!==c?s=m.InlineSectionAnchorRx.$match(l):e)!==!1&&d!==c&&(d=s["$[]"](2)["$nil?"]())!==!1&&d!==c&&(l=s["$[]"](1),k=s["$[]"](3),o=s["$[]"](4))):(d=m.Compliance.$underline_style_section_titles())!==!1&&d!==c&&(h=t=a.$peek_line(!0),g=h!==!1&&h!==c?m.SECTION_LEVELS["$has_key?"](t.$chr()):h,f=g!==!1&&g!==c?t["$=~"](m.SetextSectionLineRx):g,e=f!==!1&&f!==c?u=m.SetextSectionTitleRx.$match(j):f,(d=e!==!1&&e!==c?i.$line_length(j)["$-"](i.$line_length(t)).$abs()["$<="](1):e)!==!1&&d!==c&&(l=u["$[]"](1),e=l["$end_with?"]("]]"),(d=e!==!1&&e!==c?s=m.InlineSectionAnchorRx.$match(l):e)!==!1&&d!==c&&(d=s["$[]"](2)["$nil?"]())!==!1&&d!==c&&(l=s["$[]"](1),k=s["$[]"](3),o=s["$[]"](4)),n=i.$section_level(t),p=!1,a.$advance())),n["$>="](0)&&(n=n["$+"](b.$attr("leveloffset",0).$to_i())),[k,o,l,n,p]}),a.defs(k,"$line_length",function(a){var b;return(b=m.FORCE_UNICODE_LINE_LENGTH)!==!1&&b!==c?a.$scan(/./i).$length():a.$length()}),a.defs(k,"$parse_header_metadata",function(b,d){var e,f,h,i,j,k,l,n=this,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c;if(null==d&&(d=c),n.$process_attribute_entries(b,d),o=g([],{}),p=c,q=c,f=b["$has_more_lines?"](),(e=f!==!1&&f!==c?(h=b["$next_line_empty?"](),h===c||h===!1):f)!==!1&&e!==c&&(r=n.$process_authors(b.$read_line()),((e=r["$empty?"]())===!1||e===c)&&(d!==!1&&d!==c&&((e=(f=r).$each,e._p=(i=function(b,e){{var f,g;i._s||this}return null==b&&(b=c),null==e&&(e=c),(f=d.$attributes()["$has_key?"](b))!==!1&&f!==c?c:d.$attributes()["$[]="](b,function(){return(f=e["$is_a?"](null==(g=a.Object._scope.String)?a.cm("String"):g))!==!1&&f!==c?d.$apply_header_subs(e):e}())},i._s=n,i),e).call(f),p=d.$attributes()["$[]"]("author"),q=d.$attributes()["$[]"]("authors")),o=r),n.$process_attribute_entries(b,d),s=g([],{}),h=b["$has_more_lines?"](),(e=h!==!1&&h!==c?(j=b["$next_line_empty?"](),j===c||j===!1):h)!==!1&&e!==c&&(t=b.$read_line(),(e=u=m.RevisionInfoLineRx.$match(t))!==!1&&e!==c?(s["$[]="]("revdate",u["$[]"](2).$strip()),((e=u["$[]"](1)["$nil?"]())===!1||e===c)&&s["$[]="]("revnumber",u["$[]"](1).$rstrip()),((e=u["$[]"](3)["$nil?"]())===!1||e===c)&&s["$[]="]("revremark",u["$[]"](3).$rstrip())):b.$unshift_line(t)),((e=s["$empty?"]())===!1||e===c)&&(d!==!1&&d!==c&&(e=(h=s).$each,e._p=(k=function(a,b){{var e;k._s||this}return null==a&&(a=c),null==b&&(b=c),(e=d.$attributes()["$has_key?"](a))!==!1&&e!==c?c:d.$attributes()["$[]="](a,d.$apply_header_subs(b))},k._s=n,k),e).call(h),o.$update(s)),n.$process_attribute_entries(b,d),b.$skip_blank_lines()),d!==!1&&d!==c){if(r=c,j=d.$attributes()["$has_key?"]("author"),(e=j!==!1&&j!==c?(l=(v=d.$attributes()["$[]"]("author"))["$=="](p),l===c||l===!1):j)!==!1&&e!==c)r=n.$process_authors(v,!0,!1);else if(j=d.$attributes()["$has_key?"]("authors"),(e=j!==!1&&j!==c?(l=(v=d.$attributes()["$[]"]("authors"))["$=="](q),l===c||l===!1):j)!==!1&&e!==c)r=n.$process_authors(v,!0);else{for(w=[],x="author_"+w.$size()["$+"](1);(j=d.$attributes()["$has_key?"](x))!==!1&&j!==c;)w["$<<"](d.$attributes()["$[]"](x)),x="author_"+w.$size()["$+"](1);w.$size()["$=="](1)?r=n.$process_authors(w["$[]"](0),!0,!1):w.$size()["$>"](1)&&(r=n.$process_authors(w.$join("; "),!0))}r!==!1&&r!==c&&(d.$attributes().$update(r),l=d.$attributes()["$has_key?"]("email"),j=l===c||l===!1,(e=j!==!1&&j!==c?d.$attributes()["$has_key?"]("email_1"):j)!==!1&&e!==c&&d.$attributes()["$[]="]("email",d.$attributes()["$[]"]("email_1")))}return o}),a.defs(k,"$process_authors",function(a,b,d){var e,f,h,i,j,k=this,l=c,n=c,o=c;return null==b&&(b=!1),null==d&&(d=!0),l=g([],{}),n=["author","authorinitials","firstname","middlename","lastname","email"],o=function(){return d!==!1&&d!==c?(e=(f=a.$split(";")).$map,e._p=(h=function(a){h._s||this;return null==a&&(a=c),a.$strip()},h._s=k,h),e).call(f):[a]}(),(e=(i=o).$each_with_index,e._p=(j=function(a,d){var e,f,h,i,k,o,p,q,r=j._s||this,s=c,t=c,u=c,v=c,w=c,x=c;return null==a&&(a=c),null==d&&(d=c),(e=a["$empty?"]())!==!1&&e!==c?c:(s=g([],{}),(e=d["$zero?"]())!==!1&&e!==c?(e=(f=n).$each,e._p=(h=function(a){h._s||this;return null==a&&(a=c),s["$[]="](a.$to_sym(),a)},h._s=r,h),e).call(f):(e=(i=n).$each,e._p=(k=function(a){k._s||this;return null==a&&(a=c),s["$[]="](a.$to_sym(),""+a+"_"+d["$+"](1))},k._s=r,k),e).call(i),t=c,b!==!1&&b!==c?t=a.$split(" ",3):(e=u=m.AuthorInfoLineRx.$match(a))!==!1&&e!==c&&(t=u.$to_a(),t.$shift()),(e=t["$nil?"]())!==!1&&e!==c?(l["$[]="](s["$[]"]("author"),l["$[]="](s["$[]"]("firstname"),v=a.$strip().$tr_s(" "," "))),l["$[]="](s["$[]"]("authorinitials"),v["$[]"](0,1))):(l["$[]="](s["$[]"]("firstname"),v=t["$[]"](0).$tr("_"," ")),l["$[]="](s["$[]"]("author"),v),l["$[]="](s["$[]"]("authorinitials"),v["$[]"](0,1)),p=t["$[]"](1)["$nil?"](),o=p===c||p===!1,(e=o!==!1&&o!==c?(p=t["$[]"](2)["$nil?"](),p===c||p===!1):o)!==!1&&e!==c?(l["$[]="](s["$[]"]("middlename"),w=t["$[]"](1).$tr("_"," ")),l["$[]="](s["$[]"]("lastname"),x=t["$[]"](2).$tr("_"," ")),l["$[]="](s["$[]"]("author"),[v,w,x].$join(" ")),l["$[]="](s["$[]"]("authorinitials"),[v["$[]"](0,1),w["$[]"](0,1),x["$[]"](0,1)].$join())):(o=t["$[]"](1)["$nil?"](),(e=o===c||o===!1)!=!1&&e!==c&&(l["$[]="](s["$[]"]("lastname"),x=t["$[]"](1).$tr("_"," ")),l["$[]="](s["$[]"]("author"),[v,x].$join(" ")),l["$[]="](s["$[]"]("authorinitials"),[v["$[]"](0,1),x["$[]"](0,1)].$join()))),((e=(o=b)!==!1&&o!==c?o:t["$[]"](3)["$nil?"]())===!1||e===c)&&l["$[]="](s["$[]"]("email"),t["$[]"](3))),l["$[]="]("authorcount",d["$+"](1)),d["$=="](1)&&(e=(o=n).$each,e._p=(q=function(a){{var b;q._s||this}return null==a&&(a=c),(b=l["$has_key?"](a))!==!1&&b!==c?l["$[]="](""+a+"_1",l["$[]"](a)):c},q._s=r,q),e).call(o),(e=d["$zero?"]())!==!1&&e!==c?l["$[]="]("authors",l["$[]"](s["$[]"]("author"))):l["$[]="]("authors",""+l["$[]"]("authors")+", "+l["$[]"](s["$[]"]("author"))))},j._s=k,j),e).call(i),l}),a.defs(k,"$parse_block_metadata_lines",function(a,b,d,e){var f,h=this;for(null==d&&(d=g([],{})),null==e&&(e=g([],{}));(f=h.$parse_block_metadata_line(a,b,d,e))!==!1&&f!==c;)a.$advance(),a.$skip_blank_lines();return d}),a.defs(k,"$parse_block_metadata_line",function(a,b,d,e){var f,h,i,j,k=this,l=c,n=c,o=c,p=c,q=c;if(null==e&&(e=g([],{})),(f=a["$has_more_lines?"]())===!1||f===c)return!1;if(l=a.$peek_line(),h=n=l["$start_with?"]("//"),(f=h!==!1&&h!==c?o=m.CommentBlockRx.$match(l):h)!==!1&&f!==c)p=o["$[]"](0),a.$read_lines_until(g(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:p,skip_processing:!0}));else if((f=(h=n!==!1&&n!==c)?m.CommentLineRx["$=~"](l):h)===!1||f===c)if(j=e["$[]"]("text"),i=j===c||j===!1,h=i!==!1&&i!==c?l["$start_with?"](":"):i,(f=h!==!1&&h!==c?o=m.AttributeEntryRx.$match(l):h)!==!1&&f!==c)k.$process_attribute_entry(a,b,d,o);else if(i=l["$start_with?"]("["),h=q=i!==!1&&i!==c?l["$end_with?"]("]"):i,(f=h!==!1&&h!==c?o=m.BlockAnchorRx.$match(l):h)!==!1&&f!==c)((f=o["$[]"](1)["$nil_or_empty?"]())===!1||f===c)&&(d["$[]="]("id",o["$[]"](1)),((f=o["$[]"](2)["$nil?"]())===!1||f===c)&&d["$[]="]("reftext",o["$[]"](2)));else if((f=(h=q!==!1&&q!==c)?o=m.BlockAttributeListRx.$match(l):h)!==!1&&f!==c)b.$document().$parse_attributes(o["$[]"](1),[],g(["sub_input","into"],{sub_input:!0,into:d}));else{if(i=e["$[]"]("text"),h=i===c||i===!1,(f=h!==!1&&h!==c?o=m.BlockTitleRx.$match(l):h)===!1||f===c)return!1;d["$[]="]("title",o["$[]"](1))}return!0}),a.defs(k,"$process_attribute_entries",function(a,b,d){var e,f=this;for(null==d&&(d=c),a.$skip_comment_lines();(e=f.$process_attribute_entry(a,b,d))!==!1&&e!==c;)a.$advance(),a.$skip_comment_lines()}),a.defs(k,"$process_attribute_entry",function(a,b,d,e){var f,g,h=this,i=c,j=c,k=c;if(null==d&&(d=c),null==e&&(e=c),(f=e)!==!1&&f!==c?f:e=function(){return(g=a["$has_more_lines?"]())!==!1&&g!==c?m.AttributeEntryRx.$match(a.$peek_line()):c}(),e!==!1&&e!==c){if(i=e["$[]"](1),j=(f=e["$[]"](2))!==!1&&f!==c?f:"",(f=j["$end_with?"](m.LINE_BREAK))!==!1&&f!==c)for(j=j.$chop().$rstrip();(g=a.$advance())!==!1&&g!==c&&(k=a.$peek_line().$strip(),(g=k["$empty?"]())===!1||g===c);){if((g=k["$end_with?"](m.LINE_BREAK))===!1||g===c){j=""+j+" "+k;break}j=""+j+" "+k.$chop().$rstrip()}return h.$store_attribute(i,j,function(){return b!==!1&&b!==c?b.$document():c}(),d),!0}return!1}),a.defs(k,"$store_attribute",function(a,b,d,e){var f,g,i,j=this,k=c;return null==d&&(d=c),null==e&&(e=c),(f=a["$end_with?"]("!"))!==!1&&f!==c?(b=c,a=a.$chop()):(f=a["$start_with?"]("!"))!==!1&&f!==c&&(b=c,a=a["$[]"](h(1,-1,!1))),a=j.$sanitize_attribute_name(a),k=!0,d!==!1&&d!==c&&(k=function(){return(f=b["$nil?"]())!==!1&&f!==c?d.$delete_attribute(a):d.$set_attribute(a,b)}()),i=k,((f=(g=i===c||i===!1)!=!1&&g!==c?g:e["$nil?"]())===!1||f===c)&&m.Document._scope.AttributeEntry.$new(a,b).$save_to(e),[a,b]}),a.defs(k,"$resolve_list_marker",function(a,b,d,e,f){var g,h,i,j=this;return null==d&&(d=0),null==e&&(e=!1),null==f&&(f=c),(g=(h=a["$=="]("olist"))?(i=b["$start_with?"]("."),i===c||i===!1):h)!==!1&&g!==c?j.$resolve_ordered_list_marker(b,d,e,f):a["$=="]("colist")?"<1>":b}),a.defs(k,"$resolve_ordered_list_marker",function(a,b,d,e){var f,g,h,i,j,k=this,l=c,n=c,o=c,p=c;return null==b&&(b=0),null==d&&(d=!1),null==e&&(e=c),l=(f=(g=m.ORDERED_LIST_STYLES).$detect,f._p=(h=function(b){h._s||this;return null==b&&(b=c),m.OrderedListMarkerRxMap["$[]"](b)["$=~"](a)},h._s=k,h),f).call(g),n=o=c,p=l,"arabic"["$==="](p)?(d!==!1&&d!==c&&(n=b["$+"](1),o=a.$to_i()),a="1."):"loweralpha"["$==="](p)?(d!==!1&&d!==c&&(n="a"["$[]"](0).$ord()["$+"](b).$chr(),o=a.$chomp(".")),a="a."):"upperalpha"["$==="](p)?(d!==!1&&d!==c&&(n="A"["$[]"](0).$ord()["$+"](b).$chr(),o=a.$chomp(".")),a="A."):"lowerroman"["$==="](p)?(d!==!1&&d!==c&&(n=b["$+"](1),o=k.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](p)&&(d!==!1&&d!==c&&(n=b["$+"](1),o=k.$roman_numeral_to_int(a.$chomp(")"))),a="I)"),(f=(i=d!==!1&&d!==c)?(j=n["$=="](o),j===c||j===!1):i)!==!1&&f!==c&&k.$warn("asciidoctor: WARNING: "+e.$line_info()+": list item index: expected "+n+", got "+o),a}),a.defs(k,"$is_sibling_list_item?",function(b,d,e){var f,g,h=this,i=c,j=c,k=c;return(f=e["$is_a?"](null==(g=a.Object._scope.Regexp)?a.cm("Regexp"):g))!==!1&&f!==c?(i=e,j=!1):(i=m.ListRxMap["$[]"](d),j=e),(f=k=i.$match(b))!==!1&&f!==c?j!==!1&&j!==c?j["$=="](h.$resolve_list_marker(d,k["$[]"](1))):!0:!1}),a.defs(k,"$next_table",function(b,d,e){var f,g,i,j,k,l,n,o=this,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c;for(p=m.Table.$new(d,e),(f=e["$has_key?"]("title"))!==!1&&f!==c&&(p["$title="](e.$delete("title")),p.$assign_caption(e.$delete("caption"))),(f=e["$has_key?"]("cols"))!==!1&&f!==c?(p.$create_columns(o.$parse_col_specs(e["$[]"]("cols"))),q=!0):q=!1,r=b.$skip_blank_lines(),s=m.Table._scope.ParserContext.$new(b,p,e),t=-1;(g=b["$has_more_lines?"]())!==!1&&g!==c;){for(t=t["$+"](1),u=b.$read_line(),k=(l=r["$=="](0))?t["$zero?"]():l,j=k!==!1&&k!==c?(l=e["$has_key?"]("options"),l===c||l===!1):k,i=j!==!1&&j!==c?(k=(v=b.$peek_line())["$nil?"](),k===c||k===!1):j,(g=i!==!1&&i!==c?v["$empty?"]():i)!==!1&&g!==c&&(p["$has_header_option="](!0),p.$set_option("header")),s.$format()["$=="]("psv")&&((g=s["$starts_with_delimiter?"](u))!==!1&&g!==c?(u=u["$[]"](h(1,-1,!1)),s.$close_open_cell()):(g=a.to_ary(o.$parse_cell_spec(u,"start")),w=null==g[0]?c:g[0],u=null==g[1]?c:g[1],i=w["$nil?"](),(g=i===c||i===!1)!=!1&&g!==c&&s.$close_open_cell(w))),x=!1;k=x,(i=(j=k===c||k===!1)!=!1&&j!==c?j:(k=u["$empty?"](),k===c||k===!1))!==!1&&i!==c;)if(x=!0,(i=y=s.$match_delimiter(u))!==!1&&i!==c){if(s.$format()["$=="]("csv")){if((i=s["$buffer_has_unclosed_quotes?"](y.$pre_match()))!==!1&&i!==c){u=s.$skip_matched_delimiter(y);
continue}}else if((i=y.$pre_match()["$end_with?"]("\\"))!==!1&&i!==c){u=s.$skip_matched_delimiter(y,!0);continue}s.$format()["$=="]("psv")?(i=a.to_ary(o.$parse_cell_spec(y.$pre_match(),"end")),w=null==i[0]?c:i[0],z=null==i[1]?c:i[1],s.$push_cell_spec(w),s["$buffer="](""+s.$buffer()+z)):s["$buffer="](""+s.$buffer()+y.$pre_match()),u=y.$post_match(),s.$close_cell()}else s["$buffer="](""+s.$buffer()+u+m.EOL),s.$format()["$=="]("csv")&&s["$buffer="](""+s.$buffer().$rstrip()+" "),u="",(i=(j=s.$format()["$=="]("psv"))!==!1&&j!==c?j:(k=s.$format()["$=="]("csv"))?s["$buffer_has_unclosed_quotes?"]():k)!==!1&&i!==c?s.$keep_cell_open():s.$close_cell(!0);((g=s["$cell_open?"]())===!1||g===c)&&(r=b.$skip_blank_lines()),i=b["$has_more_lines?"](),(g=i===c||i===!1)!=!1&&g!==c&&s.$close_cell(!0)}return f="colcount",g=p.$attributes(),(i=g["$[]"](f))!==!1&&i!==c?i:g["$[]="](f,s.$col_count()),g=q,(f=g===c||g===!1)!=!1&&f!==c&&(A=100["$/"](s.$col_count()).$floor(),(f=(g=p.$columns()).$each,f._p=(n=function(a){n._s||this;return null==a&&(a=c),a.$assign_width(0,A)},n._s=o,n),f).call(g)),p.$partition_header_footer(e),p}),a.defs(k,"$parse_col_specs",function(b){var d,e,f,h,i,j=this,k=c;return(d=m.DigitsRx["$=~"](b))!==!1&&d!==c?(d=(e=null==(h=a.Object._scope.Array)?a.cm("Array"):h).$new,d._p=(f=function(){f._s||this;return g(["width"],{width:1})},f._s=j,f),d).call(e,b.$to_i()):(k=[],(d=(h=b.$split(",")).$each,d._p=(i=function(b){var d,e,f,h,j=i._s||this,l=c,n=c,o=c,p=c,q=c;return null==b&&(b=c),(d=l=m.ColumnSpecRx.$match(b))!==!1&&d!==c?(n=g([],{}),(d=l["$[]"](2))!==!1&&d!==c&&(d=a.to_ary(l["$[]"](2).$split(".")),o=null==d[0]?c:d[0],p=null==d[1]?c:d[1],f=o["$nil_or_empty?"](),e=f===c||f===!1,(d=e!==!1&&e!==c?m.Table._scope.ALIGNMENTS["$[]"]("h")["$has_key?"](o):e)!==!1&&d!==c&&n["$[]="]("halign",m.Table._scope.ALIGNMENTS["$[]"]("h")["$[]"](o)),f=p["$nil_or_empty?"](),e=f===c||f===!1,(d=e!==!1&&e!==c?m.Table._scope.ALIGNMENTS["$[]"]("v")["$has_key?"](p):e)!==!1&&d!==c&&n["$[]="]("valign",m.Table._scope.ALIGNMENTS["$[]"]("v")["$[]"](p))),n["$[]="]("width",function(){return e=l["$[]"](3)["$nil?"](),(d=e===c||e===!1)!=!1&&d!==c?l["$[]"](3).$to_i():1}()),e=l["$[]"](4),(d=e!==!1&&e!==c?m.Table._scope.TEXT_STYLES["$has_key?"](l["$[]"](4)):e)!==!1&&d!==c&&n["$[]="]("style",m.Table._scope.TEXT_STYLES["$[]"](l["$[]"](4))),q=function(){return e=l["$[]"](1)["$nil?"](),(d=e===c||e===!1)!=!1&&d!==c?l["$[]"](1).$to_i():1}(),(d=(e=1).$upto,d._p=(h=function(){h._s||this;return k["$<<"](n.$dup())},h._s=j,h),d).call(e,q)):c},i._s=j,i),d).call(h),k)}),a.defs(k,"$parse_cell_spec",function(b,d){var e,f,h,i=c,j=c,k=c,l=c,n=c;if(null==d&&(d="start"),i=function(){return d["$=="]("end")?g([],{}):c}(),j=b,(e=k=function(){return d["$=="]("start")?m.CellSpecStartRx:m.CellSpecEndRx}().$match(b))!==!1&&e!==c){if(i=g([],{}),(e=k["$[]"](0)["$empty?"]())!==!1&&e!==c)return[i,b];j=function(){return d["$=="]("start")?k.$post_match():k.$pre_match()}(),(e=k["$[]"](1))!==!1&&e!==c&&(e=a.to_ary(k["$[]"](1).$split(".")),l=null==e[0]?c:e[0],n=null==e[1]?c:e[1],l=function(){return(e=l["$nil_or_empty?"]())!==!1&&e!==c?1:l.$to_i()}(),n=function(){return(e=n["$nil_or_empty?"]())!==!1&&e!==c?1:n.$to_i()}(),k["$[]"](2)["$=="]("+")?(((e=l["$=="](1))===!1||e===c)&&i["$[]="]("colspan",l),((e=n["$=="](1))===!1||e===c)&&i["$[]="]("rowspan",n)):k["$[]"](2)["$=="]("*")&&((e=l["$=="](1))===!1||e===c)&&i["$[]="]("repeatcol",l)),(e=k["$[]"](3))!==!1&&e!==c&&(e=a.to_ary(k["$[]"](3).$split(".")),l=null==e[0]?c:e[0],n=null==e[1]?c:e[1],h=l["$nil_or_empty?"](),f=h===c||h===!1,(e=f!==!1&&f!==c?m.Table._scope.ALIGNMENTS["$[]"]("h")["$has_key?"](l):f)!==!1&&e!==c&&i["$[]="]("halign",m.Table._scope.ALIGNMENTS["$[]"]("h")["$[]"](l)),h=n["$nil_or_empty?"](),f=h===c||h===!1,(e=f!==!1&&f!==c?m.Table._scope.ALIGNMENTS["$[]"]("v")["$has_key?"](n):f)!==!1&&e!==c&&i["$[]="]("valign",m.Table._scope.ALIGNMENTS["$[]"]("v")["$[]"](n))),f=k["$[]"](4),(e=f!==!1&&f!==c?m.Table._scope.TEXT_STYLES["$has_key?"](k["$[]"](4)):f)!==!1&&e!==c&&i["$[]="]("style",m.Table._scope.TEXT_STYLES["$[]"](k["$[]"](4)))}return[i,j]}),a.defs(k,"$parse_style_attribute",function(a,b){var d,e,f,h,i,j,k,l=this,m=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c;return null==b&&(b=c),m=a["$[]"]("style"),n=a["$[]"](1),f=n,(d=(e=f===c||f===!1)!=!1&&e!==c?e:n["$include?"](" "))!==!1&&d!==c?(a["$[]="]("style",n),[n,m]):(o="style",p=[],q=g([],{}),r=(d=(e=l).$lambda,d._p=(h=function(){var a,d,e,f=h._s||this,g=c;return(a=p["$empty?"]())!==!1&&a!==c?(d=o["$=="]("style"),(a=d===c||d===!1)!=!1&&a!==c?f.$warn("asciidoctor: WARNING:"+function(){return(a=b["$nil?"]())!==!1&&a!==c?c:" "+b.$prev_line_info()+":"}()+" invalid empty "+o+" detected in style attribute"):c):(g=o,"role"["$==="](g)||"option"["$==="](g)?(a=o,d=q,(e=d["$[]"](a))!==!1&&e!==c?e:d["$[]="](a,[]),q["$[]"](o).$push(p.$join())):"id"["$==="](g)?((a=q["$has_key?"]("id"))!==!1&&a!==c&&f.$warn("asciidoctor: WARNING:"+function(){return(a=b["$nil?"]())!==!1&&a!==c?c:" "+b.$prev_line_info()+":"}()+" multiple ids detected in style attribute"),q["$[]="](o,p.$join())):q["$[]="](o,p.$join()),p=[])},h._s=l,h),d).call(e),(d=(f=n).$each_char,d._p=(i=function(a){var b,d,e,f=(i._s||this,c);return null==a&&(a=c),(b=(d=(e=a["$=="]("."))!==!1&&e!==c?e:a["$=="]("#"))!==!1&&d!==c?d:a["$=="]("%"))!==!1&&b!==c?(r.$call(),function(){return f=a,"."["$==="](f)?o="role":"#"["$==="](f)?o="id":"%"["$==="](f)?o="option":c}()):p.$push(a)},i._s=l,i),d).call(f),o["$=="]("style")?s=a["$[]="]("style",n):(r.$call(),s=(d=q["$has_key?"]("style"))!==!1&&d!==c?a["$[]="]("style",q["$[]"]("style")):c,(d=q["$has_key?"]("id"))!==!1&&d!==c&&a["$[]="]("id",q["$[]"]("id")),(d=q["$has_key?"]("role"))!==!1&&d!==c&&a["$[]="]("role",q["$[]"]("role")["$*"](" ")),(d=q["$has_key?"]("option"))!==!1&&d!==c&&((d=(j=t=q["$[]"]("option")).$each,d._p=(k=function(b){k._s||this;return null==b&&(b=c),a["$[]="](""+b+"-option","")},k._s=l,k),d).call(j),(d=u=a["$[]"]("options"))!==!1&&d!==c?a["$[]="]("options",t["$+"](u.$split(","))["$*"](",")):a["$[]="]("options",t["$*"](",")))),[s,m])}),a.defs(k,"$reset_block_indent!",function(a,b){var e,f,g,i,j,k,l,n=this,o=c,p=c,q=c,r=c,s=c;return null==b&&(b=0),g=b,(e=(f=g===c||g===!1)!=!1&&f!==c?f:a["$empty?"]())!==!1&&e!==c?c:(o=!1,p="    ",q=(e=(f=a).$map,e._p=(i=function(a){var b,e=(i._s||this,c),f=c;return null==a&&(a=c),(b=a.$chr().$lstrip()["$empty?"]())===!1||b===c?(d.$v=[],d):((b=a["$include?"](m.TAB))!==!1&&b!==c&&(o=!0,a=a.$gsub(m.TAB_PATTERN,p)),(b=(e=a.$lstrip())["$empty?"]())!==!1&&b!==c?c:(f=a.$length()["$-"](e.$length()))["$=="](0)?(d.$v=[],d):f)},i._s=n,i),e).call(f),((e=(g=q["$empty?"]())!==!1&&g!==c?g:(q=q.$compact())["$empty?"]())===!1||e===c)&&(r=q.$min())["$>"](0)&&(e=(g=a)["$map!"],e._p=(j=function(a){j._s||this;return null==a&&(a=c),o!==!1&&o!==c&&(a=a.$gsub(m.TAB_PATTERN,p)),a["$[]"](h(r,-1,!1)).$to_s()},j._s=n,j),e).call(g),b["$>"](0)&&(s=" "["$*"](b),(e=(k=a)["$map!"],e._p=(l=function(a){l._s||this;return null==a&&(a=c),""+s+a},l._s=n,l),e).call(k)),c)}),a.defs(k,"$sanitize_attribute_name",function(a){return a.$gsub(m.InvalidAttributeNameCharsRx,"").$downcase()}),a.defs(k,"$roman_numeral_to_int",function(a){var b,d,e,f=this,i=c,j=c;return a=a.$downcase(),i=g(["i","v","x"],{i:1,v:5,x:10}),j=0,(b=(d=h(0,a.$length()["$-"](1),!1)).$each,b._p=(e=function(b){var d,f,g=(e._s||this,c);return null==b&&(b=c),g=i["$[]"](a["$[]"](h(b,b,!1))),j=(d=(f=b["$+"](1)["$<"](a.$length()))?i["$[]"](a["$[]"](h(b["$+"](1),b["$+"](1),!1)))["$>"](g):f)!==!1&&d!==c?j["$-"](g):j["$+"](g)},e._s=f,e),b).call(d),j}),c}(j,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2,g=a.range,h=a.gvars;return function(b){{var i=d(b,"Asciidoctor");i._proto,i._scope}!function(b,d){function i(){}var j=i=e(b,d,"PathResolver",i),k=i._proto,l=i._scope;return k.file_separator=k._partition_path_web=k._partition_path_sys=k.working_dir=c,a.cdecl(l,"DOT","."),a.cdecl(l,"DOT_DOT",".."),a.cdecl(l,"DOT_SLASH","./"),a.cdecl(l,"SLASH","/"),a.cdecl(l,"BACKSLASH","\\"),a.cdecl(l,"DOUBLE_SLASH","//"),a.cdecl(l,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/),j.$attr_accessor("file_separator"),j.$attr_accessor("working_dir"),k.$initialize=function(b,d){var e,g,h=this;return null==b&&(b=c),null==d&&(d=c),h.file_separator=function(){return b!==!1&&b!==c?b:(e=(null==(g=a.Object._scope.File)?a.cm("File"):g)._scope.ALT_SEPARATOR)!==!1&&e!==c?e:(null==(g=a.Object._scope.File)?a.cm("File"):g)._scope.SEPARATOR}(),h.working_dir=d!==!1&&d!==c?function(){return(e=h["$is_root?"](d))!==!1&&e!==c?d:(null==(e=a.Object._scope.File)?a.cm("File"):e).$expand_path(d)}():(null==(e=a.Object._scope.File)?a.cm("File"):e).$expand_path((null==(e=a.Object._scope.Dir)?a.cm("Dir"):e).$pwd()),h._partition_path_sys=f([],{}),h._partition_path_web=f([],{})},k["$is_root?"]=function(a){var b,d,e=this;return(b=a["$start_with?"](l.SLASH))!==!1&&b!==c?!0:(b=(d=e.file_separator["$=="](l.BACKSLASH))?l.WindowsRootRx["$=~"](a):d)!==!1&&b!==c?!0:!1},k["$is_unc?"]=function(a){return a["$start_with?"](l.DOUBLE_SLASH)},k["$is_web_root?"]=function(a){return a["$start_with?"](l.SLASH)},k.$posixfy=function(a){var b;return(b=a["$nil_or_empty?"]())!==!1&&b!==c?"":(b=a["$include?"](l.BACKSLASH))!==!1&&b!==c?a.$tr(l.BACKSLASH,l.SLASH):a},k.$expand_path=function(b){var d,e=this,f=c,g=c,h=c;return d=a.to_ary(e.$partition_path(b)),f=null==d[0]?c:d[0],g=null==d[1]?c:d[1],h=null==d[2]?c:d[2],e.$join_path(f,g)},k.$partition_path=function(a,b){var d,e=this,f=c,h=c,i=c,j=c;return null==b&&(b=!1),(d=f=function(){return b!==!1&&b!==c?e._partition_path_web["$[]"](a):e._partition_path_sys["$[]"](a)}())!==!1&&d!==c?f:(h=e.$posixfy(a),i=function(){return b!==!1&&b!==c?(d=e["$is_web_root?"](h))!==!1&&d!==c?l.SLASH:(d=h["$start_with?"](l.DOT_SLASH))!==!1&&d!==c?l.DOT_SLASH:c:(d=e["$is_root?"](h))!==!1&&d!==c?(d=e["$is_unc?"](h))!==!1&&d!==c?l.DOUBLE_SLASH:(d=h["$start_with?"](l.SLASH))!==!1&&d!==c?l.SLASH:h["$[]"](g(0,h.$index(l.SLASH),!1)):(d=h["$start_with?"](l.DOT_SLASH))!==!1&&d!==c?l.DOT_SLASH:c}(),j=h.$split(l.SLASH),i["$=="](l.DOUBLE_SLASH)?j=j["$[]"](g(2,-1,!1)):i!==!1&&i!==c&&j.$shift(),j.$delete(l.DOT),function(){return b!==!1&&b!==c?e._partition_path_web:e._partition_path_sys}()["$[]="](a,[j,i,h]))},k.$join_path=function(a,b){return null==b&&(b=c),b!==!1&&b!==c?""+b+a["$*"](l.SLASH):a["$*"](l.SLASH)},k.$system_path=function(b,d,e,g){var h,i,j,k,m=this,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c;if(null==e&&(e=c),null==g&&(g=f([],{})),n=g.$fetch("recover",!0),e!==!1&&e!==c&&(((h=m["$is_root?"](e))===!1||h===c)&&m.$raise(null==(h=a.Object._scope.SecurityError)?a.cm("SecurityError"):h,"Jail is not an absolute path: "+e),e=m.$posixfy(e)),(h=b["$nil_or_empty?"]())!==!1&&h!==c?o=[]:(h=a.to_ary(m.$partition_path(b)),o=null==h[0]?c:h[0],p=null==h[1]?c:h[1],q=null==h[2]?c:h[2]),(h=o["$empty?"]())!==!1&&h!==c){if((h=d["$nil_or_empty?"]())!==!1&&h!==c)return function(){return e!==!1&&e!==c?e:m.working_dir}();if((h=m["$is_root?"](d))===!1||h===c)return m.$system_path(d,e,e);if((h=e)===!1||h===c)return m.$expand_path(d)}return(h=(i=p!==!1&&p!==c)?(j=p["$=="](l.DOT_SLASH),j===c||j===!1):i)!==!1&&h!==c&&(r=m.$join_path(o,p),j=e,(h=(i=j===c||j===!1)!=!1&&i!==c?i:r["$start_with?"](e))!==!1&&h!==c)?r:(d=(h=d["$nil_or_empty?"]())!==!1&&h!==c?function(){return e!==!1&&e!==c?e:m.working_dir}():(h=m["$is_root?"](d))!==!1&&h!==c?m.$posixfy(d):m.$system_path(d,e,e),e["$=="](d)?(h=a.to_ary(m.$partition_path(e)),s=null==h[0]?c:h[0],t=null==h[1]?c:h[1],q=null==h[2]?c:h[2],u=s.$dup()):e!==!1&&e!==c?(((h=d["$start_with?"](e))===!1||h===c)&&m.$raise(null==(h=a.Object._scope.SecurityError)?a.cm("SecurityError"):h,""+((h=g["$[]"]("target_name"))!==!1&&h!==c?h:"Start path")+" "+d+" is outside of jail: "+e+" (disallowed in safe mode)"),h=a.to_ary(m.$partition_path(d)),u=null==h[0]?c:h[0],v=null==h[1]?c:h[1],q=null==h[2]?c:h[2],h=a.to_ary(m.$partition_path(e)),s=null==h[0]?c:h[0],t=null==h[1]?c:h[1],q=null==h[2]?c:h[2]):(h=a.to_ary(m.$partition_path(d)),u=null==h[0]?c:h[0],v=null==h[1]?c:h[1],q=null==h[2]?c:h[2],t=v),w=u.$dup(),x=!1,(h=(i=o).$each,h._p=(k=function(d){var f,h,i=k._s||this;return null==d&&(d=c),d["$=="](l.DOT_DOT)?e!==!1&&e!==c?w.$length()["$>"](s.$length())?w.$pop():(h=n,(f=h===c||h===!1)!=!1&&f!==c?i.$raise(null==(f=a.Object._scope.SecurityError)?a.cm("SecurityError"):f,""+((f=g["$[]"]("target_name"))!==!1&&f!==c?f:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)"):(h=x,(f=h===c||h===!1)!=!1&&f!==c?(i.$warn("asciidoctor: WARNING: "+((f=g["$[]"]("target_name"))!==!1&&f!==c?f:"path")+" has illegal reference to ancestor of jail, auto-recovering"),x=!0):c)):w.$pop():w.$push(d)},k._s=m,k),h).call(i),m.$join_path(w,t))},k.$web_path=function(b,d){var e,f,i,j=this,k=c,m=c,n=c,o=c,p=c;return null==d&&(d=c),b=j.$posixfy(b),d=j.$posixfy(d),k=c,((e=(f=d["$nil_or_empty?"]())!==!1&&f!==c?f:j["$is_web_root?"](b))===!1||e===c)&&(b=""+d+l.SLASH+b,f=b["$include?"](":"),(e=f!==!1&&f!==c?l.UriSniffRx["$=~"](b):f)!==!1&&e!==c&&(k=h["~"]["$[]"](0),b=b["$[]"](g(k.$length(),-1,!1)))),e=a.to_ary(j.$partition_path(b,!0)),m=null==e[0]?c:e[0],n=null==e[1]?c:e[1],o=null==e[2]?c:e[2],p=[],(e=(f=m).$each,e._p=(i=function(a){{var b,d,e;i._s||this}return null==a&&(a=c),a["$=="](l.DOT_DOT)?(b=p["$empty?"]())!==!1&&b!==c?(b=(d=n!==!1&&n!==c)?(e=n["$=="](l.DOT_SLASH),e===c||e===!1):d)!==!1&&b!==c?c:p["$<<"](a):p["$[]"](-1)["$=="](l.DOT_DOT)?p["$<<"](a):p.$pop():p["$<<"](a)},i._s=j,i),e).call(f),k!==!1&&k!==c?""+k+j.$join_path(p,n):j.$join_path(p,n)},k.$relative_path=function(a,b){var d,e,f=this,h=c;return e=f["$is_root?"](a),(d=e!==!1&&e!==c?f["$is_root?"](b):e)!==!1&&d!==c?(h=b.$chomp(f.file_separator).$length()["$+"](1),a["$[]"](g(h,-1,!1))):a},c}(i,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.klass,h=a.hash2,i=a.range;return function(b){var j=f(b,"Asciidoctor"),k=(j._proto,j._scope);!function(b,e){function f(){}var j,k=f=g(b,e,"Reader",f),l=f._proto,m=f._scope;return l.file=l.dir=l.lines=l.process_lines=l.look_ahead=l.eof=l.unescape_next_line=l.lineno=l.path=l.source_lines=c,function(b,d){function e(){}{var f=e=g(b,d,"Cursor",e),h=e._proto;e._scope}return f.$attr_accessor("file"),f.$attr_accessor("dir"),f.$attr_accessor("path"),f.$attr_accessor("lineno"),h.$initialize=function(a,b,d,e){var f=this;return null==b&&(b=c),null==d&&(d=c),null==e&&(e=c),f.file=a,f.dir=b,f.path=d,f.lineno=e},h.$line_info=function(){var a=this;return""+a.$path()+": line "+a.$lineno()},a.defn(f,"$to_s",h.$line_info)}(k,null),k.$attr_reader("file"),k.$attr_reader("dir"),k.$attr_reader("path"),k.$attr_reader("lineno"),k.$attr_reader("source_lines"),k.$attr_accessor("process_lines"),l.$initialize=function(b,d,e){var f,g,i=this;return null==b&&(b=c),null==d&&(d=c),null==e&&(e=h(["normalize"],{normalize:!1})),g=d,(f=g===c||g===!1)!=!1&&f!==c?(i.file=i.dir=c,i.path="<stdin>",i.lineno=1):(f=d["$is_a?"](null==(g=a.Object._scope.String)?a.cm("String"):g))!==!1&&f!==c?(i.file=d,i.dir=(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(i.file),i.path=(null==(f=a.Object._scope.File)?a.cm("File"):f).$basename(i.file),i.lineno=1):(i.file=d.$file(),i.dir=d.$dir(),i.path=(f=d.$path())!==!1&&f!==c?f:"<stdin>",(f=i.file)!==!1&&f!==c&&(((f=i.dir)===!1||f===c)&&(i.dir=(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(i.file),i.dir["$=="](".")&&(i.dir=c)),((f=d.$path())===!1||f===c)&&(i.path=(null==(f=a.Object._scope.File)?a.cm("File"):f).$basename(i.file))),i.lineno=(f=d.$lineno())!==!1&&f!==c?f:1),i.lines=function(){return b!==!1&&b!==c?i.$prepare_lines(b,e):[]}(),i.source_lines=i.lines.$dup(),i.eof=i.lines["$empty?"](),i.look_ahead=0,i.process_lines=!0,i.unescape_next_line=!1},l.$prepare_lines=function(b,d){var e,f;return null==d&&(d=h([],{})),(e=b["$is_a?"](null==(f=a.Object._scope.String)?a.cm("String"):f))!==!1&&e!==c?(e=d["$[]"]("normalize"))!==!1&&e!==c?m.Helpers.$normalize_lines_from_string(b):b.$split(m.EOL):(e=d["$[]"]("normalize"))!==!1&&e!==c?m.Helpers.$normalize_lines_array(b):b.$dup()},l.$process_line=function(a){var b,d=this;return(b=d.process_lines)!==!1&&b!==c&&(d.look_ahead=d.look_ahead["$+"](1)),a},l["$has_more_lines?"]=function(){var a,b,d=this;return a=(b=d.eof)!==!1&&b!==c?b:d.eof=d.$peek_line()["$nil?"](),a===c||a===!1},l["$next_line_empty?"]=function(){var a=this;return a.$peek_line()["$nil_or_empty?"]()},l.$peek_line=function(a){var b,d,e=this,f=c;return null==a&&(a=!1),(b=(d=a)!==!1&&d!==c?d:e.look_ahead["$>"](0))!==!1&&b!==c?(b=e.unescape_next_line)!==!1&&b!==c?e.lines["$[]"](0)["$[]"](i(1,-1,!1)):e.lines["$[]"](0):(b=(d=e.eof)!==!1&&d!==c?d:e.lines["$empty?"]())!==!1&&b!==c?(e.eof=!0,e.look_ahead=0,c):(d=f=e.$process_line(e.lines["$[]"](0)),(b=d===c||d===!1)!=!1&&b!==c?e.$peek_line():f)},l.$peek_lines=function(a,b){var e,f,g,h,i,j=this,k=c,l=c;return null==a&&(a=1),null==b&&(b=!0),k=j.look_ahead,l=[],(e=(f=a).$times,e._p=(g=function(){var a,e=g._s||this,f=c;return(a=f=e.$read_line(b))!==!1&&a!==c?l["$<<"](f):(d.$v=c,d)},g._s=j,g),e).call(f),((e=l["$empty?"]())===!1||e===c)&&((e=(h=l).$reverse_each,e._p=(i=function(a){var b=i._s||this;return null==a&&(a=c),b.$unshift(a)},i._s=j,i),e).call(h),b!==!1&&b!==c&&(j.look_ahead=k)),l},l.$read_line=function(a){var b,d,e,f=this;return null==a&&(a=!1),(b=(d=(e=a)!==!1&&e!==c?e:f.look_ahead["$>"](0))!==!1&&d!==c?d:f["$has_more_lines?"]())!==!1&&b!==c?f.$shift():c},l.$read_lines=function(){var a,b=this,d=c;for(d=[];(a=b["$has_more_lines?"]())!==!1&&a!==c;)d["$<<"](b.$shift());return d},a.defn(k,"$readlines",l.$read_lines),l.$read=function(){var a=this;return a.$read_lines()["$*"](m.EOL)},l.$advance=function(a){var b,d,e=this;return null==a&&(a=!0),d=e.$read_line(a),b=d===c||d===!1,b===c||b===!1},l.$unshift_line=function(a){var b=this;return b.$unshift(a),c},a.defn(k,"$restore_line",l.$unshift_line),l.$unshift_lines=function(a){var b,d,e,f=this;return(b=(d=a).$reverse_each,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$unshift(a)},e._s=f,e),b).call(d),c},a.defn(k,"$restore_lines",l.$unshift_lines),l.$replace_line=function(a){var b=this;return b.$advance(),b.$unshift(a),c},l.$skip_blank_lines=function(){var a,b,d=this,e=c,f=c;if((a=d["$eof?"]())!==!1&&a!==c)return 0;for(e=0;(b=f=d.$peek_line())!==!1&&b!==c;){if((b=f["$empty?"]())===!1||b===c)return e;d.$advance(),e=e["$+"](1)}return e},l.$skip_comment_lines=function(a){var b,d,e,f,g=this,i=c,j=c,k=c,l=c,n=c;if(null==a&&(a=h([],{})),(b=g["$eof?"]())!==!1&&b!==c)return[];for(i=[],j=a["$[]"]("include_blank_lines");(d=k=g.$peek_line())!==!1&&d!==c;)if((d=(e=j!==!1&&j!==c)?k["$empty?"]():e)!==!1&&d!==c)i["$<<"](g.$shift());else if(e=l=k["$start_with?"]("//"),(d=e!==!1&&e!==c?n=m.CommentBlockRx.$match(k):e)!==!1&&d!==c)i["$<<"](g.$shift()),(d=i).$push.apply(d,[].concat(g.$read_lines_until(h(["terminator","read_last_line","skip_processing"],{terminator:n["$[]"](0),read_last_line:!0,skip_processing:!0}))));else{if((e=(f=l!==!1&&l!==c)?m.CommentLineRx["$=~"](k):f)===!1||e===c)break;i["$<<"](g.$shift())}return i},l.$skip_line_comments=function(){var a,b,d=this,e=c,f=c;if((a=d["$eof?"]())!==!1&&a!==c)return[];for(e=[];(b=f=d.$peek_line())!==!1&&b!==c&&(b=m.CommentLineRx["$=~"](f))!==!1&&b!==c;)e["$<<"](d.$shift());return e},l.$terminate=function(){var a=this;return a.lineno=a.lineno["$+"](a.lines.$size()),a.lines.$clear(),a.eof=!0,a.look_ahead=0,c},l["$eof?"]=function(){var a,b=this;return a=b["$has_more_lines?"](),a===c||a===!1},a.defn(k,"$empty?",l["$eof?"]),l.$read_lines_until=j=function(b){var e,f,g,i,k,l=this,n=j._p,o=n||c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c;for(null==b&&(b=h([],{})),j._p=null,p=[],(e=b["$[]"]("skip_first_line"))!==!1&&e!==c&&l.$advance(),f=l.process_lines,(e=f!==!1&&f!==c?b["$[]"]("skip_processing"):f)!==!1&&e!==c?(l.process_lines=!1,q=!0):q=!1,(e=r=b["$[]"]("terminator"))!==!1&&e!==c?(s=!1,t=!1):(s=b["$[]"]("break_on_blank_lines"),t=b["$[]"]("break_on_list_continuation")),u=b["$[]"]("skip_line_comments"),v=!1,w=!1,x=!1;i=x,g=i===c||i===!1,(f=g!==!1&&g!==c?y=l.$read_line():g)!==!1&&f!==c;)x=function(){for(;(g=!0)!=!1&&g!==c;)return(g=(i=r!==!1&&r!==c)?y["$=="](r):i)!==!1&&g!==c?!0:(g=(i=s!==!1&&s!==c)?y["$empty?"]():i)!==!1&&g!==c?!0:(i=(k=t!==!1&&t!==c)?v:k,(g=i!==!1&&i!==c?y["$=="](m.LIST_CONTINUATION):i)!==!1&&g!==c?(b["$[]="]("preserve_last_line",!0),!0):(g=(i=o!==c)?(k=a.$yield1(o,y))===d?d.$v:k:i)!==!1&&g!==c?!0:!1);return c}(),x!==!1&&x!==c?((f=b["$[]"]("read_last_line"))!==!1&&f!==c&&(p["$<<"](y),v=!0),(f=b["$[]"]("preserve_last_line"))!==!1&&f!==c&&(l.$restore_line(y),w=!0)):(g=(i=u!==!1&&u!==c)?y["$start_with?"]("//"):i,((f=g!==!1&&g!==c?m.CommentLineRx["$=~"](y):g)===!1||f===c)&&(p["$<<"](y),v=!0));return q!==!1&&q!==c&&(l.process_lines=!0,(e=(f=w!==!1&&w!==c)?(g=r,g===c||g===!1):f)!==!1&&e!==c&&(l.look_ahead=l.look_ahead["$-"](1))),p},l.$shift=function(){var a,b=this;return b.lineno=b.lineno["$+"](1),((a=b.look_ahead["$=="](0))===!1||a===c)&&(b.look_ahead=b.look_ahead["$-"](1)),b.lines.$shift()},l.$unshift=function(a){var b=this;return b.lineno=b.lineno["$-"](1),b.look_ahead=b.look_ahead["$+"](1),b.eof=!1,b.lines.$unshift(a)},l.$cursor=function(){var a=this;return m.Cursor.$new(a.file,a.dir,a.path,a.lineno)},l.$line_info=function(){var a=this;return""+a.path+": line "+a.lineno},a.defn(k,"$next_line_info",l.$line_info),l.$prev_line_info=function(){var a=this;return""+a.path+": line "+a.lineno["$-"](1)},l.$lines=function(){var a=this;return a.lines.$dup()},l.$string=function(){var a=this;return a.lines["$*"](m.EOL)},l.$source=function(){var a=this;return a.source_lines["$*"](m.EOL)},l.$to_s=function(){var a=this;return a.$line_info()},c}(j,null),function(b,f){function j(){}var k,l,m,n,o=j=g(b,f,"PreprocessorReader",j),p=j._proto,q=j._scope;return p.document=p.lineno=p.process_lines=p.look_ahead=p.skipping=p.include_stack=p.conditional_stack=p.path=p.include_processor_extensions=p.maxdepth=p.dir=p.lines=p.file=p.includes=p.unescape_next_line=c,o.$attr_reader("include_stack"),o.$attr_reader("includes"),p.$initialize=k=function(b,d,e){var f,g,i,j=this,l=(k._p,c);return null==d&&(d=c),null==e&&(e=c),k._p=null,j.document=b,a.find_super_dispatcher(j,"initialize",k,null).apply(j,[d,e,h(["normalize"],{normalize:!0})]),l=b.$attributes().$fetch("max-include-depth",64).$to_i(),l["$<"](0)&&(l=0),j.maxdepth=h(["abs","rel"],{abs:l,rel:l}),j.include_stack=[],j.includes=(f="includes",g=b.$references(),(i=g["$[]"](f))!==!1&&i!==c?i:g["$[]="](f,[])),j.skipping=!1,j.conditional_stack=[],j.include_processor_extensions=c},p.$prepare_lines=l=function(b,d){var f,g,i,j=e.call(arguments,0),k=this,m=l._p,n=c,o=c,p=c,r=c,s=c;if(null==d&&(d=h([],{})),l._p=null,n=a.find_super_dispatcher(k,"prepare_lines",l,m).apply(k,j),g=k.document,(f=g!==!1&&g!==c?k.document.$attributes()["$has_key?"]("skip-front-matter"):g)!==!1&&f!==c&&(f=o=k["$skip_front_matter!"](n))!==!1&&f!==c&&k.document.$attributes()["$[]="]("front-matter",o["$*"](q.EOL)),(f=d.$fetch("condense",!0))!==!1&&f!==c){for(;i=p=n["$[]"](0),(g=i!==!1&&i!==c?p["$empty?"]():i)!==!1&&g!==c;)g=n.$shift(),g!==!1&&g!==c?k.lineno=k.lineno["$+"](1):g;for(;i=r=n["$[]"](-1),(g=i!==!1&&i!==c?r["$empty?"]():i)!==!1&&g!==c;)n.$pop()}return(f=s=d.$fetch("indent",c))!==!1&&f!==c&&q.Parser["$reset_block_indent!"](n,s.$to_i()),n},p.$process_line=function(a){var b,d,e,f,g=this,h=c,j=c;return(b=g.process_lines)===!1||b===c?a:(b=a["$empty?"]())!==!1&&b!==c?(g.look_ahead=g.look_ahead["$+"](1),""):(e=a["$end_with?"]("]"),d=e!==!1&&e!==c?(f=a["$start_with?"]("["),f===c||f===!1):e,(b=d!==!1&&d!==c?a["$include?"]("::"):d)!==!1&&b!==c?(d=a["$include?"]("if"),(b=d!==!1&&d!==c?h=q.ConditionalDirectiveRx.$match(a):d)!==!1&&b!==c?(b=a["$start_with?"]("\\"))!==!1&&b!==c?(g.unescape_next_line=!0,g.look_ahead=g.look_ahead["$+"](1),a["$[]"](i(1,-1,!1))):(b=(d=g).$preprocess_conditional_inclusion.apply(d,[].concat(h.$captures())))!==!1&&b!==c?(g.$advance(),c):(g.look_ahead=g.look_ahead["$+"](1),a):(b=g.skipping)!==!1&&b!==c?(g.$advance(),c):(e=(f=j=a["$start_with?"]("\\include::"))!==!1&&f!==c?f:a["$start_with?"]("include::"),(b=e!==!1&&e!==c?h=q.IncludeDirectiveRx.$match(a):e)!==!1&&b!==c?j!==!1&&j!==c?(g.unescape_next_line=!0,g.look_ahead=g.look_ahead["$+"](1),a["$[]"](i(1,-1,!1))):(b=g.$preprocess_include(h["$[]"](1),h["$[]"](2).$strip()))!==!1&&b!==c?c:(g.look_ahead=g.look_ahead["$+"](1),a):(g.look_ahead=g.look_ahead["$+"](1),a))):(b=g.skipping)!==!1&&b!==c?(g.$advance(),c):(g.look_ahead=g.look_ahead["$+"](1),a))},p.$peek_line=m=function(b){var d,f=e.call(arguments,0),g=this,h=m._p,i=c;return null==b&&(b=!1),m._p=null,(d=i=a.find_super_dispatcher(g,"peek_line",m,h).apply(g,f))!==!1&&d!==c?i:(d=g.include_stack["$empty?"]())!==!1&&d!==c?c:(g.$pop_include(),g.$peek_line(b))},p.$preprocess_conditional_inclusion=function(a,b,d,e){var f,g,i,j,k,l,m,n,o,p,r,s=this,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c,B=c;if(i=(j=a["$=="]("ifdef"))!==!1&&j!==c?j:a["$=="]("ifndef"),(f=(g=i!==!1&&i!==c?b["$empty?"]():i)!==!1&&g!==c?g:(i=a["$=="]("endif"))?e:i)!==!1&&f!==c)return!1;if(b=b.$downcase(),a["$=="]("endif"))return t=s.conditional_stack.$size(),t["$>"](0)?(u=s.conditional_stack["$[]"](-1),(f=(g=b["$empty?"]())!==!1&&g!==c?g:b["$=="](u["$[]"]("target")))!==!1&&f!==c?(s.conditional_stack.$pop(),s.skipping=function(){return(f=s.conditional_stack["$empty?"]())!==!1&&f!==c?!1:s.conditional_stack["$[]"](-1)["$[]"]("skipping")}()):s.$warn("asciidoctor: ERROR: "+s.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+u["$[]"]("target")+"[]")):s.$warn("asciidoctor: ERROR: "+s.$line_info()+": unmatched macro: endif::"+b+"[]"),!0;if(v=!1,(f=s.skipping)===!1||f===c)if(w=a,"ifdef"["$==="](w))w=d,c["$==="](w)?(f=s.document.$attributes()["$has_key?"](b),v=f===c||f===!1):","["$==="](w)?(f=(g=(i=b.$split(",")).$detect,g._p=(k=function(a){var b=k._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),b.document.$attributes()["$has_key?"](a)},k._s=s,k),g).call(i),v=f===c||f===!1):"+"["$==="](w)&&(v=(f=(g=b.$split("+")).$detect,f._p=(l=function(a){var b,d=l._s||this;return null==d.document&&(d.document=c),null==a&&(a=c),b=d.document.$attributes()["$has_key?"](a),b===c||b===!1},l._s=s,l),f).call(g));else if("ifndef"["$==="](w))w=d,c["$==="](w)?v=s.document.$attributes()["$has_key?"](b):","["$==="](w)?(f=(j=(m=b.$split(",")).$detect,j._p=(n=function(a){var b,d=n._s||this;return null==d.document&&(d.document=c),null==a&&(a=c),b=d.document.$attributes()["$has_key?"](a),b===c||b===!1},n._s=s,n),j).call(m),v=f===c||f===!1):"+"["$==="](w)&&(v=(f=(j=b.$split("+")).$detect,f._p=(o=function(a){var b=o._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),b.document.$attributes()["$has_key?"](a)},o._s=s,o),f).call(j));else if("ifeval"["$==="](w)){if(r=b["$empty?"](),(f=(p=r===c||r===!1)!=!1&&p!==c?p:(r=x=q.EvalExpressionRx.$match(e.$strip()),r===c||r===!1))!==!1&&f!==c)return!1;y=s.$resolve_expr_val(x["$[]"](1)),z=x["$[]"](2),A=s.$resolve_expr_val(x["$[]"](3)),f=y.$send(z.$to_sym(),A),v=f===c||f===!1}if((f=(p=a["$=="]("ifeval"))!==!1&&p!==c?p:(r=e,r===c||r===!1))!==!1&&f!==c)v!==!1&&v!==c&&(s.skipping=!0),s.conditional_stack["$<<"](h(["target","skip","skipping"],{target:b,skip:v,skipping:s.skipping}));else if((f=(p=s.skipping)!==!1&&p!==c?p:v)===!1||f===c)return B=s.$peek_line(!0),s.$replace_line(e.$rstrip()),s.$unshift(B),!0;return!0},p.$preprocess_include=function(b,e){var f,g,i,j,k,l,m,n,o,p,r,s=this,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c,B=c,C=c,D=c,E=c,F=c,G=c,H=c;if((f=(t=s.document.$sub_attributes(b,h(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())!==!1&&f!==c)return s.document.$attributes().$fetch("attribute-missing",q.Compliance.$attribute_missing())["$=="]("skip")?(s.$replace_line("Unresolved directive in "+s.path+" - include::"+b+"["+e+"]"),!0):(s.$advance(),!0);if(g=s["$include_processors?"](),(f=g!==!1&&g!==c?u=(i=(j=s.include_processor_extensions).$find,i._p=(k=function(a){k._s||this;return null==a&&(a=c),a.$instance()["$handles?"](t)},k._s=s,k),i).call(j):g)!==!1&&f!==c)return s.$advance(),u.$process_method()["$[]"](s,t,q.AttributeList.$new(e).$parse()),!0;if(s.document.$safe()["$>="](q.SafeMode._scope.SECURE))return s.$replace_line("link:"+t+"[]"),!0;if((f=(g=(v=s.maxdepth["$[]"]("abs"))["$>"](0))?s.include_stack.$size()["$>="](v):g)!==!1&&f!==c)return s.$warn("asciidoctor: ERROR: "+s.$line_info()+": maximum include depth of "+s.maxdepth["$[]"]("rel")+" exceeded"),!1;if(v["$>"](0)){if((f=null==(g=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):g)!==!1&&f!==c)w="file",x=y=function(){return(f=s.include_stack["$empty?"]())!==!1&&f!==c?t:q.File.$join(s.dir,t)}();else if(g=t["$include?"](":"),(f=g!==!1&&g!==c?q.UriSniffRx["$=~"](t):g)!==!1&&f!==c){if((f=s.document.$attributes()["$has_key?"]("allow-uri-read"))===!1||f===c)return s.$replace_line("link:"+t+"[]"),!0;w="uri",x=y=t,(f=s.document.$attributes()["$has_key?"]("cache-uri"))!==!1&&f!==c?q.Helpers.$require_library("open-uri/cached","open-uri-cached"):(g=null==(i=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):i,(f=g===c||g===!1)!=!1&&f!==c&&(null==(f=a.Object._scope.OpenURI)?a.cm("OpenURI"):f))}else{if(w="file",x=s.document.$normalize_system_path(t,s.dir,c,h(["target_name"],{target_name:"include file"})),(f=(null==(g=a.Object._scope.File)?a.cm("File"):g)["$file?"](x))===!1||f===c)return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include file not found: "+x),s.$replace_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]"),!0;y=q.PathResolver.$new().$relative_path(x,s.document.$base_dir())}if(z=c,A=c,B=h([],{}),g=e["$empty?"](),(f=g===c||g===!1)!=!1&&f!==c&&(B=q.AttributeList.$new(e).$parse(),(f=B["$has_key?"]("lines"))!==!1&&f!==c?(z=[],(f=(g=B["$[]"]("lines").$split(q.DataDelimiterRx)).$each,f._p=(l=function(b){var d,e,f,g=(l._s||this,c),h=c;return null==b&&(b=c),(d=b["$include?"](".."))!==!1&&d!==c?(d=a.to_ary((e=(f=b.$split("..")).$map,e._p="to_i".$to_proc(),e).call(f)),g=null==d[0]?c:d[0],h=null==d[1]?c:d[1],h["$=="](-1)?(z["$<<"](g),z["$<<"](1["$/"](0))):z.$concat((null==(d=a.Object._scope.Range)?a.cm("Range"):d).$new(g,h).$to_a())):z["$<<"](b.$to_i())},l._s=s,l),f).call(g),z=z.$sort().$uniq()):(f=B["$has_key?"]("tag"))!==!1&&f!==c?A=[B["$[]"]("tag")].$to_set():(f=B["$has_key?"]("tags"))!==!1&&f!==c&&(A=B["$[]"]("tags").$split(q.DataDelimiterRx).$uniq().$to_set())),i=z["$nil?"](),(f=i===c||i===!1)!=!1&&f!==c){if(i=z["$empty?"](),(f=i===c||i===!1)!=!1&&f!==c){C=[],D=0,E=0;try{(f=(i=s).$open,f._p=(m=function(b){var e,f,g,h=m._s||this;return null==b&&(b=c),(e=(f=b).$each_line,e._p=(g=function(e){var f,h,i,j=(g._s||this,c);return null==e&&(e=c),E=E["$+"](1),j=z["$[]"](0),h=j["$is_a?"](null==(i=a.Object._scope.Float)?a.cm("Float"):i),(f=h!==!1&&h!==c?j["$infinite?"]():h)!==!1&&f!==c?(C.$push(e),D["$=="](0)?D=E:c):(b.$lineno()["$=="](j)&&(C.$push(e),D["$=="](0)&&(D=E),z.$shift()),(f=z["$empty?"]())!==!1&&f!==c?(d.$v=c,d):c)},g._s=h,g),e).call(f)},m._s=s,m),f).call(i,x,"r")}catch(I){return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include "+w+" not readable: "+x),s.$replace_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]"),!0}s.$advance(),s.$push_include(C,x,y,D,B)}}else if(n=A["$nil?"](),(f=n===c||n===!1)!=!1&&f!==c){if(n=A["$empty?"](),(f=n===c||n===!1)!=!1&&f!==c){C=[],D=0,E=0,F=c,G=(null==(f=a.Object._scope.Set)?a.cm("Set"):f).$new();try{(f=(n=s).$open,f._p=(o=function(b){var e,f,g,h=o._s||this;return null==b&&(b=c),(e=(f=b).$each_line,e._p=(g=function(b){var e,f,h,i=g._s||this;return null==b&&(b=c),E=E["$+"](1),(e=q.FORCE_ENCODING)!==!1&&e!==c&&b.$force_encoding((null==(e=a.Object._scope.Encoding)?a.cm("Encoding"):e)._scope.UTF_8),f=F["$nil?"](),(e=f===c||f===!1)!=!1&&e!==c?(e=b["$include?"]("end::"+F+"[]"))!==!1&&e!==c?F=c:(C.$push(b),D["$=="](0)?D=E:c):(e=(f=A).$each,e._p=(h=function(a){{var e;h._s||this}return null==a&&(a=c),(e=b["$include?"]("tag::"+a+"[]"))!==!1&&e!==c?(F=a,G["$<<"](a),d.$v=c,d):c},h._s=i,h),e).call(f)},g._s=h,g),e).call(f)},o._s=s,o),f).call(n,x,"r")}catch(I){return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include "+w+" not readable: "+x),s.$replace_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]"),!0
}((f=(H=A.$to_a()["$-"](G.$to_a()))["$empty?"]())===!1||f===c)&&s.$warn("asciidoctor: WARNING: "+s.$line_info()+": tag"+function(){return H.$size()["$>"](1)?"s":c}()+" '"+H["$*"](",")+"' not found in include "+w+": "+x),s.$advance(),s.$push_include(C,x,y,D,B)}}else try{s.$advance(),s.$push_include((f=(p=s).$open,f._p=(r=function(a){r._s||this;return null==a&&(a=c),a.$read()},r._s=s,r),f).call(p,x,"r"),x,y,1,B)}catch(I){return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include "+w+" not readable: "+x),s.$replace_line("Unresolved directive in "+s.path+" - include::"+t+"["+e+"]"),!0}return!0}return!1},p.$push_include=function(b,d,e,f,g){var i,j=this,k=c;return null==d&&(d=c),null==e&&(e=c),null==f&&(f=1),null==g&&(g=h([],{})),j.include_stack["$<<"]([j.lines,j.file,j.dir,j.path,j.lineno,j.maxdepth,j.process_lines]),d!==!1&&d!==c?(j.file=d,j.dir=q.File.$dirname(d),j.process_lines=q.ASCIIDOC_EXTENSIONS["$[]"]((null==(i=a.Object._scope.File)?a.cm("File"):i).$extname(d))):(j.file=c,j.dir=".",j.process_lines=!0),j.path=function(){return e!==!1&&e!==c?(j.includes["$<<"](q.Helpers.$rootname(e)),e):"<stdin>"}(),j.lineno=f,(i=g["$has_key?"]("depth"))!==!1&&i!==c&&(k=g["$[]"]("depth").$to_i(),k["$<="](0)&&(k=1),j.maxdepth=h(["abs","rel"],{abs:j.include_stack.$size()["$-"](1)["$+"](k),rel:k})),j.lines=j.$prepare_lines(b,h(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:g["$[]"]("indent")})),(i=j.lines["$empty?"]())!==!1&&i!==c?j.$pop_include():(j.eof=!1,j.look_ahead=0),c},p.$pop_include=function(){var b,d=this;return d.include_stack.$size()["$>"](0)&&(b=a.to_ary(d.include_stack.$pop()),d.lines=null==b[0]?c:b[0],d.file=null==b[1]?c:b[1],d.dir=null==b[2]?c:b[2],d.path=null==b[3]?c:b[3],d.lineno=null==b[4]?c:b[4],d.maxdepth=null==b[5]?c:b[5],d.process_lines=null==b[6]?c:b[6],d.eof=d.lines["$empty?"](),d.look_ahead=0),c},p.$include_depth=function(){var a=this;return a.include_stack.$size()},p["$exceeded_max_depth?"]=function(){var a,b,d=this,e=c;return(a=(b=(e=d.maxdepth["$[]"]("abs"))["$>"](0))?d.include_stack.$size()["$>="](e):b)!==!1&&a!==c?d.maxdepth["$[]"]("rel"):!1},p.$shift=n=function(){var b,d=e.call(arguments,0),f=this,g=n._p;return n._p=null,(b=f.unescape_next_line)!==!1&&b!==c?(f.unescape_next_line=!1,a.find_super_dispatcher(f,"shift",n,g).apply(f,d)["$[]"](i(1,-1,!1))):a.find_super_dispatcher(f,"shift",n,g).apply(f,d)},p["$skip_front_matter!"]=function(a,b){var d,e,f,g,h=this,i=c,j=c;if(null==b&&(b=!0),i=c,a["$[]"](0)["$=="]("---")){for(j=a.$dup(),i=[],a.$shift(),b!==!1&&b!==c&&(h.lineno=h.lineno["$+"](1));g=a["$empty?"](),f=g===c||g===!1,(e=f!==!1&&f!==c?(g=a["$[]"](0)["$=="]("---"),g===c||g===!1):f)!==!1&&e!==c;)i.$push(a.$shift()),b!==!1&&b!==c&&(h.lineno=h.lineno["$+"](1));(d=a["$empty?"]())!==!1&&d!==c?((d=a).$unshift.apply(d,[].concat(j)),b!==!1&&b!==c&&(h.lineno=0),i=c):(a.$shift(),b!==!1&&b!==c&&(h.lineno=h.lineno["$+"](1)))}return i},p.$resolve_expr_val=function(a){var b,d,e,f=this,g=c,h=c;return g=a,h=c,e=g["$start_with?"]('"'),(b=(d=e!==!1&&e!==c?g["$end_with?"]('"'):e)!==!1&&d!==c?d:(e=g["$start_with?"]("'"),e!==!1&&e!==c?g["$end_with?"]("'"):e))!==!1&&b!==c&&(h="string",g=g["$[]"](i(1,-1,!0))),(b=g["$include?"]("{"))!==!1&&b!==c&&(g=f.document.$sub_attributes(g)),((b=h["$=="]("string"))===!1||b===c)&&(g=(b=g["$empty?"]())!==!1&&b!==c?c:(b=g.$strip()["$empty?"]())!==!1&&b!==c?" ":g["$=="]("true")?!0:g["$=="]("false")?!1:(b=g["$include?"]("."))!==!1&&b!==c?g.$to_f():g.$to_i()),g},p["$include_processors?"]=function(){var a,b,d=this;return b=d.include_processor_extensions,(a=b===c||b===!1)!=!1&&a!==c?(b=d.document["$extensions?"](),(a=b!==!1&&b!==c?d.document.$extensions()["$include_processors?"]():b)!==!1&&a!==c?(d.include_processor_extensions=d.document.$extensions().$include_processors(),!0):(d.include_processor_extensions=!1,!1)):(a=d.include_processor_extensions["$=="](!1),a===c||a===!1)},p.$to_s=function(){var a,b,d,e=this;return"#<"+e.$class()+"@"+e.$object_id()+" {path: "+e.path.$inspect()+", line #: "+e.lineno+", include depth: "+e.include_stack.$size()+", include stack: ["+(a=(b=e.include_stack).$map,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$to_s()},d._s=e,d),a).call(b).$join(", ")+"]}>"},c}(j,k.Reader)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.range;return function(b){var h=e(b,"Asciidoctor"),i=(h._proto,h._scope);!function(b,e){function h(){}var i,j,k,l=h=f(b,e,"Section",h),m=h._proto,n=h._scope;return m.level=m.document=m.parent=m.number=m.title=m.numbered=m.blocks=c,l.$attr_accessor("index"),l.$attr_accessor("number"),l.$attr_accessor("sectname"),l.$attr_accessor("special"),l.$attr_accessor("numbered"),m.$initialize=i=function(b,d,e){{var f,g,h=this;i._p}return null==b&&(b=c),null==d&&(d=c),null==e&&(e=!0),i._p=null,a.find_super_dispatcher(h,"initialize",i,null).apply(h,[b,"section"]),(f=d["$nil?"]())!==!1&&f!==c?b!==!1&&b!==c?h.level=b.$level()["$+"](1):(f=h.level["$nil?"]())!==!1&&f!==c&&(h.level=1):h.level=d,h.numbered=(f=e!==!1&&e!==c)?h.level["$>"](0):f,h.special=(f=(g=b!==!1&&b!==c)?b.$context()["$=="]("section"):g,f!==!1&&f!==c?b.$special():f),h.index=0,h.number=1},a.defn(l,"$name",m.$title),m.$generate_id=function(){var a,b,d=this,e=c,f=c,h=c,i=c,j=c;if((a=d.document.$attributes()["$has_key?"]("sectids"))!==!1&&a!==c){if(e=(a=d.document.$attributes()["$[]"]("idseparator"))!==!1&&a!==c?a:"_",f=(a=d.document.$attributes()["$[]"]("idprefix"))!==!1&&a!==c?a:"_",h=""+f+d.$title().$downcase().$gsub(n.InvalidSectionIdCharsRx,e).$tr_s(e,e).$chomp(e),b=f["$empty?"](),(a=b!==!1&&b!==c?h["$start_with?"](e):b)!==!1&&a!==c)for(h=h["$[]"](g(1,-1,!1));(b=h["$start_with?"](e))!==!1&&b!==c;)h=h["$[]"](g(1,-1,!1));for(i=h,j=2;(b=d.document.$references()["$[]"]("ids")["$has_key?"](i))!==!1&&b!==c;)i=""+h+e+j,j=j["$+"](1);return i}return c},m.$sectnum=function(a,b){var d,e,f,g,h=this;return null==a&&(a="."),null==b&&(b=c),(d=b)!==!1&&d!==c?d:b=function(){return b["$=="](!1)?"":a}(),g=h.level,f=g!==!1&&g!==c?h.level["$>"](1):g,e=f!==!1&&f!==c?h.parent:f,(d=e!==!1&&e!==c?h.parent.$context()["$=="]("section"):e)!==!1&&d!==c?""+h.parent.$sectnum(a)+h.number+b:""+h.number+b},m["$<<"]=j=function(b){var e=d.call(arguments,0),f=this,g=j._p;return j._p=null,a.find_super_dispatcher(f,"<<",j,g).apply(f,e),b.$context()["$=="]("section")?f.$assign_index(b):c},m.$to_s=k=function(){var b,e,f=d.call(arguments,0),g=this,h=k._p,i=c;return k._p=null,e=g.title["$=="](c),(b=e===c||e===!1)!=!1&&b!==c?(i=function(){return(b=g.numbered)!==!1&&b!==c?""+g.$sectnum()+" "+g.title:g.title}(),"#<"+g.$class()+"@"+g.$object_id()+" {level: "+g.level+", title: "+i.$inspect()+", blocks: "+g.blocks.$size()+"}>"):a.find_super_dispatcher(g,"to_s",k,h).apply(g,f)},c}(h,i.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b,d){function g(){}var h,i=g=e(b,d,"Stylesheets",g),j=g._proto,k=g._scope;return j.primary_stylesheet_data=j.coderay_stylesheet_data=j.pygments_stylesheet_data=c,a.cdecl(k,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),a.cdecl(k,"DEFAULT_PYGMENTS_STYLE","pastie"),a.cdecl(k,"STYLESHEETS_DATA_PATH",(null==(h=a.Object._scope.File)?a.cm("File"):h).$join(k.DATA_PATH,"stylesheets")),i.__instance__=i.$new(),a.defs(i,"$instance",function(){var a=this;return null==a.__instance__&&(a.__instance__=c),a.__instance__}),j.$primary_stylesheet_name=function(){return k.DEFAULT_STYLESHEET_NAME},j.$primary_stylesheet_data=function(){var b,d,e=this;return(b=e.primary_stylesheet_data)!==!1&&b!==c?b:e.primary_stylesheet_data=(null==(d=a.Object._scope.IO)?a.cm("IO"):d).$read((null==(d=a.Object._scope.File)?a.cm("File"):d).$join(k.STYLESHEETS_DATA_PATH,"asciidoctor-default.css")).$chomp()},j.$embed_primary_stylesheet=function(){var a=this;return"<style>\n"+a.$primary_stylesheet_data()+"\n</style>"},j.$write_primary_stylesheet=function(b){var d,e,f,g,h=this;return(d=(e=null==(g=a.Object._scope.File)?a.cm("File"):g).$open,d._p=(f=function(a){var b=f._s||this;return null==a&&(a=c),a.$write(b.$primary_stylesheet_data())},f._s=h,f),d).call(e,(null==(g=a.Object._scope.File)?a.cm("File"):g).$join(b,h.$primary_stylesheet_name()),"w")},j.$coderay_stylesheet_name=function(){return"coderay-asciidoctor.css"},j.$coderay_stylesheet_data=function(){var b,d,e=this;return(b=e.coderay_stylesheet_data)!==!1&&b!==c?b:e.coderay_stylesheet_data=(null==(d=a.Object._scope.IO)?a.cm("IO"):d).$read((null==(d=a.Object._scope.File)?a.cm("File"):d).$join(k.STYLESHEETS_DATA_PATH,"coderay-asciidoctor.css")).$chomp()},j.$embed_coderay_stylesheet=function(){var a=this;return"<style>\n"+a.$coderay_stylesheet_data()+"\n</style>"},j.$write_coderay_stylesheet=function(b){var d,e,f,g,h=this;return(d=(e=null==(g=a.Object._scope.File)?a.cm("File"):g).$open,d._p=(f=function(a){var b=f._s||this;return null==a&&(a=c),a.$write(b.$coderay_stylesheet_data())},f._s=h,f),d).call(e,(null==(g=a.Object._scope.File)?a.cm("File"):g).$join(b,h.$coderay_stylesheet_name()),"w")},j.$pygments_stylesheet_name=function(a){var b;return null==a&&(a=c),(b=a)!==!1&&b!==c?b:a=k.DEFAULT_PYGMENTS_STYLE,"pygments-"+a+".css"},j.$pygments_stylesheet_data=function(a){var b,d=this;return null==a&&(a=c),(b=a)!==!1&&b!==c?b:a=k.DEFAULT_PYGMENTS_STYLE,(b=d.pygments_stylesheet_data)!==!1&&b!==c?b:d.pygments_stylesheet_data=d.$load_pygments()},j.$embed_pygments_stylesheet=function(a){var b=this;return null==a&&(a=c),"<style>\n"+b.$pygments_stylesheet_data(a)+"\n</style>"},j.$write_pygments_stylesheet=function(b,d){var e,f,g,h,i=this;return null==d&&(d=c),(e=(f=null==(h=a.Object._scope.File)?a.cm("File"):h).$open,e._p=(g=function(a){var b=g._s||this;return null==a&&(a=c),a.$write(b.$pygments_stylesheet_data(d))},g._s=i,g),e).call(f,(null==(h=a.Object._scope.File)?a.cm("File"):h).$join(b,i.$pygments_stylesheet_name(d)),"w")},j.$load_pygments=function(){var b;return((b=null==a.Object._scope.Pygments?c:"constant")===!1||b===c)&&k.Helpers.$require_library("pygments","pygments.rb"),f([],{})},c}(g,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.hash2,h=a.range;return function(b){var i=e(b,"Asciidoctor"),j=(i._proto,i._scope);!function(b,d){function e(){}var h,i=e=f(b,d,"Table",e),j=e._proto,k=e._scope;return j.attributes=j.document=j.has_header_option=j.rows=c,function(b,c){function d(){}{var e=d=f(b,c,"Rows",d),g=d._proto;d._scope}return e.$attr_accessor("head","foot","body"),g.$initialize=function(a,b,c){var d=this;return null==a&&(a=[]),null==b&&(b=[]),null==c&&(c=[]),d.head=a,d.foot=b,d.body=c},a.defn(e,"$[]",g.$send)}(i,null),a.cdecl(k,"DEFAULT_DATA_FORMAT","psv"),a.cdecl(k,"DATA_FORMATS",["psv","dsv","csv"]),a.cdecl(k,"DEFAULT_DELIMITERS",g(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),a.cdecl(k,"TEXT_STYLES",g(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),a.cdecl(k,"ALIGNMENTS",g(["h","v"],{h:g(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:g(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),i.$attr_accessor("columns"),i.$attr_accessor("rows"),i.$attr_accessor("has_header_option"),j.$initialize=h=function(b,d){var e,f,g,i,j=this,l=(h._p,c),m=c;return h._p=null,a.find_super_dispatcher(j,"initialize",h,null).apply(j,[b,"table"]),j.rows=k.Rows.$new(),j.columns=[],j.has_header_option=d["$has_key?"]("header-option"),l=d["$[]"]("width"),m=l.$to_i().$abs(),(e=(f=(g=m["$=="](0))?(i=l["$=="]("0"),i===c||i===!1):g)!==!1&&f!==c?f:m["$>"](100))!==!1&&e!==c&&(m=100),j.attributes["$[]="]("tablepcwidth",m),(e=j.document.$attributes()["$has_key?"]("pagewidth"))!==!1&&e!==c?(e="tableabswidth",f=j.attributes,(g=f["$[]"](e))!==!1&&g!==c?g:f["$[]="](e,j.attributes["$[]"]("tablepcwidth").$to_f()["$/"](100)["$*"](j.document.$attributes()["$[]"]("pagewidth")).$round())):c},j["$header_row?"]=function(){var a,b=this;return a=b.has_header_option,a!==!1&&a!==c?b.rows.$body()["$empty?"]():a},j.$create_columns=function(a){var b,d,e,f,g,h=this,i=c,j=c,l=c;return i=0,j=[],(b=(d=a).$each,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),i=i["$+"](a["$[]"]("width")),j["$<<"](k.Column.$new(b,j.$size(),a))},e._s=h,e),b).call(d),((b=j["$empty?"]())===!1||b===c)&&(h.attributes["$[]="]("colcount",j.$size()),l=100["$/"](j.$size()).$floor(),(b=(f=j).$each,b._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$assign_width(i,l)},g._s=h,g),b).call(f)),h.columns=j,c},j.$partition_header_footer=function(a){var b,d,e,f,g=this,h=c,i=c;return g.attributes["$[]="]("rowcount",g.rows.$body().$size()),h=g.rows.$body().$size(),(b=(d=h["$>"](0))?g.has_header_option:d)!==!1&&b!==c&&(i=g.rows.$body().$shift(),h=h["$-"](1),(b=(d=i).$each,b._p=(e=function(a){e._s||this;return null==a&&(a=c),a["$style="](c)},e._s=g,e),b).call(d),g.rows["$head="]([i])),(b=(f=h["$>"](0))?a["$has_key?"]("footer-option"):f)!==!1&&b!==c&&g.rows["$foot="]([g.rows.$body().$pop()]),c},c}(i,j.AbstractBlock),function(b,d){function e(){}{var h,i=e=f(b,d,"Column",e),j=e._proto;e._scope}return j.attributes=c,i.$attr_accessor("style"),j.$initialize=h=function(b,d,e){{var f,i,j,k=this;h._p}return null==e&&(e=g([],{})),h._p=null,a.find_super_dispatcher(k,"initialize",h,null).apply(k,[b,"column"]),k.style=e["$[]"]("style"),e["$[]="]("colnumber",d["$+"](1)),f="width",i=e,(j=i["$[]"](f))!==!1&&j!==c?j:i["$[]="](f,1),f="halign",i=e,(j=i["$[]"](f))!==!1&&j!==c?j:i["$[]="](f,"left"),f="valign",i=e,(j=i["$[]"](f))!==!1&&j!==c?j:i["$[]="](f,"top"),k.$update_attributes(e)},a.defn(i,"$table",j.$parent),j.$assign_width=function(a,b){var d,e=this,f=c;return f=a["$>"](0)?e.attributes["$[]"]("width").$to_f()["$/"](a)["$*"](100).$floor():b,e.attributes["$[]="]("colpcwidth",f),(d=e.$parent().$attributes()["$has_key?"]("tableabswidth"))!==!1&&d!==c&&e.attributes["$[]="]("colabswidth",f.$to_f()["$/"](100)["$*"](e.$parent().$attributes()["$[]"]("tableabswidth")).$round()),c},c}(j.Table,j.AbstractNode),function(b,e){function h(){}var i,j,k=h=f(b,e,"Cell",h),l=h._proto,m=h._scope;return l.style=l.document=l.text=l.inner_document=l.colspan=l.rowspan=l.attributes=c,k.$attr_accessor("style"),k.$attr_accessor("colspan"),k.$attr_accessor("rowspan"),a.defn(k,"$column",l.$parent),k.$attr_reader("inner_document"),l.$initialize=i=function(b,d,e,f){var h,j,k,l=this,n=(i._p,c),o=c,p=c,q=c;return null==e&&(e=g([],{})),null==f&&(f=c),i._p=null,a.find_super_dispatcher(l,"initialize",i,null).apply(l,[b,"cell"]),l.text=d,l.style=c,l.colspan=c,l.rowspan=c,b!==!1&&b!==c&&(l.style=b.$attributes()["$[]"]("style"),l.$update_attributes(b.$attributes())),e!==!1&&e!==c&&(l.colspan=e.$delete("colspan"),l.rowspan=e.$delete("rowspan"),(h=e["$has_key?"]("style"))!==!1&&h!==c&&(l.style=e["$[]"]("style")),l.$update_attributes(e)),(h=(j=l.style["$=="]("asciidoc"))?(k=b.$table()["$header_row?"](),k===c||k===!1):j)!==!1&&h!==c?(n=l.document.$attributes().$delete("doctitle"),o=l.text.$split(m.EOL),((h=(j=o["$empty?"]())!==!1&&j!==c?j:(k=o["$[]"](0)["$include?"]("::"),k===c||k===!1))===!1||h===c)&&(p=o["$[]"](0),q=m.PreprocessorReader.$new(l.document,p).$readlines(),j=q["$=="](p),(h=j===c||j===!1)!=!1&&h!==c&&(o.$shift(),(h=o).$unshift.apply(h,[].concat(q)))),l.inner_document=m.Document.$new(o,g(["header_footer","parent","cursor"],{header_footer:!1,parent:l.document,cursor:f})),(j=n["$nil?"]())!==!1&&j!==c?c:l.document.$attributes()["$[]="]("doctitle",n)):c},l.$text=function(){var a=this;return a.$apply_normal_subs(a.text).$strip()},l.$content=function(){var a,b,d,e=this;return e.style["$=="]("asciidoc")?e.inner_document.$convert():(a=(b=e.$text().$split(m.BlankLineRx)).$map,a._p=(d=function(a){var b,e,f,h=d._s||this;return null==h.style&&(h.style=c),null==a&&(a=c),f=h.style,(b=(e=f===c||f===!1)!=!1&&e!==c?e:h.style["$=="]("header"))!==!1&&b!==c?a:m.Inline.$new(h.$parent(),"quoted",a,g(["type"],{type:h.style})).$convert()},d._s=e,d),a).call(b)},l.$to_s=j=function(){var b,e=d.call(arguments,0),f=this,g=j._p;return j._p=null,""+a.find_super_dispatcher(f,"to_s",j,g).apply(f,e).$to_s()+" - [text: "+f.text+", colspan: "+((b=f.colspan)!==!1&&b!==c?b:1)+", rowspan: "+((b=f.rowspan)!==!1&&b!==c?b:1)+", attributes: "+f.attributes+"]"},c}(j.Table,j.AbstractNode),function(a,b){function d(){}var e=d=f(a,b,"ParserContext",d),i=d._proto,j=d._scope;return i.format=i.delimiter=i.delimiter_re=i.buffer=i.cell_specs=i.cell_open=i.last_cursor=i.table=i.current_row=i.col_count=i.col_visits=i.active_rowspans=i.linenum=c,e.$attr_accessor("table"),e.$attr_accessor("format"),e.$attr_reader("col_count"),e.$attr_accessor("buffer"),e.$attr_reader("delimiter"),e.$attr_reader("delimiter_re"),i.$initialize=function(a,b,d){var e,f,h,i,k=this;return null==d&&(d=g([],{})),k.reader=a,k.table=b,k.last_cursor=a.$cursor(),(e=k.format=d["$[]"]("format"))!==!1&&e!==c?((e=j.Table._scope.DATA_FORMATS["$include?"](k.format))===!1||e===c)&&k.$raise("Illegal table format: "+k.format):k.format=j.Table._scope.DEFAULT_DATA_FORMAT,f=(h=k.format["$=="]("psv"))?(i=d["$has_key?"]("separator"),i===c||i===!1):h,k.delimiter=(e=f!==!1&&f!==c?b.$document()["$nested?"]():f)!==!1&&e!==c?"!":(e=d["$[]"]("separator"))!==!1&&e!==c?e:j.Table._scope.DEFAULT_DELIMITERS["$[]"](k.format),k.delimiter_re=new RegExp(""+j.Regexp.$escape(k.delimiter)),k.col_count=function(){return(e=b.$columns()["$empty?"]())!==!1&&e!==c?-1:b.$columns().$size()}(),k.buffer="",k.cell_specs=[],k.cell_open=!1,k.active_rowspans=[0],k.col_visits=0,k.current_row=[],k.linenum=-1},i["$starts_with_delimiter?"]=function(a){var b=this;return a["$start_with?"](b.delimiter)},i.$match_delimiter=function(a){var b=this;return b.delimiter_re.$match(a)},i.$skip_matched_delimiter=function(a,b){var d=this;return null==b&&(b=!1),d.buffer=""+d.buffer+function(){return b!==!1&&b!==c?a.$pre_match().$chop():a.$pre_match()}()+d.delimiter,a.$post_match()},i["$buffer_has_unclosed_quotes?"]=function(a){var b,d,e,f=this,g=c;return null==a&&(a=c),g=(""+f.buffer+a).$strip(),d=g["$start_with?"]('"'),b=d!==!1&&d!==c?(e=g["$start_with?"]('""'),e===c||e===!1):d,b!==!1&&b!==c?(d=g["$end_with?"]('"'),d===c||d===!1):b},i["$buffer_quoted?"]=function(){var a,b,d=this;return d.buffer=d.buffer.$lstrip(),a=d.buffer["$start_with?"]('"'),a!==!1&&a!==c?(b=d.buffer["$start_with?"]('""'),b===c||b===!1):a},i.$take_cell_spec=function(){var a=this;return a.cell_specs.$shift()},i.$push_cell_spec=function(a){var b,d=this;return null==a&&(a=g([],{})),d.cell_specs["$<<"]((b=a)!==!1&&b!==c?b:g([],{})),c},i.$keep_cell_open=function(){var a=this;return a.cell_open=!0,c},i.$mark_cell_closed=function(){var a=this;return a.cell_open=!1,c},i["$cell_open?"]=function(){var a=this;return a.cell_open},i["$cell_closed?"]=function(){var a,b=this;return a=b.cell_open,a===c||a===!1},i.$close_open_cell=function(a){var b,d=this;return null==a&&(a=g([],{})),d.$push_cell_spec(a),(b=d["$cell_open?"]())!==!1&&b!==c&&d.$close_cell(!0),d.$advance(),c},i.$close_cell=function(a){var b,d,e,f,i=this,k=c,l=c,m=c;return null==a&&(a=!1),k=i.buffer.$strip(),i.buffer="",i.format["$=="]("psv")?(l=i.$take_cell_spec(),(b=l["$nil?"]())!==!1&&b!==c?(i.$warn("asciidoctor: ERROR: "+i.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),l=g([],{}),m=1):(m=l.$fetch("repeatcol",1),l.$delete("repeatcol"))):(l=c,m=1,i.format["$=="]("csv")&&(e=k["$empty?"](),d=e===c||e===!1,(b=d!==!1&&d!==c?k["$include?"]('"'):d)!==!1&&b!==c&&(d=k["$start_with?"]('"'),(b=d!==!1&&d!==c?k["$end_with?"]('"'):d)!==!1&&b!==c&&(k=k["$[]"](h(1,-1,!0)).$strip()),k=k.$tr_s('"','"')))),(b=(d=1).$upto,b._p=(f=function(b){var d,e,g,h,i,n=f._s||this,o=c,p=c;return null==n.col_count&&(n.col_count=c),null==n.table&&(n.table=c),null==n.current_row&&(n.current_row=c),null==n.last_cursor&&(n.last_cursor=c),null==n.reader&&(n.reader=c),null==n.col_visits&&(n.col_visits=c),null==n.linenum&&(n.linenum=c),null==b&&(b=c),n.col_count["$=="](-1)?(n.table.$columns()["$<<"](j.Table._scope.Column.$new(n.table,n.current_row.$size()["$+"](b)["$-"](1))),o=n.table.$columns()["$[]"](-1)):o=n.table.$columns()["$[]"](n.current_row.$size()),p=j.Table._scope.Cell.$new(o,k,l,n.last_cursor),n.last_cursor=n.reader.$cursor(),g=p.$rowspan(),((d=(e=g===c||g===!1)!=!1&&e!==c?e:p.$rowspan()["$=="](1))===!1||d===c)&&n.$activate_rowspan(p.$rowspan(),(d=p.$colspan())!==!1&&d!==c?d:1),n.col_visits=n.col_visits["$+"]((d=p.$colspan())!==!1&&d!==c?d:1),n.current_row["$<<"](p),e=n["$end_of_row?"](),(d=e!==!1&&e!==c?(i=n.col_count["$=="](-1),(g=(h=i===c||i===!1)!=!1&&h!==c?h:n.linenum["$>"](0))!==!1&&g!==c?g:(h=a!==!1&&a!==c)?b["$=="](m):h):e)!==!1&&d!==c?n.$close_row():c},f._s=i,f),b).call(d,m),i.open_cell=!1,c},i.$close_row=function(){var a,b,d,e=this;return e.table.$rows().$body()["$<<"](e.current_row),e.col_count["$=="](-1)&&(e.col_count=e.col_visits),e.col_visits=0,e.current_row=[],e.active_rowspans.$shift(),a=0,b=e.active_rowspans,(d=b["$[]"](a))!==!1&&d!==c?d:b["$[]="](a,0),c},i.$activate_rowspan=function(a,b){var d,e,f,g=this;return(d=(e=1..$upto(a["$-"](1))).$each,d._p=(f=function(a){var d,e=f._s||this;return null==e.active_rowspans&&(e.active_rowspans=c),null==a&&(a=c),e.active_rowspans["$[]="](a,((d=e.active_rowspans["$[]"](a))!==!1&&d!==c?d:0)["$+"](b))},f._s=g,f),d).call(e),c},i["$end_of_row?"]=function(){var a,b=this;return(a=b.col_count["$=="](-1))!==!1&&a!==c?a:b.$effective_col_visits()["$=="](b.col_count)},i.$effective_col_visits=function(){var a=this;return a.col_visits["$+"](a.active_rowspans["$[]"](0))},i.$advance=function(){var a=this;return a.linenum=a.linenum["$+"](1)},c}(j.Table,null)}(b)}(Opal),function(a){var b,c=a.top,d=a,e=a.nil,f=(a.breaker,a.slice,a.gvars),g=a.module,h=a.hash2,i=a.range;return((b=null!=d.RUBY_ENGINE)==!1||b===e)&&a.cdecl(d,"RUBY_ENGINE","unknown"),a.cdecl(d,"RUBY_ENGINE_OPAL",d.RUBY_ENGINE["$=="]("opal")),a.cdecl(d,"RUBY_ENGINE_JRUBY",d.RUBY_ENGINE["$=="]("jruby")),a.cdecl(d,"RUBY_MIN_VERSION_1_9",d.RUBY_VERSION["$>="]("1.9")),(b=d.RUBY_ENGINE_OPAL)!==!1&&b!==e,f[":"].$unshift(d.File.$dirname("asciidoctor")),function(b){var c,d,f,j,k=g(b,"Asciidoctor"),l=(k._proto,k._scope);(c=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)===!1||c===e,function(b){var c=g(b,"SafeMode"),d=(c._proto,c._scope);a.cdecl(d,"UNSAFE",0),a.cdecl(d,"SAFE",1),a.cdecl(d,"SERVER",10),a.cdecl(d,"SECURE",20)}(k),function(b){{var c=g(b,"Compliance");c._proto,c._scope}c.keys=[].$to_set(),function(a){a._scope,a._proto;return a.$attr("keys")}(c.$singleton_class()),a.defs(c,"$define",function(b,c){var d,f,g=this;return null==g.keys&&(g.keys=e),(d=(f=b["$=="]("keys"))!==!1&&f!==e?f:g["$respond_to?"](b))!==!1&&d!==e&&g.$raise(null==(d=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):d,"Illegal key name: "+b),g.$instance_variable_set("@"+b,c),function(a){a._scope,a._proto;return a}(g.$singleton_class()).$send("attr_accessor",b),g.keys["$<<"](b)}),c.$define("block_terminates_paragraph",!0),c.$define("strict_verbatim_paragraphs",!0),c.$define("underline_style_section_titles",!0),c.$define("unwrap_standalone_preamble",!0),c.$define("attribute_missing","skip"),c.$define("attribute_undefined","drop-line"),c.$define("markdown_syntax",!0)}(k),a.cdecl(l,"ROOT_PATH",(null==(c=a.Object._scope.File)?a.cm("File"):c).$dirname((null==(c=a.Object._scope.File)?a.cm("File"):c).$dirname((null==(c=a.Object._scope.File)?a.cm("File"):c).$expand_path("asciidoctor")))),a.cdecl(l,"LIB_PATH",(null==(c=a.Object._scope.File)?a.cm("File"):c).$join(l.ROOT_PATH,"lib")),a.cdecl(l,"DATA_PATH",(null==(c=a.Object._scope.File)?a.cm("File"):c).$join(l.ROOT_PATH,"data")),a.cdecl(l,"USER_HOME",function(){try{return(null==(c=a.Object._scope.Dir)?a.cm("Dir"):c).$home()}catch(b){return(c=(null==(d=a.Object._scope.ENV)?a.cm("ENV"):d)["$[]"]("HOME"))!==!1&&c!==e?c:(null==(d=a.Object._scope.Dir)?a.cm("Dir"):d).$pwd()}}()),a.cdecl(l,"COERCE_ENCODING",(d=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f,c=d===e||d===!1,c!==!1&&c!==e?null==(d=a.Object._scope.RUBY_MIN_VERSION_1_9)?a.cm("RUBY_MIN_VERSION_1_9"):d:c)),a.cdecl(l,"FORCE_ENCODING",(c=l.COERCE_ENCODING,c!==!1&&c!==e?(d=(null==(f=a.Object._scope.Encoding)?a.cm("Encoding"):f).$default_external()["$=="]((null==(f=a.Object._scope.Encoding)?a.cm("Encoding"):f)._scope.UTF_8),d===e||d===!1):c)),a.cdecl(l,"BOM_BYTES_UTF_8","xefxbbxbf".$bytes().$to_a()),a.cdecl(l,"BOM_BYTES_UTF_16LE","xffxfe".$bytes().$to_a()),a.cdecl(l,"BOM_BYTES_UTF_16BE","xfexff".$bytes().$to_a()),a.cdecl(l,"FORCE_UNICODE_LINE_LENGTH",(c=null==(d=a.Object._scope.RUBY_MIN_VERSION_1_9)?a.cm("RUBY_MIN_VERSION_1_9"):d,c===e||c===!1)),a.cdecl(l,"SUPPORTS_GSUB_RESULT_HASH",(c=null==(d=a.Object._scope.RUBY_MIN_VERSION_1_9)?a.cm("RUBY_MIN_VERSION_1_9"):d,c!==!1&&c!==e?(d=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f,d===e||d===!1):c)),a.cdecl(l,"EOL","\n"),a.cdecl(l,"NULL",function(){return(c=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)!==!1&&c!==e?0..$chr():"0"}()),a.cdecl(l,"TAB","	"),a.cdecl(l,"TAB_PATTERN",/\t/),a.cdecl(l,"DEFAULT_DOCTYPE","article"),a.cdecl(l,"DEFAULT_BACKEND","html5"),a.cdecl(l,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),a.cdecl(l,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),a.cdecl(l,"BACKEND_ALIASES",h(["html","docbook"],{html:"html5",docbook:"docbook5"})),a.cdecl(l,"DEFAULT_PAGE_WIDTHS",h(["docbook"],{docbook:425})),a.cdecl(l,"DEFAULT_EXTENSIONS",h(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"})),a.cdecl(l,"ASCIIDOC_EXTENSIONS",h([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),a.cdecl(l,"SECTION_LEVELS",h(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),a.cdecl(l,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),a.cdecl(l,"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),a.cdecl(l,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),a.cdecl(l,"DELIMITED_BLOCKS",h(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```","~~~"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["math","latexmath","asciimath"].$to_set()],"|===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],",===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],":===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"!===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"////":["comment",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"```":["fenced_code",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"~~~":["fenced_code",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()]})),a.cdecl(l,"DELIMITED_BLOCK_LEADERS",(c=(d=l.DELIMITED_BLOCKS.$keys()).$map,c._p=(j=function(a){j._s||this;return null==a&&(a=e),a["$[]"](i(0,1,!1))},j._s=k,j),c).call(d).$to_set()),a.cdecl(l,"LAYOUT_BREAK_LINES",h(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"})),a.cdecl(l,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),a.cdecl(l,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),a.cdecl(l,"ORDERED_LIST_KEYWORDS",h(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),a.cdecl(l,"LIST_CONTINUATION","+"),a.cdecl(l,"LINE_BREAK"," +"),a.cdecl(l,"BLOCK_MATH_DELIMITERS",h(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),a.cdecl(l,"INLINE_MATH_DELIMITERS",h(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),a.cdecl(l,"FLEXIBLE_ATTRIBUTES",["numbered"]),(c=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f)!==!1&&c!==e?(a.cdecl(l,"CC_ALPHA","a-zA-Z"),a.cdecl(l,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(l,"CC_BLANK","[ \\t]"),a.cdecl(l,"CC_GRAPH","[x21-x7E]"),a.cdecl(l,"CC_EOL","(?=\\n|$)")):(a.cdecl(l,"CC_ALPHA","[:alpha:]"),a.cdecl(l,"CC_ALNUM","[:alnum:]"),a.cdecl(l,"CC_BLANK","[[:blank:]]"),a.cdecl(l,"CC_GRAPH","[[:graph:]]"),a.cdecl(l,"CC_EOL","$")),a.cdecl(l,"AuthorInfoLineRx",/^(\w[\w\-'.]*)(?: +(\w[\w\-'.]*))?(?: +(\w[\w\-'.]*))?(?: +<([^>]+)>)?$/),a.cdecl(l,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/),a.cdecl(l,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/),a.cdecl(l,"ManpageNamePurposeRx",new RegExp("^(.*?)"+l.CC_BLANK+"+-"+l.CC_BLANK+"+(.*)$")),a.cdecl(l,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/),a.cdecl(l,"EvalExpressionRx",new RegExp("^(\\S.*?)"+l.CC_BLANK+"*(==|!=|<=|>=|<|>)"+l.CC_BLANK+"*(\\S.*)$")),a.cdecl(l,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/),a.cdecl(l,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+l.CC_BLANK+"+(.*))?$")),a.cdecl(l,"InvalidAttributeNameCharsRx",/[^\w\-]/),a.cdecl(l,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/),a.cdecl(l,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/),a.cdecl(l,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+l.CC_ALPHA+":_][\\w:.-]*)(?:,"+l.CC_BLANK+"*(\\S.*))?)\\]\\]$")),a.cdecl(l,"BlockAttributeListRx",new RegExp("^\\[(|"+l.CC_BLANK+"*[\\w\\{,.#\"'%].*)\\]$")),a.cdecl(l,"BlockAttributeLineRx",new RegExp("^\\[(|"+l.CC_BLANK+"*[\\w\\{,.#\"'%].*|\\[(?:|["+l.CC_ALPHA+":_][\\w:.-]*(?:,"+l.CC_BLANK+"*\\S.*)?)\\])\\]$")),a.cdecl(l,"BlockTitleRx",/^\.([^\s.].*)$/),a.cdecl(l,"AdmonitionParagraphRx",new RegExp("^("+l.ADMONITION_STYLES.$to_a()["$*"]("|")+"):"+l.CC_BLANK)),a.cdecl(l,"LiteralParagraphRx",new RegExp("^("+l.CC_BLANK+"+.*)$")),a.cdecl(l,"CommentBlockRx",/^\/{4,}$/),a.cdecl(l,"CommentLineRx",/^\/\/(?:[^\/]|$)/),a.cdecl(l,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+l.CC_BLANK+"+(\\S.*?)(?:"+l.CC_BLANK+"+\\1)?$")),a.cdecl(l,"SetextSectionTitleRx",/^((?=.*\w+.*)[^.].*?)$/),a.cdecl(l,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/),a.cdecl(l,"InlineSectionAnchorRx",new RegExp("^(.*?)"+l.CC_BLANK+"+(\\\\)?\\[\\[(["+l.CC_ALPHA+":_][\\w:.-]*)(?:,"+l.CC_BLANK+"*(\\S.*?))?\\]\\]$")),a.cdecl(l,"InvalidSectionIdCharsRx",/&(?:[a-zA-Z]{2,}|#\d{2,5}|#x[a-fA-F0-9]{2,4});|\W+?/),a.cdecl(l,"FloatingTitleStyleRx",/^(?:float|discrete)\b/),a.cdecl(l,"AnyListRx",new RegExp("^(?:<?\\d+>"+l.CC_BLANK+"+"+l.CC_GRAPH+"|"+l.CC_BLANK+"*(?:-|(?:\\*|\\.){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+l.CC_BLANK+"+"+l.CC_GRAPH+"|"+l.CC_BLANK+"*.*?(?::{2,4}|;;)(?:"+l.CC_BLANK+"+"+l.CC_GRAPH+"|$))")),a.cdecl(l,"UnorderedListRx",new RegExp("^"+l.CC_BLANK+"*(-|\\*{1,5})"+l.CC_BLANK+"+(.*)$")),a.cdecl(l,"OrderedListRx",new RegExp("^"+l.CC_BLANK+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+l.CC_BLANK+"+(.*)$")),a.cdecl(l,"OrderedListMarkerRxMap",h(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),a.cdecl(l,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+l.CC_BLANK+"*(.*?)(:{2,4}|;;)(?:"+l.CC_BLANK+"+(.*))?$")),a.cdecl(l,"DefinitionListSiblingRx",h(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+l.CC_BLANK+"*((?:.*[^:])?)(::)(?:"+l.CC_BLANK+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+l.CC_BLANK+"*((?:.*[^:])?)(:::)(?:"+l.CC_BLANK+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+l.CC_BLANK+"*((?:.*[^:])?)(::::)(?:"+l.CC_BLANK+"+(.*))?$"),";;":new RegExp("^(?!\\/\\/)"+l.CC_BLANK+"*(.*)(;;)(?:"+l.CC_BLANK+"+(.*))?$")})),a.cdecl(l,"CalloutListRx",new RegExp("^<?(\\d+)>"+l.CC_BLANK+"+(.*)")),a.cdecl(l,"CalloutConvertRx",new RegExp("(?:(?:\\/\\/|#|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+l.CC_EOL+")")),a.cdecl(l,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+l.CC_EOL+")")),a.cdecl(l,"CalloutScanRx",new RegExp("(?:(?:\\/\\/|#|;;) ?)?(\\\\)?<!?(--|)(\\d+)\\2>(?=(?: ?\\\\?<!?\\2\\d+\\2>)*"+l.CC_EOL+")")),a.cdecl(l,"ListRxMap",h(["ulist","olist","dlist","colist"],{ulist:l.UnorderedListRx,olist:l.OrderedListRx,dlist:l.DefinitionListRx,colist:l.CalloutListRx})),a.cdecl(l,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/),a.cdecl(l,"CellSpecStartRx",new RegExp("^"+l.CC_BLANK+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?\\|")),a.cdecl(l,"CellSpecEndRx",new RegExp(""+l.CC_BLANK+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")),a.cdecl(l,"GenericBlockMacroRx",/^(\w[\w\-]*)::(\S*?)\[((?:\\\]|[^\]])*?)\]$/),a.cdecl(l,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/),a.cdecl(l,"TocBlockMacroRx",/^toc::\[(.*?)\]$/),a.cdecl(l,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+l.CC_ALPHA+":_][\\w:.-]*)(?:,"+l.CC_BLANK+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])")),a.cdecl(l,"InlineBiblioAnchorRx",/\\?\[\[\[([\w:][\w:.-]*?)\]\]\]/),a.cdecl(l,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?\\w[\\w.%+-]*@["+l.CC_ALNUM+"]["+l.CC_ALNUM+".-]*\\.["+l.CC_ALPHA+"]{2,4}\\b")),a.cdecl(l,"FootnoteInlineMacroRx",/\\?(footnote(?:ref)?):\[(.*?[^\\])\]/i),a.cdecl(l,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/),a.cdecl(l,"IndextermInlineMacroRx",/\\?(?:(indexterm2?):\[(.*?[^\\])\]|\(\((.+?)\)\)(?!\)))/i),a.cdecl(l,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/),a.cdecl(l,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+l.CC_BLANK+"*[^\\1])")),a.cdecl(l,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/),a.cdecl(l,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/),a.cdecl(l,"MathInlineMacroRx",/\\?((?:latex|ascii)?math):([a-z,]*)\[(.*?[^\\])\]/i),a.cdecl(l,"MenuInlineMacroRx",new RegExp("\\\\?menu:(\\w|\\w.*?\\S)\\["+l.CC_BLANK+"*(.+?)?\\]")),a.cdecl(l,"MenuInlineRx",new RegExp('\\\\?"(\\w[^"]*?'+l.CC_BLANK+"*&gt;"+l.CC_BLANK+'*[^" \\t][^"]*)"')),a.cdecl(l,"PassInlineLiteralRx",/(^|[^`\w])(?:\[([^\]]+?)\])?(\\?`([^`\s]|[^`\s].*?\S)`)(?![`\w])/i),a.cdecl(l,"PassInlineMacroRx",/\\?(?:(\+{3}|\${2})(.*?)\1|pass:([a-z,]*)\[(.*?[^\\])\])/i),a.cdecl(l,"XrefInlineMacroRx",/\\?(?:&lt;&lt;([\w":].*?)&gt;&gt;|xref:([\w":].*?)\[(.*?)\])/i),a.cdecl(l,"LineBreakRx",function(){return(c=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f)!==!1&&c!==e?/^(.*?)[ \t]\+$/m:/^(.*)[[:blank:]]\+$/
}()),a.cdecl(l,"LayoutBreakLineRx",/^('|<){3,}$/),a.cdecl(l,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/),a.cdecl(l,"BlankLineRx",new RegExp("^"+l.CC_BLANK+"*\\n")),a.cdecl(l,"DataDelimiterRx",/,|;/),a.cdecl(l,"DigitsRx",/^\d+$/),a.cdecl(l,"DoubleQuotedRx",/^("|)(.*)\1$/),a.cdecl(l,"DoubleQuotedMultiRx",/^("|)(.*)\1$/i),a.cdecl(l,"TrailingDigitsRx",/\d+$/),a.cdecl(l,"EscapedSpaceRx",new RegExp("\\\\("+l.CC_BLANK+")")),a.cdecl(l,"SpaceDelimiterRx",new RegExp("([^\\\\])"+l.CC_BLANK+"+")),a.cdecl(l,"UriSniffRx",new RegExp("^["+l.CC_ALPHA+"]["+l.CC_ALNUM+".+-]*:/{0,2}")),a.cdecl(l,"UriTerminator",/[);:]$/),a.cdecl(l,"XmlSanitizeRx",/<[^>]+>/),a.cdecl(l,"INTRINSIC_ATTRIBUTES",h(["startsb","endsb","vbar","caret","asterisk","tilde","plus","apostrophe","backslash","backtick","empty","sp","space","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",apostrophe:"'",backslash:"\\",backtick:"`",empty:"",sp:" ",space:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",amp:"&",lt:"<",gt:">"})),a.cdecl(l,"QUOTE_SUBS",[["strong","unconstrained",/\\?(?:\[([^\]]+?)\])?\*\*(.+?)\*\*/i],["strong","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?\*(\S|\S.*?\S)\*(?=\W|$)/i],["double","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?``(\S|\S.*?\S)''(?=\W|$)/i],["emphasis","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?'(\S|\S.*?\S)'(?=\W|$)/i],["single","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?`(\S|\S.*?\S)'(?=\W|$)/i],["monospaced","unconstrained",/\\?(?:\[([^\]]+?)\])?\+\+(.+?)\+\+/i],["monospaced","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?\+(\S|\S.*?\S)\+(?=\W|$)/i],["emphasis","unconstrained",/\\?(?:\[([^\]]+?)\])?__(.+?)__/i],["emphasis","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?_(\S|\S.*?\S)_(?=\W|$)/i],["none","unconstrained",/\\?(?:\[([^\]]+?)\])?##(.+?)##/i],["none","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?#(\S|\S.*?\S)#(?=\W|$)/i],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(.+?)\^/i],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(.+?)~/i]]),a.cdecl(l,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[/(\w)\\?--(?=\w)/,"&#8212;","leading"],[/\\?\.\.\./,"&#8230;","leading"],[new RegExp("(["+l.CC_ALPHA+"])\\\\?'(?!')"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,"","bounding"]]),function(b){{var c=b._scope;b._proto}return b._proto.$load=function(b,d){var f,g,i,j,k,l,m,n,o=this,p=e,q=e,r=e,s=e,t=e,u=e,v=e,w=e,x=e,y=e,z=e;if(null==d&&(d=h([],{})),d=d.$dup(),(f=p=d["$[]"]("timings"))!==!1&&f!==e&&p.$start("read"),q=d["$[]="]("attributes",function(){return g=r=d["$[]"]("attributes"),(f=g===e||g===!1)!=!1&&f!==e?h([],{}):(f=(g=r["$is_a?"](null==(i=a.Object._scope.Hash)?a.cm("Hash"):i))!==!1&&g!==e?g:(i=null==(j=a.Object._scope.RUBY_ENGINE_JRUBY)?a.cm("RUBY_ENGINE_JRUBY"):j,i!==!1&&i!==e?r["$is_a?"]((null==(j=a.Object._scope.Java)?a.cm("Java"):j)._scope.JavaUtil._scope.Map):i))!==!1&&f!==e?r.$dup():(f=r["$is_a?"](null==(g=a.Object._scope.Array)?a.cm("Array"):g))!==!1&&f!==e?(f=(g=r).$opalInject,f._p=(k=function(b,c){var d,f=(k._s||this,e),g=e;return null==b&&(b=e),null==c&&(c=e),d=a.to_ary(c.$split("=",2)),f=null==d[0]?e:d[0],g=null==d[1]?e:d[1],b["$[]="](f,(d=g)!==!1&&d!==e?d:""),b},k._s=o,k),f).call(g,h([],{})):(f=r["$is_a?"](null==(i=a.Object._scope.String)?a.cm("String"):i))!==!1&&f!==e?(s=function(){return(f=null==(i=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):i)!==!1&&f!==e?"$1":"1"}(),r=r.$gsub(c.SpaceDelimiterRx,""+s+c.NULL).$gsub(c.EscapedSpaceRx,s),(f=(i=r.$split(c.NULL)).$opalInject,f._p=(l=function(b,c){var d,f=(l._s||this,e),g=e;return null==b&&(b=e),null==c&&(c=e),d=a.to_ary(c.$split("=",2)),f=null==d[0]?e:d[0],g=null==d[1]?e:d[1],b["$[]="](f,(d=g)!==!1&&d!==e?d:""),b},l._s=o,l),f).call(i,h([],{}))):(j=r["$respond_to?"]("keys"),(f=j!==!1&&j!==e?r["$respond_to?"]("[]"):j)!==!1&&f!==e?(t=r,r=h([],{}),(f=(j=t.$keys()).$each,f._p=(m=function(a){m._s||this;return null==a&&(a=e),r["$[]="](a,t["$[]"](a))},m._s=o,m),f).call(j),r):o.$raise(null==(f=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):f,"illegal type for attributes option: "+r.$class().$ancestors()))}()),u=e,(f=b["$is_a?"](null==(n=a.Object._scope.File)?a.cm("File"):n))!==!1&&f!==e)u=b.$readlines(),v=b.$mtime(),b=(null==(f=a.Object._scope.File)?a.cm("File"):f).$new((null==(f=a.Object._scope.File)?a.cm("File"):f).$expand_path(b.$path())),w=b.$path(),q["$[]="]("docfile",w),q["$[]="]("docdir",(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(w)),q["$[]="]("docname",(null==(f=a.Object._scope.File)?a.cm("File"):f).$basename(w,(null==(f=a.Object._scope.File)?a.cm("File"):f).$extname(w))),q["$[]="]("docdate",x=v.$strftime("%Y-%m-%d")),q["$[]="]("doctime",y=v.$strftime("%H:%M:%S %Z")),q["$[]="]("docdatetime",""+x+" "+y);else if((f=b["$respond_to?"]("readlines"))!==!1&&f!==e){try{b.$rewind()}catch(A){}u=b.$readlines()}else(f=b["$is_a?"](null==(n=a.Object._scope.String)?a.cm("String"):n))!==!1&&f!==e?u=b.$lines().$entries():(f=b["$is_a?"](null==(n=a.Object._scope.Array)?a.cm("Array"):n))!==!1&&f!==e?u=b.$dup():o.$raise(null==(f=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):f,"Unsupported input type: "+b.$class());return p!==!1&&p!==e&&(p.$record("read"),p.$start("parse")),((f=d["$key?"]("parse"))===!1||f===e)&&d["$[]="]("parse",!0),z=c.Document.$new(u,d),p!==!1&&p!==e&&p.$record("parse"),z},b._proto.$load_file=function(b,c){var d,f=this;return null==c&&(c=h([],{})),f.$load((null==(d=a.Object._scope.File)?a.cm("File"):d).$new((d=b)!==!1&&d!==e?d:""),c)},b._proto.$convert=function(b,d){var f,g,i,j,k,l,m,n=this,o=e,p=e,q=e,r=e,s=e,t=e,u=e,v=e,w=e,x=e,y=e,z=e,A=e,B=e,C=e,D=e,E=e,F=e,G=e,H=e,I=e,J=e,K=e,L=e;return null==d&&(d=h([],{})),d=d.$dup(),o=d.$delete("to_file"),p=d.$delete("to_dir"),q=(f=d.$delete("mkdirs"))!==!1&&f!==e?f:!1,r=d["$[]"]("timings"),s=o,(!0)["$==="](s)||e["$==="](s)?(g=p,f=g===e||g===!1,t=f!==!1&&f!==e?b["$is_a?"](null==(g=a.Object._scope.File)?a.cm("File"):g):f,u=!1,v=p,o=e):(!1)["$==="](s)?(t=!1,u=!1,v=!1,o=e):(t=!1,u=o["$respond_to?"]("write"),v=function(){return u!==!1&&u!==e?!1:o}()),i=d["$key?"]("header_footer"),g=i===e||i===!1,(f=g!==!1&&g!==e?(i=t)!==!1&&i!==e?i:v:g)!==!1&&f!==e&&d["$[]="]("header_footer",!0),w=n.$load(b,d),o["$=="]("/dev/null")?w:(t!==!1&&t!==e?(x=(null==(f=a.Object._scope.File)?a.cm("File"):f).$expand_path(b.$path()),y=(null==(f=a.Object._scope.File)?a.cm("File"):f).$join((null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(x),""+w.$attributes()["$[]"]("docname")+w.$attributes()["$[]"]("outfilesuffix")),y["$=="](x)&&n.$raise(null==(f=a.Object._scope.IOError)?a.cm("IOError"):f,"Input file and output file are the same!"),z=(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(y)):v!==!1&&v!==e?(A=function(){return(null==(f=a.Object._scope.File)?a.cm("File"):f).$expand_path((f=d["$has_key?"]("base_dir"))!==!1&&f!==e?d["$[]"]("base_dir"):(null==(f=a.Object._scope.Dir)?a.cm("Dir"):f).$pwd())}(),B=function(){return w.$safe()["$>="](c.SafeMode._scope.SAFE)?A:e}(),p!==!1&&p!==e?(z=w.$normalize_system_path(p,A,B,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),o!==!1&&o!==e?(y=w.$normalize_system_path(o,z,e,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(y)):y=(null==(f=a.Object._scope.File)?a.cm("File"):f).$join(z,""+w.$attributes()["$[]"]("docname")+w.$attributes()["$[]"]("outfilesuffix"))):o!==!1&&o!==e&&(y=w.$normalize_system_path(o,A,B,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),z=(null==(f=a.Object._scope.File)?a.cm("File"):f).$dirname(y)),((f=(null==(g=a.Object._scope.File)?a.cm("File"):g)["$directory?"](z))===!1||f===e)&&(q!==!1&&q!==e?(null==(f=a.Object._scope.FileUtils)?a.cm("FileUtils"):f).$mkdir_p(z):n.$raise(null==(f=a.Object._scope.IOError)?a.cm("IOError"):f,"target directory does not exist: "+p))):(y=o,z=e),r!==!1&&r!==e&&r.$start("convert"),C=w.$convert(),r!==!1&&r!==e&&r.$record("convert"),y!==!1&&y!==e?(r!==!1&&r!==e&&r.$start("write"),((f=u)===!1||f===e)&&(w.$attributes()["$[]="]("outfile",y),w.$attributes()["$[]="]("outdir",z)),w.$write(C,y),r!==!1&&r!==e&&r.$record("write"),l=u,k=l===e||l===!1,j=k!==!1&&k!==e?w.$safe()["$<"](c.SafeMode._scope.SECURE):k,i=j!==!1&&j!==e?w["$attr?"]("basebackend-html"):j,g=i!==!1&&i!==e?w["$attr?"]("linkcss"):i,(f=g!==!1&&g!==e?w["$attr?"]("copycss"):g)!==!1&&f!==e&&(D=c.DEFAULT_STYLESHEET_KEYS["$include?"](E=w.$attr("stylesheet")),g=D,f=g===e||g===!1,F=f!==!1&&f!==e?(g=E["$nil_or_empty?"](),g===e||g===!1):f,f=w["$attr?"]("source-highlighter","coderay"),G=f!==!1&&f!==e?w.$attr("coderay-css","class")["$=="]("class"):f,f=w["$attr?"]("source-highlighter","pygments"),H=f!==!1&&f!==e?w.$attr("pygments-css","class")["$=="]("class"):f,(f=(g=(i=(j=D)!==!1&&j!==e?j:F)!==!1&&i!==e?i:G)!==!1&&g!==e?g:H)!==!1&&f!==e&&(z=w.$attr("outdir"),I=w.$normalize_system_path(w.$attr("stylesdir"),z,function(){return w.$safe()["$>="](c.SafeMode._scope.SAFE)?z:e}()),q!==!1&&q!==e&&c.Helpers.$mkdir_p(I),D!==!1&&D!==e?c.Stylesheets.$instance().$write_primary_stylesheet(I):F!==!1&&F!==e&&(J=w.$normalize_system_path((f=(J=w.$attr("copycss"))["$empty?"]())!==!1&&f!==e?E:J),K=w.$normalize_system_path(E,I,function(){return w.$safe()["$>="](c.SafeMode._scope.SAFE)?z:e}()),((f=(g=J["$=="](K))!==!1&&g!==e?g:(L=w.$read_asset(J))["$nil?"]())===!1||f===e)&&(f=(g=null==(i=a.Object._scope.File)?a.cm("File"):i).$open,f._p=(m=function(a){m._s||this;return null==a&&(a=e),a.$write(L)},m._s=n,m),f).call(g,K,"w")),G!==!1&&G!==e?c.Stylesheets.$instance().$write_coderay_stylesheet(I):H!==!1&&H!==e&&c.Stylesheets.$instance().$write_pygments_stylesheet(I,w.$attr("pygments-style")))),w):C)},b._proto.$render=b._proto.$convert,b._proto.$convert_file=function(b,c){var d,f=this;return null==c&&(c=h([],{})),f.$convert((null==(d=a.Object._scope.File)?a.cm("File"):d).$new((d=b)!==!1&&d!==e?d:""),c)},b._proto.$render_file=b._proto.$convert_file}(k.$singleton_class()),(c=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f)===!1||c===e}(c),(b=d.RUBY_ENGINE_OPAL)!==!1&&b!==e,!0}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.klass,h=a.hash2,i=a.range,j=a.hash;return function(b){{var k=f(b,"Asciidoctor");k._proto,k._scope}!function(b){var k=f(b,"Extensions"),l=(k._proto,k._scope);!function(b,d){function f(){}var i,j,k,l=f=g(b,d,"Processor",f),m=f._proto,n=f._scope;return m.config=c,function(a){a._scope,a._proto;return a._proto.$config=function(){var a,b=this;return null==b.config&&(b.config=c),(a=b.config)!==!1&&a!==c?a:b.config=h([],{})},a._proto.$option=function(a,b){var c=this;return c.$config()["$[]="](a,b)},a._proto.$use_dsl=function(){var a,b=this;return(a=b.$name()["$nil_or_empty?"]())!==!1&&a!==c?(a=b.$constants().$grep("DSL"))!==!1&&a!==c?b.$include(b.$const_get("DSL")):c:(a=b.$constants().$grep("DSL"))!==!1&&a!==c?b.$extend(b.$const_get("DSL")):c},a._proto.$extend_dsl=a._proto.$use_dsl,a._proto.$include_dsl=a._proto.$use_dsl}(l.$singleton_class()),l.$attr_reader("config"),m.$initialize=function(a){var b=this;return null==a&&(a=h([],{})),b.config=b.$class().$config().$merge(a)},m.$update_config=function(a){var b=this;return b.config.$update(a)},m.$process=function(b){var c,d=this;return b=e.call(arguments,0),d.$raise(null==(c=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):c)},m.$create_block=function(a,b,c,d,e){return null==e&&(e=h([],{})),n.Block.$new(a,b,h(["source","attributes"],{source:c,attributes:d}).$merge(e))},m.$create_image_block=function(a,b,d){var e=this;return null==d&&(d=h([],{})),e.$create_block(a,"image",c,b,d)},m.$create_inline=function(a,b,c,d){return null==d&&(d=h([],{})),n.Inline.$new(a,b,c,d)},m.$parse_content=function(a,b,d){var e,f,g=c,i=c;for(null==d&&(d=h([],{})),g=function(){return(e=b["$is_a?"](n.Reader))!==!1&&e!==c?g:n.Reader.$new(b)}();(f=g["$has_more_lines?"]())!==!1&&f!==c;)i=n.Parser.$next_block(g,a,d),i!==!1&&i!==c&&a["$<<"](i);return c},(i=(j=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,i._p=(k=function(a,b,d){var f,g,h,i=k._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),(f=(g=i).$define_method,f._p=(h=function(a){var c,f=h._s||this;return a=e.call(arguments,0),(c=f).$send.apply(c,[b].concat(a.$dup().$insert(1,d)))},h._s=i,h),f).call(g,a)},k._s=l,k),i).call(j)}(k,null),function(b){{var d,g=f(b,"ProcessorDsl"),h=g._proto;g._scope}h.$option=function(a,b){var c=this;return c.$config()["$[]="](a,b)},h.$process=d=function(b){var f,g,h=this,i=d._p,j=i||c;return null==h.process_block&&(h.process_block=c),b=e.call(arguments,0),d._p=null,j!==c?h.process_block=j:(f=h.process_block)!==!1&&f!==c?(f=h.process_block).$call.apply(f,[].concat(b)):h.$raise(null==(g=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):g)},h["$process_block_given?"]=function(){var a,b=this;return a=b.process_block,null!=a&&a!==c?"instance-variable":c},a.donate(g,["$option","$process","$process_block_given?"])}(k),function(b,d){function e(){}{var f=(e=g(b,d,"Preprocessor",e),e._proto);e._scope}return f.$process=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},c}(k,l.Processor),a.casgn(l.Preprocessor,"DSL",l.ProcessorDsl),function(b,d){function e(){}{var f=(e=g(b,d,"Treeprocessor",e),e._proto);e._scope}return f.$process=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},c}(k,l.Processor),a.casgn(l.Treeprocessor,"DSL",l.ProcessorDsl),function(b,d){function e(){}{var f=(e=g(b,d,"Postprocessor",e),e._proto);e._scope}return f.$process=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},c}(k,l.Processor),a.casgn(l.Postprocessor,"DSL",l.ProcessorDsl),function(b,d){function e(){}{var f=(e=g(b,d,"IncludeProcessor",e),e._proto);e._scope}return f.$process=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},f["$handles?"]=function(){return!0},c}(k,l.Processor),a.casgn(l.IncludeProcessor,"DSL",l.ProcessorDsl),function(b,d){function e(){}{var f,i=e=g(b,d,"BlockProcessor",e),j=e._proto;e._scope}return j.config=c,i.$attr_accessor("name"),j.$initialize=f=function(b,d){var e,g,i,j=this,k=(f._p,c);return null==b&&(b=c),null==d&&(d=h([],{})),f._p=null,a.find_super_dispatcher(j,"initialize",f,null).apply(j,[d]),j.name=(e=b)!==!1&&e!==c?e:j.config["$[]"]("name"),k=j.config["$[]"]("contexts"),(null==(e=a.Object._scope.NilClass)?a.cm("NilClass"):e)["$==="](k)?(e="contexts",g=j.config,(i=g["$[]"](e))!==!1&&i!==c?i:g["$[]="](e,["open","paragraph"].$to_set())):(null==(e=a.Object._scope.Symbol)?a.cm("Symbol"):e)["$==="](k)?j.config["$[]="]("contexts",[j.config["$[]"]("contexts")].$to_set()):j.config["$[]="]("contexts",j.config["$[]"]("contexts").$to_set()),e="content_model",g=j.config,(i=g["$[]"](e))!==!1&&i!==c?i:g["$[]="](e,"compound")},j.$process=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},c}(k,l.Processor),function(b){var d=f(b,"BlockProcessorDsl"),g=d._proto,h=d._scope;d.$include(h.ProcessorDsl),g.$named=function(a){var b,d=this;return(b=d["$is_a?"](h.Processor))!==!1&&b!==c?d.name=a:d.$option("name",a)},a.defn(d,"$match_name",g.$named),a.defn(d,"$bind_to",g.$named),g.$contexts=function(a){var b=this;return a=e.call(arguments,0),b.$option("contexts",a.$flatten())},a.defn(d,"$on_contexts",g.$contexts),a.defn(d,"$on_context",g.$contexts),g.$content_model=function(a){var b=this;return b.$option("content_model",a)},a.defn(d,"$parse_content_as",g.$content_model),g.$pos_attrs=function(a){var b=this;return a=e.call(arguments,0),b.$option("pos_attrs",a.$flatten())},a.defn(d,"$map_attributes",g.$pos_attrs),a.defn(d,"$name_positional_attributes",g.$pos_attrs),g.$default_attrs=function(a){var b=this;return b.$option("default_attrs",a)},a.defn(d,"$seed_attributes_with",g.$default_attrs),a.donate(d,["$named","$match_name","$bind_to","$contexts","$on_contexts","$on_context","$content_model","$parse_content_as","$pos_attrs","$map_attributes","$name_positional_attributes","$default_attrs","$seed_attributes_with"])}(k),a.casgn(l.BlockProcessor,"DSL",l.BlockProcessorDsl),function(b,d){function e(){}{var f,i=e=g(b,d,"MacroProcessor",e),j=e._proto;e._scope}return j.config=c,i.$attr_accessor("name"),j.$initialize=f=function(b,d){{var e,g,i,j=this;f._p}return null==b&&(b=c),null==d&&(d=h([],{})),f._p=null,a.find_super_dispatcher(j,"initialize",f,null).apply(j,[d]),j.name=(e=b)!==!1&&e!==c?e:j.config["$[]"]("name"),e="content_model",g=j.config,(i=g["$[]"](e))!==!1&&i!==c?i:g["$[]="](e,"attributes")},j.$process=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},c}(k,l.Processor),function(b){var d=f(b,"MacroProcessorDsl"),g=d._proto,h=d._scope;d.$include(h.ProcessorDsl),g.$named=function(a){var b,d=this;return(b=d["$is_a?"](h.Processor))!==!1&&b!==c?d.name=a:d.$option("name",a)},a.defn(d,"$match_name",g.$named),a.defn(d,"$bind_to",g.$named),g.$content_model=function(a){var b=this;return b.$option("content_model",a)},a.defn(d,"$parse_content_as",g.$content_model),g.$pos_attrs=function(a){var b=this;return a=e.call(arguments,0),b.$option("pos_attrs",a.$flatten())},a.defn(d,"$map_attributes",g.$pos_attrs),a.defn(d,"$name_positional_attributes",g.$pos_attrs),g.$default_attrs=function(a){var b=this;return b.$option("default_attrs",a)},a.defn(d,"$seed_attributes_with",g.$default_attrs),a.donate(d,["$named","$match_name","$bind_to","$content_model","$parse_content_as","$pos_attrs","$map_attributes","$name_positional_attributes","$default_attrs","$seed_attributes_with"])}(k),function(a,b){function d(){}d=g(a,b,"BlockMacroProcessor",d),d._proto,d._scope;return c}(k,l.MacroProcessor),a.casgn(l.BlockMacroProcessor,"DSL",l.MacroProcessorDsl),function(b,d){function f(){}{var i,j=(f=g(b,d,"InlineMacroProcessor",f),f._proto);f._scope}return j.config=j.name=c,j.$initialize=i=function(b,d){var f,g,j,k=e.call(arguments,0),l=this,m=i._p;return null==d&&(d=h([],{})),i._p=null,a.find_super_dispatcher(l,"initialize",i,m).apply(l,k),f="regexp",g=l.config,(j=g["$[]"](f))!==!1&&j!==c?j:g["$[]="](f,l.$resolve_regexp(l.name,l.config["$[]"]("format")))},j.$resolve_regexp=function(a,b){return new RegExp(b["$=="]("short")?"\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]":"\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},c}(k,l.MacroProcessor),function(b){var c=f(b,"InlineMacroProcessorDsl"),d=c._proto,e=c._scope;c.$include(e.MacroProcessorDsl),d.$using_format=function(a){var b=this;return b.$option("format",a)},d.$match=function(a){var b=this;return b.$option("regexp",a)},a.donate(c,["$using_format","$match"])}(k),a.casgn(l.InlineMacroProcessor,"DSL",l.InlineMacroProcessorDsl),function(a,b){function d(){}{var e=d=g(a,b,"Extension",d),f=d._proto;d._scope}return e.$attr("kind"),e.$attr("config"),e.$attr("instance"),f.$initialize=function(a,b,c){var d=this;return d.kind=a,d.instance=b,d.config=c},c}(k,null),function(b,d){function e(){}{var f,h=e=g(b,d,"ProcessorExtension",e),i=e._proto;e._scope}return h.$attr("process_method"),i.$initialize=f=function(b,d,e){{var g,h=this;f._p}return null==e&&(e=c),f._p=null,a.find_super_dispatcher(h,"initialize",f,null).apply(h,[b,d,d.$config()]),h.process_method=(g=e)!==!1&&g!==c?g:d.$method("process")},c}(k,l.Extension),function(b,d){function e(){}{var f=e=g(b,d,"Group",e),h=e._proto;e._scope}return function(a){{var b=a._scope;a._proto}return a._proto.$register=function(a){var d=this;return null==a&&(a=c),b.Extensions.$register(a,d)},c}(f.$singleton_class()),h.$activate=function(){var b,c=this;return c.$raise(null==(b=a.Object._scope.NotImplementedError)?a.cm("NotImplementedError"):b)},c}(k,null),function(b,f){function j(){}var k,l,m,n,o,p,q,r,s,t=j=g(b,f,"Registry",j),u=j._proto,v=j._scope;return u.groups=u.preprocessor_extensions=u.treeprocessor_extensions=u.postprocessor_extensions=u.include_processor_extensions=u.block_extensions=u.block_macro_extensions=u.inline_macro_extensions=c,t.$attr_reader("document"),t.$attr_reader("groups"),u.$initialize=function(a){var b=this;return null==a&&(a=h([],{})),b.groups=a,b.preprocessor_extensions=b.treeprocessor_extensions=b.postprocessor_extensions=b.include_processor_extensions=c,b.block_extensions=b.block_macro_extensions=b.inline_macro_extensions=c,b.document=c},u.$activate=function(b){var d,e,f,g=this;return g.document=b,(d=(e=v.Extensions.$groups().$values()["$+"](g.groups.$values())).$each,d._p=(f=function(b){var d,e,g=f._s||this,h=c;return null==b&&(b=c),function(){return h=b,(null==(d=a.Object._scope.Proc)?a.cm("Proc"):d)["$==="](h)?function(){return h=b.$arity(),0["$==="](h)||(-1)["$==="](h)?(d=(e=g).$instance_exec,d._p=b.$to_proc(),d).call(e):1["$==="](h)?b.$call(g):c}():(null==(d=a.Object._scope.Class)?a.cm("Class"):d)["$==="](h)?b.$new().$activate(g):b.$activate(g)}()},f._s=g,f),d).call(e),g},u.$preprocessor=k=function(a){var b,d,f=this,g=k._p,h=g||c;return a=e.call(arguments,0),k._p=null,(b=(d=f).$add_document_processor,b._p=h.$to_proc(),b).call(d,"preprocessor",a)},u["$preprocessors?"]=function(){var a,b,d=this;return b=d.preprocessor_extensions,a=b===c||b===!1,a===c||a===!1},u.$preprocessors=function(){var a=this;return a.preprocessor_extensions},u.$treeprocessor=l=function(a){var b,d,f=this,g=l._p,h=g||c;return a=e.call(arguments,0),l._p=null,(b=(d=f).$add_document_processor,b._p=h.$to_proc(),b).call(d,"treeprocessor",a)},u["$treeprocessors?"]=function(){var a,b,d=this;return b=d.treeprocessor_extensions,a=b===c||b===!1,a===c||a===!1},u.$treeprocessors=function(){var a=this;return a.treeprocessor_extensions},u.$postprocessor=m=function(a){var b,d,f=this,g=m._p,h=g||c;return a=e.call(arguments,0),m._p=null,(b=(d=f).$add_document_processor,b._p=h.$to_proc(),b).call(d,"postprocessor",a)},u["$postprocessors?"]=function(){var a,b,d=this;return b=d.postprocessor_extensions,a=b===c||b===!1,a===c||a===!1},u.$postprocessors=function(){var a=this;return a.postprocessor_extensions},u.$include_processor=n=function(a){var b,d,f=this,g=n._p,h=g||c;return a=e.call(arguments,0),n._p=null,(b=(d=f).$add_document_processor,b._p=h.$to_proc(),b).call(d,"include_processor",a)},u["$include_processors?"]=function(){var a,b,d=this;return b=d.include_processor_extensions,a=b===c||b===!1,a===c||a===!1},u.$include_processors=function(){var a=this;return a.include_processor_extensions},u.$block=o=function(a){var b,d,f=this,g=o._p,h=g||c;return a=e.call(arguments,0),o._p=null,(b=(d=f).$add_syntax_processor,b._p=h.$to_proc(),b).call(d,"block",a)},u["$blocks?"]=function(){var a,b,d=this;return b=d.block_extensions,a=b===c||b===!1,a===c||a===!1},u["$registered_for_block?"]=function(a,b){var d,e=this,f=c;return(d=f=e.block_extensions["$[]"](a.$to_sym()))!==!1&&d!==c?(d=f.$config()["$[]"]("contexts")["$include?"](b))!==!1&&d!==c?f:!1:!1},u.$find_block_extension=function(a){var b=this;return b.block_extensions["$[]"](a.$to_sym())},u.$block_macro=p=function(a){var b,d,f=this,g=p._p,h=g||c;return a=e.call(arguments,0),p._p=null,(b=(d=f).$add_syntax_processor,b._p=h.$to_proc(),b).call(d,"block_macro",a)},u["$block_macros?"]=function(){var a,b,d=this;return b=d.block_macro_extensions,a=b===c||b===!1,a===c||a===!1},u["$registered_for_block_macro?"]=function(a){var b,d=this,e=c;return(b=e=d.block_macro_extensions["$[]"](a.$to_sym()))!==!1&&b!==c?e:!1},u.$find_block_macro_extension=function(a){var b=this;return b.block_macro_extensions["$[]"](a.$to_sym())},u.$inline_macro=q=function(a){var b,d,f=this,g=q._p,h=g||c;return a=e.call(arguments,0),q._p=null,(b=(d=f).$add_syntax_processor,b._p=h.$to_proc(),b).call(d,"inline_macro",a)},u["$inline_macros?"]=function(){var a,b,d=this;return b=d.inline_macro_extensions,a=b===c||b===!1,a===c||a===!1},u["$registered_for_inline_macro?"]=function(a){var b,d=this,e=c;return(b=e=d.inline_macro_extensions["$[]"](a.$to_sym()))!==!1&&b!==c?e:!1},u.$find_inline_macro_extension=function(a){var b=this;return b.inline_macro_extensions["$[]"](a.$to_sym())},u.$inline_macros=function(){var a=this;return a.inline_macro_extensions.$values()},t.$private(),u.$add_document_processor=r=function(b,d){var e,f,g,h,j,k,l,m=this,n=r._p,o=n||c,p=c,q=c,s=c,t=c,u=c,w=c,x=c,y=c,z=c;return r._p=null,p=b.$to_s().$tr("_"," "),q=(e=(f=p.$split(" ")).$map,e._p=(g=function(a){g._s||this;return null==a&&(a=c),""+a.$chr().$upcase()+a["$[]"](i(1,-1,!1))},g._s=m,g),e).call(f).$join().$to_sym(),s=v.Extensions.$const_get(q),t=function(){return(e=null==a.Object._scope.AsciidoctorJ?c:"constant")!==!1&&e!==c?(null==(e=a.Object._scope.AsciidoctorJ)?a.cm("AsciidoctorJ"):e)._scope.Extensions.$const_get(q):c}(),u=(e=m.$instance_variable_get(("@"+b+"_extensions").$to_sym()))!==!1&&e!==c?e:m.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]),w=function(){return o!==c?(x=m.$resolve_args(d,1),y=s.$new(x),function(a){a._scope,a._proto;return a.$include_dsl()}(y.$singleton_class()),(e=(h=y).$instance_exec,e._p=o.$to_proc(),e).call(h),y.$freeze(),((e=y["$process_block_given?"]())===!1||e===c)&&m.$raise((null==(e=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):e).$new("No block specified to process "+p+" extension at "+o.$source_location())),v.ProcessorExtension.$new(b,y)):(e=a.to_ary(m.$resolve_args(d,2)),y=null==e[0]?c:e[0],x=null==e[1]?c:e[1],(e=(j=y["$is_a?"](null==(k=a.Object._scope.Class)?a.cm("Class"):k))!==!1&&j!==c?j:(k=y["$is_a?"](null==(l=a.Object._scope.String)?a.cm("String"):l),k!==!1&&k!==c?y=v.Extensions.$class_for_name(y):k))!==!1&&e!==c?(((e=(j=y["$<"](s))!==!1&&j!==c?j:(k=t!==!1&&t!==c)?y["$<"](t):k)===!1||e===c)&&m.$raise((null==(e=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):e).$new("Invalid type for "+p+" extension: "+y)),z=y.$new(x),z.$freeze(),v.ProcessorExtension.$new(b,z)):(e=(j=y["$is_a?"](s))!==!1&&j!==c?j:(k=t!==!1&&t!==c)?y["$is_a?"](t):k)!==!1&&e!==c?(y.$update_config(x),y.$freeze(),v.ProcessorExtension.$new(b,y)):m.$raise((null==(e=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):e).$new("Invalid arguments specified for registering "+p+" extension: "+d)))}(),w.$config()["$[]"]("position")["$=="](">>")?u.$unshift(w):u["$<<"](w)},u.$add_syntax_processor=s=function(b,e){var f,g,j,k,l,m,n,o=this,p=s._p,q=p||c,r=c,t=c,u=c,w=c,x=c,y=c,z=c,A=c,B=c,C=c;if(s._p=null,r=b.$to_s().$tr("_"," "),t=(f=(g=r.$split(" ")).$map,f._p=(j=function(a){j._s||this;return null==a&&(a=c),""+a.$chr().$upcase()+a["$[]"](i(1,-1,!1))},j._s=o,j),f).call(g).$join(),u=(""+t+"Processor").$to_sym(),w=v.Extensions.$const_get(u),x=function(){return(f=null==a.Object._scope.AsciidoctorJ?c:"constant")!==!1&&f!==c?(null==(f=a.Object._scope.AsciidoctorJ)?a.cm("AsciidoctorJ"):f)._scope.Extensions.$const_get(u):c}(),y=(f=o.$instance_variable_get(("@"+b+"_extensions").$to_sym()))!==!1&&f!==c?f:o.$instance_variable_set(("@"+b+"_extensions").$to_sym(),h([],{})),q!==c){if(f=a.to_ary(o.$resolve_args(e,2)),z=null==f[0]?c:f[0],A=null==f[1]?c:f[1],B=w.$new(o.$as_symbol(z),A),function(a){a._scope,a._proto;return a.$include_dsl()}(B.$singleton_class()),q.$arity()["$=="](1)){if(a.$yield1(q,B)===d)return d.$v}else(f=(k=B).$instance_exec,f._p=q.$to_proc(),f).call(k);return((f=z=o.$as_symbol(B.$name()))===!1||f===c)&&o.$raise((null==(f=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):f).$new("No name specified for "+r+" extension at "+q.$source_location())),((f=B["$process_block_given?"]())===!1||f===c)&&o.$raise((null==(f=a.Object._scope.NoMethodError)?a.cm("NoMethodError"):f).$new("No block specified to process "+r+" extension at "+q.$source_location())),B.$freeze(),y["$[]="](z,v.ProcessorExtension.$new(b,B))}return f=a.to_ary(o.$resolve_args(e,3)),B=null==f[0]?c:f[0],z=null==f[1]?c:f[1],A=null==f[2]?c:f[2],(f=(l=B["$is_a?"](null==(m=a.Object._scope.Class)?a.cm("Class"):m))!==!1&&l!==c?l:(m=B["$is_a?"](null==(n=a.Object._scope.String)?a.cm("String"):n),m!==!1&&m!==c?B=v.Extensions.$class_for_name(B):m))!==!1&&f!==c?(((f=(l=B["$<"](w))!==!1&&l!==c?l:(m=x!==!1&&x!==c)?B["$<"](x):m)===!1||f===c)&&o.$raise((null==(f=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):f).$new("Class specified for "+r+" extension does not inherit from "+w+": "+B)),C=B.$new(o.$as_symbol(z),A),((f=z=o.$as_symbol(C.$name()))===!1||f===c)&&o.$raise((null==(f=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):f).$new("No name specified for "+r+" extension: "+B)),B.$freeze(),y["$[]="](z,v.ProcessorExtension.$new(b,C))):(f=(l=B["$is_a?"](w))!==!1&&l!==c?l:(m=x!==!1&&x!==c)?B["$is_a?"](x):m)!==!1&&f!==c?(B.$update_config(A),((f=z=function(){return z!==!1&&z!==c?B["$name="](o.$as_symbol(z)):o.$as_symbol(B.$name())}())===!1||f===c)&&o.$raise((null==(f=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):f).$new("No name specified for "+r+" extension: "+B)),B.$freeze(),y["$[]="](z,v.ProcessorExtension.$new(b,B))):o.$raise((null==(f=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):f).$new("Invalid arguments specified for registering "+r+" extension: "+e))},u.$resolve_args=function(b,d){var e,f,g=c,i=c,j=c;return g=function(){return(e=b["$[]"](-1)["$is_a?"](null==(f=a.Object._scope.Hash)?a.cm("Hash"):f))!==!1&&e!==c?b.$pop():h([],{})}(),d["$=="](1)?g:(i=b.$size(),(j=d["$-"](1)["$-"](i))["$>"](0)?b.$fill(c,i,j):j["$<"](0)&&b.$pop(j["$-@"]()),b["$<<"](g),b)},u.$as_symbol=function(b){var d,e;return b!==!1&&b!==c?function(){return(d=b["$is_a?"](null==(e=a.Object._scope.Symbol)?a.cm("Symbol"):e))!==!1&&d!==c?b:b.$to_sym()}():c},c}(k,null),function(b){{var d=b._scope;b._proto}return b._proto.$generate_name=function(){var a=this;return"extgrp"+a.$next_auto_id()},b._proto.$next_auto_id=function(){var a,b=this;return null==b.auto_id&&(b.auto_id=c),(a=b.auto_id)!==!1&&a!==c?a:b.auto_id=-1,b.auto_id=b.auto_id["$+"](1)},b._proto.$groups=function(){var a,b=this;return null==b.groups&&(b.groups=c),(a=b.groups)!==!1&&a!==c?a:b.groups=h([],{})},b._proto.$build_registry=TMP_20=function(a){var b,e=this,f=TMP_20._p,g=f||c;return null==a&&(a=c),TMP_20._p=null,g!==c?((b=a)!==!1&&b!==c?b:a=e.$generate_name(),d.Registry.$new(j(a,g))):d.Registry.$new()},b._proto.$register=TMP_21=function(b){var d,f,g=this,h=TMP_21._p,i=h||c,j=c,k=c,l=c,m=c,n=c;return b=e.call(arguments,0),TMP_21._p=null,j=b.$length(),k=function(){return i!==c?i:(f=l=b.$pop(),(d=f===c||f===!1)!=!1&&d!==c?g.$raise((null==(d=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):d).$new("Extension group to register not specified")):function(){return m=l,(null==(d=a.Object._scope.Class)?a.cm("Class"):d)["$==="](m)?l:(null==(d=a.Object._scope.String)?a.cm("String"):d)["$==="](m)?g.$class_for_name(l):(null==(d=a.Object._scope.Symbol)?a.cm("Symbol"):d)["$==="](m)?g.$class_for_name(l.$to_s()):l}())}(),n=(d=b.$pop())!==!1&&d!==c?d:g.$generate_name(),((d=b["$empty?"]())===!1||d===c)&&g.$raise((null==(d=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):d).$new("Wrong number of arguments ("+j+" for 1..2)")),g.$groups()["$[]="](n,k)},b._proto.$unregister_all=function(){var a=this;return a.groups=h([],{})},b._proto.$resolve_class=function(b){var d,e,f=this;return(d=b["$is_a?"](null==(e=a.Object._scope.Class)?a.cm("Class"):e))!==!1&&d!==c?b:f.$class_for_name(b.$to_s())
},b._proto.$class_for_name=function(b){var d,e,f,g=this,h=c;return h=null==(d=a.Object._scope.Object)?a.cm("Object"):d,(d=(e=b.$split("::")).$each,d._p=(f=function(a){var d,e=f._s||this;return null==a&&(a=c),(d=a["$empty?"]())!==!1&&d!==c?c:(d=h["$const_defined?"](a))!==!1&&d!==c?h=h.$const_get(a):e.$raise("Could not resolve class for name: "+b)},f._s=g,f),d).call(e),h},c}(k.$singleton_class())}(k)}(b)}(Opal);
'use strict';

 angular.module('aql.asciidoc', []).
 	directive('asciidoc', function(){
		return {
			restrict: 'AE', // E = Element, A = Attribute, C = Class, M = Comment header_footer
			link: function(scope, element, attrs) {
 				var options;
 				var transform;
 				var nowatch;
 				var watch;

 				// If options are define
				if (attrs.asciidocOpts) {
					options = scope.$eval(attrs.asciidocOpts);
				}

				// If nowatch is define
				if (attrs.asciidocNoWatch) {
					nowatch = scope.$eval(attrs.asciidocNoWatch);
				}

				if (attrs.asciidoc) {
					watch = scope.$watch(attrs.asciidoc, function (newVal) {
						if (newVal) {
				            var html = Opal.Asciidoctor.$render(newVal, options);
				            element.html(html);

				            // If a postProcessor is define, use to complete link href or image src for example
			 				if (attrs.asciidocPostProcessor) {
			 					transform = scope.$eval(attrs.asciidocPostProcessor);
			 					transform(element);
			 				}

			 				// Stop watching value
			 				if (nowatch) {
				            	watch();
				            }	
				            
						}
			          });
				} else {		
					element.html(Opal.Asciidoctor.$render(element.text(), options));

		            // If a postProcessor is define, use to complete link href or image src for example
	 				if (attrs.asciidocPostProcessor) {
	 					transform = scope.$eval(attrs.asciidocPostProcessor);
	 					transform(element);
	 				}
				}

			}
		};
	});