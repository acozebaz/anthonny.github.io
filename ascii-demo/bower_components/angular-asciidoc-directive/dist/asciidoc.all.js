/*!
 angular-asciidoc-directive - v0.0.1 - 2014-02-22 

======================================= 
opal version : 0.5.5 
opal-sprockets version : 0.3.0 
asciidoctor version : 1.5.0.preview.1 
*/

(function(){function a(){}function b(){}function c(){}function d(){}function e(){}function f(a,b,c){var d=function(){},e=d.prototype=new a.constructor;b._scope=e,e.base=b,b._base_module=a.base,e.constructor=d,e.constants=[],c&&(b._orig_scope=a,a[c]=a.constructor[c]=b,a.constants.push(c))}function g(a,b){function c(){}var d=function(){};d.prototype=a.constructor.prototype,c.prototype=new d;var e=new c;return e._id=u++,e._alloc=b,e._isClass=!0,e.constructor=c,e._super=a,e._methods=[],e.__inc__=[],e.__parent=a,e._proto=b.prototype,b.prototype._klass=e,e}function h(){function a(){}var b=function(){};b.prototype=n.constructor.prototype,a.prototype=new b;var c=new a;return c._id=u++,c._isClass=!0,c.constructor=a,c._super=n,c._methods=[],c.__inc__=[],c.__parent=n,c._proto={},c.__mod__=!0,c.__dep__=[],c}function i(a,b){var c=g(m,b);c._name=a,f(p,c,a),q.push(c);for(var d=l._methods.concat(m._methods),e=0,h=d.length;h>e;e++){var i=d[e];b.prototype[i]=m._proto[i]}return c}function j(a,b){function c(){return this.$method_missing._p=c._p,c._p=null,this.$method_missing.apply(this,[b.slice(1)].concat(t.call(arguments)))}c.rb_stub=!0,a[b]=c}function k(a,b){l._methods.push(a);for(var c=0,d=q.length;d>c;c++)q[c]._proto[a]=b}var l,m,n,o,p=this.Opal={},q=[],r=function(){};r.prototype=p,p.constructor=r,p.constants=[],p.global=this;var s=p.hasOwnProperty,t=p.slice=Array.prototype.slice,u=0;p.uid=function(){return u++},p.cvars={},p.gvars={},p.create_scope=f,p.klass=function(a,b,c,d){a._isClass||(a=a._klass),null===b&&(b=m);var e=a._scope[c];if(s.call(a._scope,c)&&e._orig_scope===a._scope){if(!e._isClass)throw p.TypeError.$new(c+" is not a class");if(b!==e._super&&b!==m)throw p.TypeError.$new("superclass mismatch for class "+c)}else{if("function"==typeof b)return i(c,b);e=v(b,d),e._name=c,f(a._scope,e,c),a[c]=a._scope[c]=e,b!==m&&b!==l&&p.donate_constants(b,e),b.$inherited&&b.$inherited(e)}return e};var v=p.boot=function(a,b){var c=function(){};return c.prototype=a._proto,b.prototype=new c,b.prototype.constructor=b,g(a,b)};p.module=function(a,b){var c;if(a._isClass||(a=a._klass),s.call(a._scope,b)){if(c=a._scope[b],!c.__mod__&&c!==m)throw p.TypeError.$new(b+" is not a module")}else c=h(),c._name=b,f(a._scope,c,b),a[b]=a._scope[b]=c;return c};var w=function(a,b,c){if(c){var d=function(){};d.prototype=c.prototype,b.prototype=new d}return b.prototype.constructor=b,b},x=function(a,b,c){function d(){}var e=function(){};e.prototype=c.prototype,d.prototype=new e;var f=new d;return f._id=u++,f._alloc=b,f._isClass=!0,f._name=a,f._super=c,f.constructor=d,f._methods=[],f.__inc__=[],f.__parent=c,f._proto=b.prototype,b.prototype._klass=f,p[a]=f,p.constants.push(a),f};p.casgn=function(a,b,c){var d=a._scope;return c._isClass&&c._name===z&&(c._name=b),c._isClass&&(c._base_module=a),d.constants.push(b),d[b]=c},p.cdecl=function(a,b,c){return a.constants.push(b),a[b]=c},p.cget=function(a,b){null==b&&(b=a,a=p.Object);var c=a;for(b=b.split("::");0!=b.length;)c=c.$const_get(b.shift());return c},p.donate_constants=function(a,b){for(var c=a._scope.constants,d=b._scope,e=d.constants,f=0,g=c.length;g>f;f++)e.push(c[f]),d[c[f]]=a._scope[c[f]]},p.add_stubs=function(b){for(var c=0,d=b.length;d>c;c++){var e=b[c];a.prototype[e]||(a.prototype[e]=!0,j(a.prototype,e))}},p.add_stub_for=j,p.cm=function(a){return this.base.$const_missing(a)},p.ac=function(a,b,c,d){var e=(c._isClass?c._name+".":c._klass._name+"#")+d,f="["+e+"] wrong number of arguments("+a+" for "+b+")";throw p.ArgumentError.$new(f)},p.find_super_dispatcher=function(a,b,c,d,e){var f;return f=e?a._isClass?e._super:a._klass._proto:a._isClass?a._super:y(a,b,c),f=f["$"+b],f._p=d,f},p.find_iter_super_dispatcher=function(a,b,c,d,e){return c._def?p.find_super_dispatcher(a,c._jsid,c,d,e):p.find_super_dispatcher(a,b,c,d,e)};var y=function(a,b,c){for(var d=a.__meta__||a._klass;d&&d._proto["$"+b]!==c;)d=d.__parent;if(!d)throw new Error("could not find current class for super()");for(d=d.__parent;d;){var e=d._proto["$"+b];if(e&&e!==c)break;d=d.__parent}return d._proto};p.$return=function(a){throw p.returner.$v=a,p.returner},p.$yield1=function(a,b){if("function"!=typeof a)throw p.LocalJumpError.$new("no block given");return a.length>1?b._isArray?a.apply(null,b):a(b):a(b)},p.$yieldX=function(a,b){if("function"!=typeof a)throw p.LocalJumpError.$new("no block given");return a.length>1&&1==b.length&&b[0]._isArray?a.apply(null,b[0]):(b._isArray||(b=t.call(b)),a.apply(null,b))},p.is_a=function(a,b){if(a.__meta__===b)return!0;for(var c=a._klass;c;){if(c===b)return!0;c=c._super}return!1},p.to_ary=function(a){return a._isArray?a:a.$to_ary&&!a.$to_ary.rb_stub?a.$to_ary():[a]},p.send=function(a,b){var c=t.call(arguments,2),d=a["$"+b];return d?d.apply(a,c):a.$method_missing.apply(a,[b].concat(c))},p.block_send=function(a,b,c){var d=t.call(arguments,3),e=a["$"+b];return e?(e._p=c,e.apply(a,d)):a.$method_missing.apply(a,[b].concat(d))},p.donate=function(a,b){var c=a._methods,d=a.__dep__;if(a._methods=c.concat(b),d)for(var e=0,f=d.length;f>e;e++){for(var g=d[e],h=g._proto,i=0,j=b.length;j>i;i++){var k=b[i];h[k]=a._proto[k],h[k]._donated=!0}g.__dep__&&p.donate(g,b,!0)}},p.defn=function(a,b,c){return a.__mod__?(a._proto[b]=c,p.donate(a,[b])):a._isClass?(a._proto[b]=c,a===l?k(b,c):a===m&&p.donate(a,[b])):a[b]=c,z},p.defs=function(a,b,c){a._isClass||a.__mod__?a.constructor.prototype[b]=c:a[b]=c},p.hash=function(){if(1==arguments.length&&arguments[0]._klass==p.Hash)return arguments[0];var a=new p.Hash._alloc,b=[],c={};if(a.map=c,a.keys=b,1==arguments.length&&arguments[0]._isArray)for(var d=arguments[0],e=0,f=d.length;f>e;e++){var g=d[e][0],h=d[e][1];null==c[g]&&b.push(g),c[g]=h}else for(var e=0,f=arguments.length;f>e;e++){var g=arguments[e],h=arguments[++e];null==c[g]&&b.push(g),c[g]=h}return a},p.hash2=function(a,b){var c=new p.Hash._alloc;return c.keys=a,c.map=b,c},p.range=function(a,b,c){var d=new p.Range._alloc;return d.begin=a,d.end=b,d.exclude=c,d},w("BasicObject",a),w("Object",b,a),w("Module",d,b),w("Class",c,d),l=x("BasicObject",a,c),m=x("Object",b,l.constructor),n=x("Module",d,m.constructor),o=x("Class",c,n.constructor),l._klass=o,m._klass=o,n._klass=o,o._klass=o,l._super=null,m._super=l,n._super=m,o._super=n,m.__dep__=q,p.base=m,l._scope=m._scope=p,l._orig_scope=m._orig_scope=p,p.Kernel=m,n._scope=m._scope,o._scope=m._scope,n._orig_scope=m._orig_scope,o._orig_scope=m._orig_scope,m._proto.toString=function(){return this.$to_s()},p.top=new m._alloc,p.klass(m,m,"NilClass",e);var z=p.nil=new e;z.call=z.apply=function(){throw p.LocalJumpError.$new("no block given")},p.breaker=new Error("unexpected break"),p.returner=new Error("unexpected return"),i("Array",Array),i("Boolean",Boolean),i("Numeric",Number),i("String",String),i("Proc",Function),i("Exception",Error),i("Regexp",RegExp),i("Time",Date),TypeError._super=Error}).call(this),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module;return function(b){var f=e(b,"Opal"),g=(f._proto,f._scope);a.defs(f,"$coerce_to",function(a,b,d){var e,f=this;return(e=b["$==="](a))!==!1&&e!==c?a:(((e=a["$respond_to?"](d))===!1||e===c)&&f.$raise(g.TypeError,"no implicit conversion of "+a.$class()+" into "+b),a.$__send__(d))}),a.defs(f,"$coerce_to!",function(a,b,d){var e,f=this,h=c;return h=f.$coerce_to(a,b,d),((e=b["$==="](h))===!1||e===c)&&f.$raise(g.TypeError,"can't convert "+a.$class()+" into "+b+" ("+a.$class()+"#"+d+" gives "+h.$class()),h}),a.defs(f,"$try_convert",function(a,b,d){var e;return(e=b["$==="](a))!==!1&&e!==c?a:(e=a["$respond_to?"](d))!==!1&&e!==c?a.$__send__(d):c}),a.defs(f,"$compare",function(a,b){var d,e=this,f=c;return f=a["$<=>"](b),(d=f===c)!=!1&&d!==c&&e.$raise(g.ArgumentError,"comparison of "+a.$class().$name()+" with "+b.$class().$name()+" failed"),f}),a.defs(f,"$fits_fixnum!",function(a){var b,d=this;return(b=a>2147483648)!=!1&&b!==c?d.$raise(g.RangeError,"bignum too big to convert into `long'"):c}),a.defs(f,"$fits_array!",function(a){var b,d=this;return(b=a>=536870910)!=!1&&b!==c?d.$raise(g.ArgumentError,"argument too big"):c}),a.defs(f,"$destructure",function(a){return 1==a.length?a[0]:a._isArray?a:d.call(a)})}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return function(b,f){function g(){}var h,i,j,k,l=g=e(b,f,"Module",g),m=g._proto,n=g._scope;return a.defs(l,"$new",h=function(){function b(){}var d=h._p,e=d||c;h._p=null;var f=Opal.boot(Opal.Module,b);if(f._name=c,f._klass=Opal.Module,f.__dep__=[],f.__mod__=!0,f._proto={},a.create_scope(Opal.Module._scope,f),e!==c){var g=e._s;e._s=null,e.call(f),e._s=g}return f}),m["$==="]=function(b){var d,e=this;return(d=null==b)!=!1&&d!==c?!1:a.is_a(b,e)},m["$<"]=function(a){for(var b=this,c=b;c;){if(c===a)return!0;c=c.__parent}return!1},m.$alias_method=function(b,c){var d=this;return d._proto["$"+b]=d._proto["$"+c],d._methods&&a.donate(d,["$"+b]),d},m.$alias_native=function(a,b){var c=this;return null==b&&(b=a),c._proto["$"+a]=c._proto[b]},m.$ancestors=function(){for(var a=this,b=a,c=[];b;)c.push(b),c=c.concat(b.__inc__),b=b._super;return c},m.$append_features=function(b){for(var c=this,d=c,e=b.__inc__,f=0,g=e.length;g>f;f++)if(e[f]===d)return;e.push(d),d.__dep__.push(b);var h={name:d._name,_proto:d._proto,__parent:b.__parent,__iclass:!0};b.__parent=h;for(var i=d._proto,j=b._proto,k=d._methods,f=0,g=k.length;g>f;f++){var l=k[f];j.hasOwnProperty(l)&&!j[l]._donated||(j[l]=i[l],j[l]._donated=!0)}return b.__dep__&&a.donate(b,k.slice(),!0),a.donate_constants(d,b),c},m.$attr_accessor=function(a){var b,c,e=this;return a=d.call(arguments,0),(b=e).$attr_reader.apply(b,[].concat(a)),(c=e).$attr_writer.apply(c,[].concat(a))},m.$attr_reader=function(b){var e=this;b=d.call(arguments,0);for(var f=e._proto,g=e,h=0,i=b.length;i>h;h++)!function(b){f[b]=c;var d=function(){return this[b]};g._isSingleton?f.constructor.prototype["$"+b]=d:(f["$"+b]=d,a.donate(e,["$"+b]))}(b[h]);return c},m.$attr_writer=function(b){var e=this;b=d.call(arguments,0);for(var f=e._proto,g=e,h=0,i=b.length;i>h;h++)!function(b){f[b]=c;var d=function(a){return this[b]=a};g._isSingleton?f.constructor.prototype["$"+b+"="]=d:(f["$"+b+"="]=d,a.donate(e,["$"+b+"="]))}(b[h]);return c},a.defn(l,"$attr",m.$attr_accessor),m.$constants=function(){var a=this;return a._scope.constants},m["$const_defined?"]=function(a,b){var d,e=this;if(null==b&&(b=!0),((d=a["$=~"](/^[A-Z]\w*$/))===!1||d===c)&&e.$raise(n.NameError,"wrong constant name "+a),scopes=[e._scope],b||e===Opal.Object)for(var f=e._super;f!==Opal.BasicObject;)scopes.push(f._scope),f=f._super;for(var g=0,h=scopes.length;h>g;g++)if(scopes[g].hasOwnProperty(a))return!0;return!1},m.$const_get=function(a,b){var d,e=this;null==b&&(b=!0),((d=a["$=~"](/^[A-Z]\w*$/))===!1||d===c)&&e.$raise(n.NameError,"wrong constant name "+a);var f=[e._scope];if(b||e==Opal.Object)for(var g=e._super;g!==Opal.BasicObject;)f.push(g._scope),g=g._super;for(var h=0,i=f.length;i>h;h++)if(f[h].hasOwnProperty(a))return f[h][a];return e.$const_missing(a)},m.$const_missing=function(a){var b=this,d=c;return d=b._name,b.$raise(n.NameError,"uninitialized constant "+d+"::"+a)},m.$const_set=function(b,d){var e,f=this;((e=b["$=~"](/^[A-Z]\w*$/))===!1||e===c)&&f.$raise(n.NameError,"wrong constant name "+b);try{b=b.$to_str()}catch(g){f.$raise(n.TypeError,"conversion with #to_str failed")}return a.casgn(f,b,d),d},m.$define_method=i=function(b,d){var e=this,f=i._p,g=f||c;if(i._p=null,d&&(g=d.$to_proc()),g===c)throw new Error("no block given");var h="$"+b;return g._jsid=b,g._s=null,g._def=g,e._proto[h]=g,a.donate(e,[h]),null},m.$remove_method=function(a){{var b=this,c="$"+a;b._proto[c]}return delete b._proto[c],b},m.$include=function(a){var b=this;a=d.call(arguments,0);for(var c,e=a.length-1;e>=0;)c=a[e],e--,c!==b&&(c.$append_features(b),c.$included(b));return b},m.$instance_method=function(a){var b=this,c=b._proto["$"+a];return(!c||c.rb_stub)&&b.$raise(n.NameError,"undefined method `"+a+"' for class `"+b.$name()+"'"),n.UnboundMethod.$new(b,c,a)},m.$instance_methods=function(a){var b=this;null==a&&(a=!1);var c=[],d=b._proto;for(var e in b._proto)(a||d.hasOwnProperty(e))&&(a||!d[e]._donated)&&"$"===e.charAt(0)&&c.push(e.substr(1));return c},m.$included=function(){return c},m.$module_eval=j=function(){var a=this,b=j._p,d=b||c;if(j._p=null,d===c)throw new Error("no block given");var e,f=d._s;return d._s=null,e=d.call(a),d._s=f,e},a.defn(l,"$class_eval",m.$module_eval),m.$module_exec=k=function(){var a=this,b=k._p,e=b||c;if(k._p=null,e===c)throw new Error("no block given");var f,g=e._s;return e._s=null,f=e.apply(a,d.call(arguments)),e._s=g,f},a.defn(l,"$class_exec",m.$module_exec),m["$method_defined?"]=function(a){var b=this,c=b._proto["$"+a];return!!c&&!c.rb_stub},m.$module_function=function(a){var b=this;a=d.call(arguments,0);for(var c=0,e=a.length;e>c;c++){var f=a[c],g=b._proto["$"+f];b.constructor.prototype["$"+f]=g}return b},m.$name=function(){var b=this;if(b._full_name)return b._full_name;for(var d=[],e=b;e;){if(e._name===c)return 0===d.length?c:d.join("::");if(d.unshift(e._name),e=e._base_module,e===a.Object)break}return 0===d.length?c:b._full_name=d.join("::")},m.$public=function(){return c},m.$private_class_method=function(a){var b=this;return b["$"+a]||c},a.defn(l,"$private",m.$public),a.defn(l,"$protected",m.$public),m["$private_method_defined?"]=function(){return!1},a.defn(l,"$protected_method_defined?",m["$private_method_defined?"]),a.defn(l,"$public_instance_methods",m.$instance_methods),a.defn(l,"$public_method_defined?",m["$method_defined?"]),m.$remove_class_variable=function(){return c},m.$remove_const=function(a){var b=this,c=b._scope[a];return delete b._scope[a],c},m.$to_s=function(){var a=this;return a.$name().$to_s()},m.$undef_method=function(b){var c=this;return a.add_stub_for(c._proto,"$"+b),c},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return function(b,f){function g(){}var h,i,j=g=e(b,f,"Class",g),k=g._proto,l=g._scope;return a.defs(j,"$new",h=function(b){function d(){}var e=this,f=h._p,g=f||c;null==b&&(b=l.Object),h._p=null,(!b._isClass||b.__mod__)&&e.$raise(l.TypeError,"superclass must be a Class");var i=Opal.boot(b,d);if(i._name=c,i.__parent=b,a.create_scope(b._scope,i),b.$inherited(i),g!==c){var j=g._s;g._s=null,g.call(i),g._s=j}return i}),k.$allocate=function(){var a=this,b=new a._alloc;return b._id=Opal.uid(),b},k.$inherited=function(){return c},k.$new=i=function(a){var b=this,e=i._p,f=e||c;a=d.call(arguments,0),i._p=null;var g=b.$allocate();return g.$initialize._p=f,g.$initialize.apply(g,a),g},k.$superclass=function(){var a=this;return a._super||c},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return function(b,f){function g(){}var h,i,j,k,l=g=e(b,f,"BasicObject",g),m=g._proto,n=g._scope;return a.defn(l,"$initialize",function(){return c}),a.defn(l,"$==",function(a){var b=this;return b===a}),a.defn(l,"$__id__",function(){var a=this;return a._id||(a._id=Opal.uid())}),a.defn(l,"$__send__",h=function(a,b){var e=this,f=h._p,g=f||c;b=d.call(arguments,1),h._p=null;var i=e["$"+a];return i?(g!==c&&(i._p=g),i.apply(e,b)):(g!==c&&(e.$method_missing._p=g),e.$method_missing.apply(e,[a].concat(b)))}),a.defn(l,"$eql?",m["$=="]),a.defn(l,"$equal?",m["$=="]),a.defn(l,"$instance_eval",i=function(){var a,b=this,d=i._p,e=d||c;i._p=null,((a=e)===!1||a===c)&&n.Kernel.$raise(n.ArgumentError,"no block given");var f,g=e._s;return e._s=null,f=e.call(b,b),e._s=g,f}),a.defn(l,"$instance_exec",j=function(a){var b,e=this,f=j._p,g=f||c;a=d.call(arguments,0),j._p=null,((b=g)===!1||b===c)&&n.Kernel.$raise(n.ArgumentError,"no block given");var h,i=g._s;return g._s=null,h=g.apply(e,a),g._s=i,h}),a.defn(l,"$method_missing",k=function(a,b){k._p;return b=d.call(arguments,1),k._p=null,n.Kernel.$raise(n.NoMethodError,"undefined method `"+a+"' for BasicObject instance")}),c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.gvars;return function(b){var h,i,j,k,l,m,n,o,p=f(b,"Kernel"),q=p._proto,r=p._scope;q.$method_missing=h=function(a,b){{var c=this;h._p}return b=e.call(arguments,1),h._p=null,c.$raise(r.NoMethodError,"undefined method `"+a+"' for "+c.$inspect())},q["$=~"]=function(){return!1},q["$==="]=function(a){var b=this;return b["$=="](a)},q["$<=>"]=function(a){var b=this;return b["$=="](a)?0:c},q.$method=function(a){var b=this,c=b["$"+a];return(!c||c.rb_stub)&&b.$raise(r.NameError,"undefined method `"+a+"' for class `"+b.$class().$name()+"'"),r.Method.$new(b,c,a)},q.$methods=function(b){var d=this;null==b&&(b=!0);var e=[];for(var f in d)if("$"==f[0]&&"function"==typeof d[f]){if((0==b||b===c)&&!a.hasOwnProperty.call(d,f))continue;e.push(f.substr(1))}return e},q.$Array=i=function(a,b){i._p;return b=e.call(arguments,1),i._p=null,null==a||a===c?[]:a["$respond_to?"]("to_ary")?a.$to_ary():a["$respond_to?"]("to_a")?a.$to_a():[a]},q.$caller=function(){return[]},q.$class=function(){var a=this;return a._klass},q.$copy_instance_variables=function(a){var b=this;for(var c in a)"$"!==c.charAt(0)&&"_id"!==c&&"_klass"!==c&&(b[c]=a[c])},q.$clone=function(){var a=this,b=c;return b=a.$class().$allocate(),b.$copy_instance_variables(a),b.$initialize_clone(a),b},q.$initialize_clone=function(a){var b=this;return b.$initialize_copy(a)},p.$private("initialize_clone"),q.$define_singleton_method=j=function(a){var b,d=this,e=j._p,f=e||c;j._p=null,((b=f)===!1||b===c)&&d.$raise(r.ArgumentError,"tried to create Proc object without a block");var g="$"+a;return f._jsid=a,f._s=null,f._def=f,d.$singleton_class()._proto[g]=f,d},q.$dup=function(){var a=this,b=c;return b=a.$class().$allocate(),b.$copy_instance_variables(a),b.$initialize_dup(a),b},q.$initialize_dup=function(a){var b=this;return b.$initialize_copy(a)},p.$private("initialize_dup"),q.$enum_for=k=function(a,b){var d,f,g=this,h=k._p,i=h||c;return b=e.call(arguments,1),null==a&&(a="each"),k._p=null,(d=(f=r.Enumerator).$for,d._p=i.$to_proc(),d).apply(f,[g,a].concat(b))},q["$equal?"]=function(a){var b=this;return b===a},q.$extend=function(a){var b=this;a=e.call(arguments,0);for(var c=0,d=a.length;d>c;c++)b.$singleton_class().$include(a[c]);return b},q.$format=function(a,b){b=e.call(arguments,1);var c=0;return a.replace(/%(\d+\$)?([-+ 0]*)(\d*|\*(\d+\$)?)(?:\.(\d*|\*(\d+\$)?))?([cspdiubBoxXfgeEG])|(%%)/g,function(a,d,e,f,g,h,i,j,k){if(k)return"%";var l,m,n,o=-1!="diubBoxX".indexOf(j),p=-1!="eEfgG".indexOf(j),q="";if(void 0===f)l=void 0;else if("*"==f.charAt(0)){var r=c++;g&&(r=parseInt(g,10)-1),l=b[r].$to_i()}else l=parseInt(f,10);if(h)if("*"==h.charAt(0)){var s=c++;i&&(s=parseInt(i,10)-1),m=b[s].$to_i()}else m=parseInt(h,10);else m=p?6:void 0;switch(d&&(c=parseInt(d,10)-1),j){case"c":n=b[c],a=n._isString?n.charAt(0):String.fromCharCode(n.$to_i());break;case"s":a=b[c].$to_s(),void 0!==m&&(a=a.substr(0,m));break;case"p":a=b[c].$inspect(),void 0!==m&&(a=a.substr(0,m));break;case"d":case"i":case"u":a=b[c].$to_i().toString();break;case"b":case"B":a=b[c].$to_i().toString(2);break;case"o":a=b[c].$to_i().toString(8);break;case"x":case"X":a=b[c].$to_i().toString(16);break;case"e":case"E":a=b[c].$to_f().toExponential(m);break;case"f":a=b[c].$to_f().toFixed(m);break;case"g":case"G":a=b[c].$to_f().toPrecision(m)}c++,(o||p)&&("-"==a.charAt(0)?(q="-",a=a.substr(1)):-1!=e.indexOf("+")?q="+":-1!=e.indexOf(" ")&&(q=" ")),o&&void 0!==m&&a.length<m&&(a="0"["$*"](m-a.length)+a);var t=q.length+a.length;if(void 0!==l&&l>t)if(-1!=e.indexOf("-"))a+=" "["$*"](l-t);else{-1!=e.indexOf("0")?a="0"["$*"](l-t)+a:q=" "["$*"](l-t)+q}var u=q+a;return-1!="XEG".indexOf(j)&&(u=u.toUpperCase()),u})},q.$hash=function(){var a=this;return a._id},q.$initialize_copy=function(){return c},q.$inspect=function(){var a=this;return a.$to_s()},q["$instance_of?"]=function(a){var b=this;return b._klass===a},q["$instance_variable_defined?"]=function(a){var b=this;return b.hasOwnProperty(a.substr(1))},q.$instance_variable_get=function(a){var b=this,d=b[a.substr(1)];return null==d?c:d},q.$instance_variable_set=function(a,b){var c=this;return c[a.substr(1)]=b},q.$instance_variables=function(){var a=this,b=[];for(var c in a)"$"!==c.charAt(0)&&"_klass"!==c&&"_id"!==c&&b.push("@"+c);return b},q.$Integer=function(a,b){var d,e,f=this,g=c;return null==b&&(b=c),(d=r.String["$==="](a))!==!1&&d!==c?((d=a["$empty?"]())!==!1&&d!==c&&f.$raise(r.ArgumentError,"invalid value for Integer: (empty string)"),parseInt(a,(d=b)!==!1&&d!==c?d:void 0)):(b!==!1&&b!==c&&f.$raise(f.$ArgumentError("base is only valid for String values")),function(){return g=a,r.Integer["$==="](g)?a:r.Float["$==="](g)?((d=(e=a["$nan?"]())!==!1&&e!==c?e:a["$infinite?"]())!==!1&&d!==c&&f.$raise(r.FloatDomainError,"unable to coerce "+a+" to Integer"),a.$to_int()):r.NilClass["$==="](g)?f.$raise(r.TypeError,"can't convert nil into Integer"):(d=a["$respond_to?"]("to_int"))!==!1&&d!==c?a.$to_int():(d=a["$respond_to?"]("to_i"))!==!1&&d!==c?a.$to_i():f.$raise(r.TypeError,"can't convert "+a.$class()+" into Integer")}())},q.$Float=function(a){var b,d=this;return(b=r.String["$==="](a))!==!1&&b!==c?parseFloat(a):(b=a["$respond_to?"]("to_f"))!==!1&&b!==c?a.$to_f():d.$raise(r.TypeError,"can't convert "+a.$class()+" into Float")},q["$is_a?"]=function(b){var c=this;return a.is_a(c,b)},a.defn(p,"$kind_of?",q["$is_a?"]),q.$lambda=l=function(){var a=l._p,b=a||c;return l._p=null,b.is_lambda=!0,b},q.$loop=m=function(){var a=this,b=m._p,e=b||c;for(m._p=null;;)if(e()===d)return d.$v;return a},q["$nil?"]=function(){return!1},a.defn(p,"$object_id",q.$__id__),q.$printf=function(a){var b,d=this;return a=e.call(arguments,0),a.$length()["$>"](0)&&d.$print((b=d).$format.apply(b,[].concat(a))),c},q.$private_methods=function(){return[]},q.$proc=n=function(){var a,b=this,d=n._p,e=d||c;return n._p=null,((a=e)===!1||a===c)&&b.$raise(r.ArgumentError,"tried to create Proc object without a block"),e.is_lambda=!1,e},q.$puts=function(a){var b;return a=e.call(arguments,0),(b=g.stdout).$puts.apply(b,[].concat(a))},q.$p=function(a){var b,d,f,h=this;return a=e.call(arguments,0),(b=(d=a).$each,b._p=(f=function(a){f._s||this;return null==a&&(a=c),g.stdout.$puts(a.$inspect())},f._s=h,f),b).call(d),a.$length()["$<="](1)?a["$[]"](0):a},a.defn(p,"$print",q.$puts),q.$warn=function(a){var b,d;return a=e.call(arguments,0),((b=(d=g.VERBOSE["$nil?"]())!==!1&&d!==c?d:a["$empty?"]())===!1||b===c)&&(b=g.stderr).$puts.apply(b,[].concat(a)),c},q.$raise=function(a,b){throw null==a&&g["!"]?a=g["!"]:a._isString?a=r.RuntimeError.$new(a):a["$is_a?"](r.Exception)||(a=a.$new(b)),a},a.defn(p,"$fail",q.$raise),q.$rand=function(a){var b=this;if(void 0===a)return Math.random();if(a._isRange){var c=a.$to_a();return c[b.$rand(c.length)]}return Math.floor(Math.random()*Math.abs(r.Opal.$coerce_to(a,r.Integer,"to_int")))},a.defn(p,"$srand",q.$rand),q["$respond_to?"]=function(a,b){var c=this;null==b&&(b=!1);var d=c["$"+a];return!!d&&!d.rb_stub},a.defn(p,"$send",q.$__send__),a.defn(p,"$public_send",q.$__send__),q.$singleton_class=function(){var b=this;if(b._isClass){if(b.__meta__)return b.__meta__;var c=new a.Class._alloc;return c._klass=a.Class,b.__meta__=c,c._proto=b.constructor.prototype,c._isSingleton=!0,c.__inc__=[],c._methods=[],c._scope=b._scope,c}if(b._isClass)return b._klass;if(b.__meta__)return b.__meta__;var d=b._klass,e="#<Class:#<"+d._name+":"+d._id+">>",f=function(){},c=Opal.boot(d,f);return c._name=e,c._proto=b,b.__meta__=c,c._klass=d._klass,c._scope=d._scope,c.__parent=d,c},a.defn(p,"$sprintf",q.$format),q.$String=function(a){return String(a)},q.$tap=o=function(){var b=this,e=o._p,f=e||c;return o._p=null,a.$yield1(f,b)===d?d.$v:b},q.$to_proc=function(){var a=this;return a},q.$to_s=function(){var a=this;return"#<"+a.$class().$name()+":"+a._id+">"},q.$freeze=function(){var a=this;return a.___frozen___=!0,a},q["$frozen?"]=function(){var a,b=this;return null==b.___frozen___&&(b.___frozen___=c),(a=b.___frozen___)!==!1&&a!==c?a:!1},q["$respond_to_missing?"]=function(){return!1},a.donate(p,["$method_missing","$=~","$===","$<=>","$method","$methods","$Array","$caller","$class","$copy_instance_variables","$clone","$initialize_clone","$define_singleton_method","$dup","$initialize_dup","$enum_for","$equal?","$extend","$format","$hash","$initialize_copy","$inspect","$instance_of?","$instance_variable_defined?","$instance_variable_get","$instance_variable_set","$instance_variables","$Integer","$Float","$is_a?","$kind_of?","$lambda","$loop","$nil?","$object_id","$printf","$private_methods","$proc","$puts","$p","$print","$warn","$raise","$fail","$rand","$srand","$respond_to?","$send","$public_send","$singleton_class","$sprintf","$String","$tap","$to_proc","$to_s","$freeze","$frozen?","$respond_to_missing?"])}(b)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(b,c){function f(){}var g=f=e(b,c,"NilClass",f),h=f._proto,i=f._scope;return h["$&"]=function(){return!1},h["$|"]=function(a){return a!==!1&&a!==d},h["$^"]=function(a){return a!==!1&&a!==d},h["$=="]=function(a){return a===d},h.$dup=function(){var a=this;return a.$raise(i.TypeError)},h.$inspect=function(){return"nil"},h["$nil?"]=function(){return!0},h.$singleton_class=function(){return i.NilClass},h.$to_a=function(){return[]},h.$to_h=function(){return a.hash()},h.$to_i=function(){return 0},a.defn(g,"$to_f",h.$to_i),h.$to_s=function(){return""},h.$object_id=function(){return i.NilClass._id||(i.NilClass._id=a.uid())},a.defn(g,"$hash",h.$object_id)}(b,null),a.cdecl(c,"NIL",d)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(b,c){function f(){}{var g=f=e(b,c,"Boolean",f),h=f._proto;f._scope}return h._isBoolean=!0,function(a){a._scope,a._proto;return a.$undef_method("new")}(g.$singleton_class()),h["$&"]=function(a){var b=this;return 1==b?a!==!1&&a!==d:!1},h["$|"]=function(a){var b=this;return 1==b?!0:a!==!1&&a!==d},h["$^"]=function(a){var b=this;return 1==b?a===!1||a===d:a!==!1&&a!==d},h["$=="]=function(a){var b=this;return 1==b===a.valueOf()},a.defn(g,"$equal?",h["$=="]),a.defn(g,"$singleton_class",h.$class),h.$to_s=function(){var a=this;return 1==a?"true":"false"},d}(b,null),a.cdecl(c,"TrueClass",c.Boolean),a.cdecl(c,"FalseClass",c.Boolean),a.cdecl(c,"TRUE",!0),a.cdecl(c,"FALSE",!1)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass),f=a.module;return function(b,c){function f(){}{var g=f=e(b,c,"Exception",f),h=f._proto;f._scope}return h.message=d,g.$attr_reader("message"),a.defs(g,"$new",function(a){var b=this;null==a&&(a="");var c=new Error(a);return c._klass=b,c.name=b._name,c}),h.$backtrace=function(){var a=this,b=a.stack;return"string"==typeof b?b.split("\n").slice(0,15):b?b.slice(0,15):[]},h.$inspect=function(){var a=this;return"#<"+a.$class().$name()+": '"+a.message+"'>"},a.defn(g,"$to_s",h.$message)}(b,null),function(a,b){function c(){}c=e(a,b,"StandardError",c),c._proto,c._scope;return d}(b,c.Exception),function(a,b){function c(){}c=e(a,b,"SystemCallError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"NameError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"NoMethodError",c),c._proto,c._scope;return d}(b,c.NameError),function(a,b){function c(){}c=e(a,b,"RuntimeError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"LocalJumpError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"TypeError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"ArgumentError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"IndexError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"StopIteration",c),c._proto,c._scope;return d}(b,c.IndexError),function(a,b){function c(){}c=e(a,b,"KeyError",c),c._proto,c._scope;return d}(b,c.IndexError),function(a,b){function c(){}c=e(a,b,"RangeError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"FloatDomainError",c),c._proto,c._scope;return d}(b,c.RangeError),function(a,b){function c(){}c=e(a,b,"IOError",c),c._proto,c._scope;return d}(b,c.StandardError),function(a,b){function c(){}c=e(a,b,"ScriptError",c),c._proto,c._scope;return d}(b,c.Exception),function(a,b){function c(){}c=e(a,b,"SyntaxError",c),c._proto,c._scope;return d}(b,c.ScriptError),function(a,b){function c(){}c=e(a,b,"NotImplementedError",c),c._proto,c._scope;return d}(b,c.ScriptError),function(a,b){function c(){}c=e(a,b,"SystemExit",c),c._proto,c._scope;return d}(b,c.Exception),function(b){var c=f(b,"Errno"),g=(c._proto,c._scope);!function(b,c){function f(){}{var g,h=f=e(b,c,"EINVAL",f);f._proto,f._scope}return a.defs(h,"$new",g=function(){{var b=this;g._p}return g._p=null,a.find_super_dispatcher(b,"new",g,null,f).apply(b,["Invalid argument"])}),d}(c,g.SystemCallError)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass,f=a.gvars;return function(b,g){function h(){}var i=h=e(b,g,"Regexp",h),j=h._proto,k=h._scope;return j._isRegexp=!0,a.defs(i,"$escape",function(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\^\$\| ]/g,"\\$&")}),a.defs(i,"$union",function(a){return a=d.call(arguments,0),new RegExp(a.join(""))}),a.defs(i,"$new",function(a,b){return new RegExp(a,b)}),j["$=="]=function(a){var b=this;return a.constructor==RegExp&&b.toString()===a.toString()},j["$==="]=function(a){var b,d,e=this;return d=null==a._isString,(b=d!==!1&&d!==c?a["$respond_to?"]("to_str"):d)!==!1&&b!==c&&(a=a.$to_str()),(b=null==a._isString)!=!1&&b!==c?!1:e.test(a)},j["$=~"]=function(a){var b,d=this;if((b=a===c)!=!1&&b!==c)return f["~"]=f["`"]=f["'"]=c,c;a=k.Opal.$coerce_to(a,k.String,"to_str").$to_s();var e=d;e.global?e.lastIndex=0:e=new RegExp(e.source,"g"+(e.multiline?"m":"")+(e.ignoreCase?"i":""));var g=e.exec(a);return f["~"]=g?k.MatchData.$new(e,g):f["`"]=f["'"]=c,g?g.index:c},a.defn(i,"$eql?",j["$=="]),j.$inspect=function(){var a=this;return a.toString()},j.$match=function(a){var b,d=this;if((b=a===c)!=!1&&b!==c)return f["~"]=f["`"]=f["'"]=c,c;(b=null==a._isString)!=!1&&b!==c&&(((b=a["$respond_to?"]("to_str"))===!1||b===c)&&d.$raise(k.TypeError,"no implicit conversion of "+a.$class()+" into String"),a=a.$to_str());var e=d;e.global?e.lastIndex=0:e=new RegExp(e.source,"g"+(e.multiline?"m":"")+(e.ignoreCase?"i":""));var g=e.exec(a);return f["~"]=g?k.MatchData.$new(e,g):f["`"]=f["'"]=c},j.$source=function(){var a=this;return a.source},a.defn(i,"$to_s",j.$source)}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module);return function(b){var e=d(b,"Comparable"),f=e._proto,g=e._scope;a.defs(e,"$normalize",function(a){var b;return(b=g.Integer["$==="](a))!==!1&&b!==c?a:a["$>"](0)?1:a["$<"](0)?-1:0}),f["$=="]=function(a){var b,d=this,e=c;try{return(b=d["$equal?"](a))!==!1&&b!==c?!0:(b=e=d["$<=>"](a))===!1||b===c?!1:g.Comparable.$normalize(e)["$=="](0)}catch(f){if(g.StandardError["$==="](f))return!1;throw f}},f["$>"]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===!1||b===c)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$>"](0)},f["$>="]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===!1||b===c)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$>="](0)},f["$<"]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===!1||b===c)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$<"](0)},f["$<="]=function(a){var b,d=this,e=c;return((b=e=d["$<=>"](a))===!1||b===c)&&d.$raise(g.ArgumentError,"comparison of "+d.$class()+" with "+a.$class()+" failed"),g.Comparable.$normalize(e)["$<="](0)},f["$between?"]=function(a,b){var c=this;return c["$<"](a)?!1:c["$>"](b)?!1:!0},a.donate(e,["$==","$>","$>=","$<","$<=","$between?"])}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module;return function(b){var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O=f(b,"Enumerable"),P=O._proto,Q=O._scope;
P["$all?"]=g=function(){var b,e=this,f=g._p,h=f||c;g._p=null;var i=!0;return e.$each._p=h!==c?function(){var e=a.$yieldX(h,arguments);return e===d?(i=d.$v,d):(b=e)===!1||b===c?(i=!1,d):void 0}:function(a){return 1==arguments.length&&(b=a)===!1||b===c?(i=!1,d):void 0},e.$each(),i},P["$any?"]=h=function(){var b,e=this,f=h._p,g=f||c;h._p=null;var i=!1;return e.$each._p=g!==c?function(){var e=a.$yieldX(g,arguments);return e===d?(i=d.$v,d):(b=e)!==!1&&b!==c?(i=!0,d):void 0}:function(a){return 1!=arguments.length||(b=a)!==!1&&b!==c?(i=!0,d):void 0},e.$each(),i},P.$chunk=i=function(){{var a=this;i._p}return i._p=null,a.$raise(Q.NotImplementedError)},P.$collect=j=function(){var b=this,e=j._p,f=e||c;if(j._p=null,f===c)return b.$enum_for("collect");var g=[];return b.$each._p=function(){var b=a.$yieldX(f,arguments);return b===d?(g=d.$v,d):void g.push(b)},b.$each(),g},P.$collect_concat=k=function(){{var a=this;k._p}return k._p=null,a.$raise(Q.NotImplementedError)},P.$count=l=function(b){var e,f=this,g=l._p,h=g||c;l._p=null;var i=0;return null!=b?h=function(){return Q.Opal.$destructure(arguments)["$=="](b)}:h===c&&(h=function(){return!0}),f.$each._p=function(){var b=a.$yieldX(h,arguments);return b===d?(i=d.$v,d):void((e=b)!==!1&&e!==c&&i++)},f.$each(),i},P.$cycle=m=function(b){var e,f=this,g=m._p,h=g||c;if(null==b&&(b=c),m._p=null,(e=h)===!1||e===c)return f.$enum_for("cycle",b);if(((e=b["$nil?"]())===!1||e===c)&&(b=Q.Opal["$coerce_to!"](b,Q.Integer,"to_int"),(e=0>=b)!=!1&&e!==c))return c;var i,j=[];if(f.$each._p=function(){var b=Q.Opal.$destructure(arguments),c=a.$yield1(h,b);return c===d?(i=d.$v,d):void j.push(b)},f.$each(),void 0!==i)return i;if(0===j.length)return c;if((e=b["$nil?"]())!==!1&&e!==c)for(;;)for(var k=0,l=j.length;l>k;k++){var n=a.$yield1(h,j[k]);if(n===d)return d.$v}else for(;b>1;){for(var k=0,l=j.length;l>k;k++){var n=a.$yield1(h,j[k]);if(n===d)return d.$v}b--}},P.$detect=n=function(b){var e,f=this,g=n._p,h=g||c;if(n._p=null,h===c)return f.$enum_for("detect",b);var i=void 0;return f.$each._p=function(){var b=Q.Opal.$destructure(arguments),f=a.$yield1(h,b);return f===d?(i=d.$v,d):(e=f)!==!1&&e!==c?(i=b,d):void 0},f.$each(),void 0===i&&void 0!==b&&(i="function"==typeof b?b():b),void 0===i?c:i},P.$drop=function(a){var b,d=this;a=Q.Opal.$coerce_to(a,Q.Integer,"to_int"),(b=0>a)!=!1&&b!==c&&d.$raise(Q.ArgumentError,"attempt to drop negative size");var e=[],f=0;return d.$each._p=function(){f>=a&&e.push(Q.Opal.$destructure(arguments)),f++},d.$each(),e},P.$drop_while=o=function(){var b,e=this,f=o._p,g=f||c;if(o._p=null,g===c)return e.$enum_for("drop_while");var h=[],i=!0;return e.$each._p=function(){var e=Q.Opal.$destructure(arguments);if(i){var f=a.$yield1(g,e);if(f===d)return h=d.$v,d;((b=f)===!1||b===c)&&(i=!1,h.push(e))}else h.push(e)},e.$each(),h},P.$each_cons=p=function(){{var a=this;p._p}return p._p=null,a.$raise(Q.NotImplementedError)},P.$each_entry=q=function(){{var a=this;q._p}return q._p=null,a.$raise(Q.NotImplementedError)},P.$each_slice=r=function(a){var b,e=this,f=r._p,g=f||c;if(r._p=null,a=Q.Opal.$coerce_to(a,Q.Integer,"to_int"),(b=0>=a)!=!1&&b!==c&&e.$raise(Q.ArgumentError,"invalid slice size"),g===c)return e.$enum_for("each_slice",a);var h,i=[];return e.$each._p=function(){var b=Q.Opal.$destructure(arguments);if(i.push(b),i.length===a){if(g(i)===d)return h=d.$v,d;i=[]}},e.$each(),void 0!==h?h:i.length>0&&g(i)===d?d.$v:c},P.$each_with_index=s=function(a){var b,f=this,g=s._p,h=g||c;if(a=e.call(arguments,0),s._p=null,h===c)return(b=f).$enum_for.apply(b,["each_with_index"].concat(a));var i,j=0;return f.$each._p=function(){var a=Q.Opal.$destructure(arguments),b=h(a,j);return b===d?(i=d.$v,d):void j++},f.$each.apply(f,a),void 0!==i?i:f},P.$each_with_object=t=function(a){var b=this,e=t._p,f=e||c;if(t._p=null,f===c)return b.$enum_for("each_with_object",a);var g;return b.$each._p=function(){var b=Q.Opal.$destructure(arguments),c=f(b,a);return c===d?(g=d.$v,d):void 0},b.$each(),void 0!==g?g:a},P.$entries=function(a){var b=this;a=e.call(arguments,0);var c=[];return b.$each._p=function(){c.push(Q.Opal.$destructure(arguments))},b.$each.apply(b,a),c},a.defn(O,"$find",P.$detect),P.$find_all=u=function(){var b,e=this,f=u._p,g=f||c;if(u._p=null,g===c)return e.$enum_for("find_all");var h=[];return e.$each._p=function(){var e=Q.Opal.$destructure(arguments),f=a.$yield1(g,e);return f===d?(h=d.$v,d):void((b=f)!==!1&&b!==c&&h.push(e))},e.$each(),h},P.$find_index=v=function(b){var e,f=this,g=v._p,h=g||c;if(v._p=null,(e=void 0===b&&h===c)!=!1&&e!==c)return f.$enum_for("find_index");var i=c,j=0;return null!=b?f.$each._p=function(){var a=Q.Opal.$destructure(arguments);return a["$=="](b)?(i=j,d):void(j+=1)}:h!==c&&(f.$each._p=function(){var b=a.$yieldX(h,arguments);return b===d?(i=d.$v,d):(e=b)!==!1&&e!==c?(i=j,d):void(j+=1)}),f.$each(),i},P.$first=function(a){var b,e=this,f=c;if((b=void 0===a)!=!1&&b!==c)f=c,e.$each._p=function(){return f=Q.Opal.$destructure(arguments),d},e.$each();else{if(f=[],a=Q.Opal.$coerce_to(a,Q.Integer,"to_int"),(b=0>a)!=!1&&b!==c&&e.$raise(Q.ArgumentError,"attempt to take negative size"),(b=0==a)!=!1&&b!==c)return[];var g=0,a=Q.Opal.$coerce_to(a,Q.Integer,"to_int");e.$each._p=function(){return f.push(Q.Opal.$destructure(arguments)),a<=++g?d:void 0},e.$each()}return f},a.defn(O,"$flat_map",P.$collect_concat),P.$grep=w=function(b){var e,f=this,g=w._p,h=g||c;w._p=null;var i=[];return f.$each._p=h!==c?function(){var f=Q.Opal.$destructure(arguments),g=b["$==="](f);if((e=g)!==!1&&e!==c){if(g=a.$yield1(h,f),g===d)return i=d.$v,d;i.push(g)}}:function(){var a=Q.Opal.$destructure(arguments),d=b["$==="](a);(e=d)!==!1&&e!==c&&i.push(a)},f.$each(),i},P.$group_by=x=function(){var b,e,f,g=this,h=x._p,i=h||c,j=c;if(x._p=null,i===c)return g.$enum_for("group_by");j=Q.Hash.$new();var k;return g.$each._p=function(){var g=Q.Opal.$destructure(arguments),h=a.$yield1(i,g);return h===d?(k=d.$v,d):void(b=h,e=j,(f=e["$[]"](b))!==!1&&f!==c?f:e["$[]="](b,[]))["$<<"](g)},g.$each(),void 0!==k?k:j},P["$include?"]=function(a){var b=this,c=!1;return b.$each._p=function(){var b=Q.Opal.$destructure(arguments);return b["$=="](a)?(c=!0,d):void 0},b.$each(),c},P.$opalInject=y=function(b,e){var f=this,g=y._p,h=g||c;y._p=null;var i=b;return h!==c&&void 0===e?f.$each._p=function(){var b=Q.Opal.$destructure(arguments);return void 0===i?void(i=b):(b=a.$yieldX(h,[i,b]),b===d?(i=d.$v,d):void(i=b))}:(void 0===e&&(Q.Symbol["$==="](b)||f.$raise(Q.TypeError,""+b.$inspect()+" is not a Symbol"),e=b,i=void 0),f.$each._p=function(){var a=Q.Opal.$destructure(arguments);return void 0===i?void(i=a):void(i=i.$__send__(e,a))}),f.$each(),i},P.$lazy=function(){var a,b,d,f=this;return(a=(b=Q.Enumerator._scope.Lazy).$new,a._p=(d=function(a,b){{var f;d._s||this}return null==a&&(a=c),b=e.call(arguments,1),(f=a).$yield.apply(f,[].concat(b))},d._s=f,d),a).call(b,f,f.$enumerator_size())},P.$enumerator_size=function(){var a,b=this;return(a=b["$respond_to?"]("size"))!==!1&&a!==c?b.$size():c},O.$private("enumerator_size"),a.defn(O,"$map",P.$collect),P.$max=z=function(){var a=this,b=z._p,e=b||c;z._p=null;var f;return a.$each._p=e!==c?function(){var b=Q.Opal.$destructure(arguments);if(void 0===f)return void(f=b);var g=e(b,f);return g===d?(f=d.$v,d):(g===c&&a.$raise(Q.ArgumentError,"comparison failed"),void(g>0&&(f=b)))}:function(){var a=Q.Opal.$destructure(arguments);return void 0===f?void(f=a):void(Q.Opal.$compare(a,f)>0&&(f=a))},a.$each(),void 0===f?c:f},P.$max_by=A=function(){var b,e=this,f=A._p,g=f||c;if(A._p=null,(b=g)===!1||b===c)return e.$enum_for("max_by");var h,i;return e.$each._p=function(){var b=Q.Opal.$destructure(arguments),c=a.$yield1(g,b);return void 0===h?(h=b,void(i=c)):c===d?(h=d.$v,d):void(c["$<=>"](i)>0&&(h=b,i=c))},e.$each(),void 0===h?c:h},a.defn(O,"$member?",P["$include?"]),P.$min=B=function(){var a=this,b=B._p,e=b||c;B._p=null;var f;return a.$each._p=e!==c?function(){var b=Q.Opal.$destructure(arguments);if(void 0===f)return void(f=b);var g=e(b,f);return g===d?(f=d.$v,d):(g===c&&a.$raise(Q.ArgumentError,"comparison failed"),void(0>g&&(f=b)))}:function(){var a=Q.Opal.$destructure(arguments);return void 0===f?void(f=a):void(Q.Opal.$compare(a,f)<0&&(f=a))},a.$each(),void 0===f?c:f},P.$min_by=C=function(){var b,e=this,f=C._p,g=f||c;if(C._p=null,(b=g)===!1||b===c)return e.$enum_for("min_by");var h,i;return e.$each._p=function(){var b=Q.Opal.$destructure(arguments),c=a.$yield1(g,b);return void 0===h?(h=b,void(i=c)):c===d?(h=d.$v,d):void(c["$<=>"](i)<0&&(h=b,i=c))},e.$each(),void 0===h?c:h},P.$minmax=D=function(){{var a=this;D._p}return D._p=null,a.$raise(Q.NotImplementedError)},P.$minmax_by=E=function(){{var a=this;E._p}return E._p=null,a.$raise(Q.NotImplementedError)},P["$none?"]=F=function(){var b,e=this,f=F._p,g=f||c;F._p=null;var h=!0;return e.$each._p=g!==c?function(){var e=a.$yieldX(g,arguments);return e===d?(h=d.$v,d):(b=e)!==!1&&b!==c?(h=!1,d):void 0}:function(){var a=Q.Opal.$destructure(arguments);return(b=a)!==!1&&b!==c?(h=!1,d):void 0},e.$each(),h},P["$one?"]=G=function(){var b,e=this,f=G._p,g=f||c;G._p=null;var h=!1;return e.$each._p=g!==c?function(){var e=a.$yieldX(g,arguments);if(e===d)return h=d.$v,d;if((b=e)!==!1&&b!==c){if(h===!0)return h=!1,d;h=!0}}:function(){var a=Q.Opal.$destructure(arguments);if((b=a)!==!1&&b!==c){if(h===!0)return h=!1,d;h=!0}},e.$each(),h},P.$partition=H=function(){{var a=this;H._p}return H._p=null,a.$raise(Q.NotImplementedError)},a.defn(O,"$reduce",P.$opalInject),P.$reverse_each=I=function(){{var a=this;I._p}return I._p=null,a.$raise(Q.NotImplementedError)},a.defn(O,"$select",P.$find_all),P.$slice_before=J=function(b){var d,e,f,g=this,h=J._p,i=h||c;return J._p=null,(d=void 0===b&&i===c||arguments.length>1)!=!1&&d!==c&&g.$raise(Q.ArgumentError,"wrong number of arguments ("+arguments.length+" for 1)"),(d=(e=Q.Enumerator).$new,d._p=(f=function(d){var e,g=f._s||this;null==d&&(d=c);var h=[];g.$each._p=i!==c?void 0===b?function(){var b=Q.Opal.$destructure(arguments),f=a.$yield1(i,b);(e=f)!==!1&&e!==c&&h.length>0&&(d["$<<"](h),h=[]),h.push(b)}:function(){var a=Q.Opal.$destructure(arguments),f=i(a,b.$dup());(e=f)!==!1&&e!==c&&h.length>0&&(d["$<<"](h),h=[]),h.push(a)}:function(){var a=Q.Opal.$destructure(arguments),f=b["$==="](a);(e=f)!==!1&&e!==c&&h.length>0&&(d["$<<"](h),h=[]),h.push(a)},g.$each(),h.length>0&&d["$<<"](h)},f._s=g,f),d).call(e)},P.$sort=K=function(){{var a=this;K._p}return K._p=null,a.$raise(Q.NotImplementedError)},P.$sort_by=L=function(){var a,b,d,e,f,g,h,i,j,k=this,l=L._p,m=l||c;return L._p=null,m===c?k.$enum_for("sort_by"):(a=(b=(e=(f=(h=(i=k).$map,h._p=(j=function(){j._s||this;return arg=Q.Opal.$destructure(arguments),[m.$call(arg),arg]},j._s=k,j),h).call(i)).$sort,e._p=(g=function(a,b){g._s||this;return null==a&&(a=c),null==b&&(b=c),a["$[]"](0)["$<=>"](b["$[]"](0))},g._s=k,g),e).call(f)).$map,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a[1]},d._s=k,d),a).call(b)},P.$take=function(a){var b=this;return b.$first(a)},P.$take_while=M=function(){var b,e=this,f=M._p,g=f||c;if(M._p=null,(b=g)===!1||b===c)return e.$enum_for("take_while");var h=[];return e.$each._p=function(){var e=Q.Opal.$destructure(arguments),f=a.$yield1(g,e);return f===d?(h=d.$v,d):(b=f)===!1||b===c?d:void h.push(e)},e.$each(),h},a.defn(O,"$to_a",P.$entries),P.$zip=N=function(a){{var b=this;N._p}return a=e.call(arguments,0),N._p=null,b.$raise(Q.NotImplementedError)},a.donate(O,["$all?","$any?","$chunk","$collect","$collect_concat","$count","$cycle","$detect","$drop","$drop_while","$each_cons","$each_entry","$each_slice","$each_with_index","$each_with_object","$entries","$find","$find_all","$find_index","$first","$flat_map","$grep","$group_by","$include?","$opalInject","$lazy","$enumerator_size","$map","$max","$max_by","$member?","$min","$min_by","$minmax","$minmax_by","$none?","$one?","$partition","$reduce","$reverse_each","$select","$slice_before","$sort","$sort_by","$take","$take_while","$to_a","$zip"])}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return function(b,g){function h(){}var i,j,k,l,m=h=f(b,g,"Enumerator",h),n=h._proto,o=h._scope;return n.size=n.object=n.method=n.args=c,m.$include(o.Enumerable),a.defs(m,"$for",i=function(a,b,d){var f=this,g=i._p,h=g||c;d=e.call(arguments,2),null==b&&(b="each"),i._p=null;var j=f.$allocate();return j.object=a,j.size=h,j.method=b,j.args=d,j}),n.$initialize=j=function(){var a,b,d=this,f=j._p,g=f||c;return j._p=null,g!==!1&&g!==c?(d.object=(a=(b=o.Generator).$new,a._p=g.$to_proc(),a).call(b),d.method="each",d.args=[],d.size=arguments[0]||c,(a=d.size)!==!1&&a!==c?d.size=o.Opal.$coerce_to(d.size,o.Integer,"to_int"):c):(d.object=arguments[0],d.method=arguments[1]||"each",d.args=e.call(arguments,2),d.size=c)},n.$each=k=function(){var a,b,d=this,e=k._p,f=e||c;return k._p=null,(a=f)===!1||a===c?d:(a=(b=d.object).$__send__,a._p=f.$to_proc(),a).apply(b,[d.method].concat(d.args))},n.$size=function(){var a,b=this;return(a=o.Proc["$==="](b.size))!==!1&&a!==c?(a=b.size).$call.apply(a,[].concat(b.args)):b.size},n.$with_index=l=function(a){var b,e=this,f=l._p,g=f||c;if(null==a&&(a=0),l._p=null,a=a!==!1&&a!==c?o.Opal.$coerce_to(a,o.Integer,"to_int"):0,(b=g)===!1||b===c)return e.$enum_for("with_index",a);var h;return e.$each._p=function(){var a=o.Opal.$destructure(arguments),b=g(a,index);return b===d?(h=d.$v,d):void index++},e.$each(),void 0!==h?h:void 0},a.defn(m,"$with_object",n.$each_with_object),n.$inspect=function(){var a,b=this,d=c;return d="#<"+b.$class().$name()+": "+b.object.$inspect()+":"+b.method,((a=b.args["$empty?"]())===!1||a===c)&&(d=d["$+"]("("+b.args.$inspect()["$[]"](o.Range.$new(1,-2))+")")),d["$+"](">")},function(b,g){function h(){}var i,j,k=h=f(b,g,"Generator",h),l=h._proto,m=h._scope;return l.block=c,k.$include(m.Enumerable),l.$initialize=i=function(){var a,b=this,d=i._p,e=d||c;return i._p=null,((a=e)===!1||a===c)&&b.$raise(m.LocalJumpError,"no block given"),b.block=e},l.$each=j=function(b){var f,g,h=this,i=j._p,k=i||c,l=c;b=e.call(arguments,0),j._p=null,l=(f=(g=m.Yielder).$new,f._p=k.$to_proc(),f).call(g);try{if(b.unshift(l),a.$yieldX(h.block,b)===d)return d.$v}catch(n){if(n===d)return d.$v;throw n}return h},c}(m,null),function(b,g){function h(){}{var i,j=(h=f(b,g,"Yielder",h),h._proto);h._scope}return j.block=c,j.$initialize=i=function(){var a=this,b=i._p,d=b||c;return i._p=null,a.block=d},j.$yield=function(b){var c=this;b=e.call(arguments,0);var f=a.$yieldX(c.block,b);if(f===d)throw d;return f},j["$<<"]=function(a){var b,c=this;return a=e.call(arguments,0),(b=c).$yield.apply(b,[].concat(a)),c},c}(m,null),function(b,g){function h(){}var i,j,k,l,m,n,o,p,q,r=h=f(b,g,"Lazy",h),s=h._proto,t=h._scope;return s.enumerator=c,function(a,b){function d(){}d=f(a,b,"StopLazyError",d),d._proto,d._scope;return c}(r,t.Exception),s.$initialize=i=function(b,f){var g,h=this,j=i._p,k=j||c;return null==f&&(f=c),i._p=null,k===c&&h.$raise(t.ArgumentError,"tried to call lazy new without a block"),h.enumerator=b,a.find_super_dispatcher(h,"initialize",i,(g=function(f,h){var i,j,l,m=g._s||this;null==f&&(f=c),h=e.call(arguments,1);try{return(i=(j=b).$each,i._p=(l=function(b){l._s||this;return b=e.call(arguments,0),b.unshift(f),a.$yieldX(k,b)===d?d:void 0},l._s=m,l),i).apply(j,[].concat(h))}catch(n){if(t.Exception["$==="](n))return c;throw n}},g._s=h,g)).apply(h,[f])},a.defn(r,"$force",s.$to_a),s.$lazy=function(){var a=this;return a},s.$collect=j=function(){var b,f,g,h=this,i=j._p,k=i||c;return j._p=null,((b=k)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy map without a block"),(b=(f=t.Lazy).$new,b._p=(g=function(b,f){g._s||this;null==b&&(b=c),f=e.call(arguments,1);var h=a.$yieldX(k,f);return h===d?d:void b.$yield(h)},g._s=h,g),b).call(f,h,h.$enumerator_size())},s.$collect_concat=k=function(){var b,f,g,h=this,i=k._p,j=i||c;return k._p=null,((b=j)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy map without a block"),(b=(f=t.Lazy).$new,b._p=(g=function(b,f){var h,i,k,l,m,n=g._s||this;null==b&&(b=c),f=e.call(arguments,1);var o=a.$yieldX(j,f);if(o===d)return d;if(o["$respond_to?"]("force")&&o["$respond_to?"]("each"))(h=(i=o).$each,h._p=(k=function(a){k._s||this;return null==a&&(a=c),b.$yield(a)},k._s=n,k),h).call(i);else{var p=t.Opal.$try_convert(o,t.Array,"to_ary");p===c?b.$yield(o):(h=(l=o).$each,h._p=(m=function(a){m._s||this;return null==a&&(a=c),b.$yield(a)},m._s=n,m),h).call(l)}},g._s=h,g),b).call(f,h,c)},s.$drop=function(a){var b,d,f,g=this,h=c,i=c,j=c;return a=t.Opal.$coerce_to(a,t.Integer,"to_int"),a["$<"](0)&&g.$raise(t.ArgumentError,"attempt to drop negative size"),h=g.$enumerator_size(),i=function(){return(b=t.Integer["$==="](h))!==!1&&b!==c?a["$<"](h)?a:h:h}(),j=0,(b=(d=t.Lazy).$new,b._p=(f=function(b,d){{var g;f._s||this}return null==b&&(b=c),d=e.call(arguments,1),j["$<"](a)?j=j["$+"](1):(g=b).$yield.apply(g,[].concat(d))},f._s=g,f),b).call(d,g,i)},s.$drop_while=l=function(){var b,f,g,h=this,i=l._p,j=i||c,k=c;return l._p=null,((b=j)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy drop_while without a block"),k=!0,(b=(f=t.Lazy).$new,b._p=(g=function(b,f){{var h,i;g._s||this}if(null==b&&(b=c),f=e.call(arguments,1),k===!1||k===c)return(i=b).$yield.apply(i,[].concat(f));var l=a.$yieldX(j,f);return l===d?d:void(((h=l)===!1||h===c)&&(k=!1,(h=b).$yield.apply(h,[].concat(f))))},g._s=h,g),b).call(f,h,c)},s.$enum_for=m=function(a,b){var d,f,g=this,h=m._p,i=h||c;return b=e.call(arguments,1),null==a&&(a="each"),m._p=null,(d=(f=g.$class()).$for,d._p=i.$to_proc(),d).apply(f,[g,a].concat(b))},s.$find_all=n=function(){var b,f,g,h=this,i=n._p,j=i||c;return n._p=null,((b=j)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy select without a block"),(b=(f=t.Lazy).$new,b._p=(g=function(b,f){{var h;g._s||this}null==b&&(b=c),f=e.call(arguments,1);var i=a.$yieldX(j,f);return i===d?d:void((h=i)!==!1&&h!==c&&(h=b).$yield.apply(h,[].concat(f)))},g._s=h,g),b).call(f,h,c)},a.defn(r,"$flat_map",s.$collect_concat),s.$grep=o=function(b){var f,g,h,i,j,k=this,l=o._p,m=l||c;return o._p=null,m!==!1&&m!==c?(f=(g=t.Lazy).$new,f._p=(h=function(f,g){{var i;h._s||this}null==f&&(f=c),g=e.call(arguments,1);var j=t.Opal.$destructure(g),k=b["$==="](j);if((i=k)!==!1&&i!==c){if(k=a.$yield1(m,j),k===d)return d;f.$yield(a.$yield1(m,j))}},h._s=k,h),f).call(g,k,c):(f=(i=t.Lazy).$new,f._p=(j=function(a,d){{var f;j._s||this}null==a&&(a=c),d=e.call(arguments,1);var g=t.Opal.$destructure(d),h=b["$==="](g);(f=h)!==!1&&f!==c&&a.$yield(g)},j._s=k,j),f).call(i,k,c)},a.defn(r,"$map",s.$collect),a.defn(r,"$select",s.$find_all),s.$reject=p=function(){var b,f,g,h=this,i=p._p,j=i||c;return p._p=null,((b=j)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy reject without a block"),(b=(f=t.Lazy).$new,b._p=(g=function(b,f){{var h;g._s||this}null==b&&(b=c),f=e.call(arguments,1);var i=a.$yieldX(j,f);return i===d?d:void(((h=i)===!1||h===c)&&(h=b).$yield.apply(h,[].concat(f)))},g._s=h,g),b).call(f,h,c)},s.$take=function(a){var b,d,f,g=this,h=c,i=c,j=c;return a=t.Opal.$coerce_to(a,t.Integer,"to_int"),a["$<"](0)&&g.$raise(t.ArgumentError,"attempt to take negative size"),h=g.$enumerator_size(),i=function(){return(b=t.Integer["$==="](h))!==!1&&b!==c?a["$<"](h)?a:h:h}(),j=0,(b=(d=t.Lazy).$new,b._p=(f=function(b,d){var g,h=f._s||this;return null==b&&(b=c),d=e.call(arguments,1),j["$<"](a)?((g=b).$yield.apply(g,[].concat(d)),j=j["$+"](1)):h.$raise(t.StopLazyError)},f._s=g,f),b).call(d,g,i)},s.$take_while=q=function(){var b,f,g,h=this,i=q._p,j=i||c;return q._p=null,((b=j)===!1||b===c)&&h.$raise(t.ArgumentError,"tried to call lazy take_while without a block"),(b=(f=t.Lazy).$new,b._p=(g=function(b,f){var h,i=g._s||this;null==b&&(b=c),f=e.call(arguments,1);var k=a.$yieldX(j,f);return k===d?d:void((h=k)!==!1&&h!==c?(h=b).$yield.apply(h,[].concat(f)):i.$raise(t.StopLazyError))},g._s=h,g),b).call(f,h,c)},a.defn(r,"$to_enum",s.$enum_for),s.$inspect=function(){var a=this;return"#<"+a.$class().$name()+": "+a.enumerator.$inspect()+">"},c}(m,m)}(b,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=a.breaker,f=a.slice,g=a.klass,h=a.range;return function(b,c){function i(){}var j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E=i=g(b,c,"Array",i),F=i._proto,G=i._scope;return F.length=d,E.$include(G.Enumerable),F._isArray=!0,a.defs(E,"$inherited",function(a){var b=d;b=G.Class.$new(G.Array._scope.Wrapper),a._proto=b._proto,a._proto._klass=a,a._alloc=b._alloc,a.__parent=G.Array._scope.Wrapper,a.$allocate=b.$allocate,a.$new=b.$new,a["$[]"]=b["$[]"]}),a.defs(E,"$[]",function(a){return a=f.call(arguments,0)}),F.$initialize=function(a){var b,c=this;return a=f.call(arguments,0),(b=c.$class()).$new.apply(b,[].concat(a))},a.defs(E,"$new",j=function(a,b){var c,f=this,g=j._p,h=g||d;if(null==a&&(a=d),null==b&&(b=d),j._p=null,(c=arguments.length>2)!=!1&&c!==d&&f.$raise(G.ArgumentError,"wrong number of arguments ("+arguments.length+" for 0..2)"),(c=0===arguments.length)!=!1&&c!==d)return[];if((c=1===arguments.length)!=!1&&c!==d){if((c=G.Array["$==="](a))!==!1&&c!==d)return a.$to_a();if((c=a["$respond_to?"]("to_ary"))!==!1&&c!==d)return a.$to_ary()}a=G.Opal.$coerce_to(a,G.Integer,"to_int"),(c=0>a)!=!1&&c!==d&&f.$raise(G.ArgumentError,"negative array size");var i=[];if(h===d)for(var k=0;a>k;k++)i.push(b);else for(var l,k=0;a>k;k++){if(l=h(k),l===e)return e.$v;i[k]=l}return i}),a.defs(E,"$try_convert",function(a){var b;return(b=G.Array["$==="](a))!==!1&&b!==d?a:(b=a["$respond_to?"]("to_ary"))!==!1&&b!==d?a.$to_ary():d}),F["$&"]=function(a){var b,c=this;a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a();for(var e=[],f={},g=0,h=c.length;h>g;g++){var i=c[g];if(!f[i])for(var j=0,k=a.length;k>j;j++){var l=a[j];!f[l]&&i["$=="](l)&&(f[i]=!0,e.push(i))}}return e},F["$*"]=function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))!==!1&&b!==d)return c.join(a.$to_str());((b=a["$respond_to?"]("to_int"))===!1||b===d)&&c.$raise(G.TypeError,"no implicit conversion of "+a.$class()+" into Integer"),a=G.Opal.$coerce_to(a,G.Integer,"to_int"),(b=0>a)!=!1&&b!==d&&c.$raise(G.ArgumentError,"negative argument");for(var e=[],f=0;a>f;f++)e=e.concat(c);return e},F["$+"]=function(a){var b,c=this;return a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a(),c.concat(a)},F["$-"]=function(a){var b,c=this;if(a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a(),(b=0===c.length)!=!1&&b!==d)return[];if((b=0===a.length)!=!1&&b!==d)return c.$clone();for(var e={},f=[],g=0,h=a.length;h>g;g++)e[a[g]]=!0;for(var g=0,h=c.length;h>g;g++){var i=c[g];e[i]||f.push(i)}return f},F["$<<"]=function(a){var b=this;return b.push(a),b},F["$<=>"]=function(a){var b,c=this;if((b=G.Array["$==="](a))!==!1&&b!==d)a=a.$to_a();else{if((b=a["$respond_to?"]("to_ary"))===!1||b===d)return d;a=a.$to_ary().$to_a()}if(c.$hash()===a.$hash())return 0;if(c.length!=a.length)return c.length>a.length?1:-1;for(var e=0,f=c.length;f>e;e++){var g=c[e]["$<=>"](a[e]);if(0!==g)return g}return 0},F["$=="]=function(a){var b,c=this;if((b=c===a)!=!1&&b!==d)return!0;if((b=G.Array["$==="](a))===!1||b===d)return(b=a["$respond_to?"]("to_ary"))===!1||b===d?!1:a["$=="](c);if(a=a.$to_a(),(b=c.length===a.length)==!1||b===d)return!1;for(var e=0,f=c.length;f>e;e++){var g=c[e],h=a[e];if(!(g._isArray&&h._isArray&&g===c||g["$=="](h)))return!1}return!0},F["$[]"]=function(a,b){var c,e=this;if((c=G.Range["$==="](a))!==!1&&c!==d){var f=e.length,g=a.exclude,h=G.Opal.$coerce_to(a.begin,G.Integer,"to_int"),i=G.Opal.$coerce_to(a.end,G.Integer,"to_int");return 0>h&&(h+=f,0>h)?d:(G.Opal["$fits_fixnum!"](h),h>f?d:0>i&&(i+=f,0>i)?[]:(G.Opal["$fits_fixnum!"](i),g||(i+=1),e.slice(h,i)))}a=G.Opal.$coerce_to(a,G.Integer,"to_int");var f=e.length;return 0>a&&(a+=f,0>a)?d:(G.Opal["$fits_fixnum!"](a),void 0===b?a>=f||0>a?d:e[a]:(b=G.Opal.$coerce_to(b,G.Integer,"to_int"),G.Opal["$fits_fixnum!"](b),0>b||a>f||0>a?d:e.slice(a,a+b)))},F["$[]="]=function(a,b,c){var e,f=this,g=d,h=d;if((e=G.Range["$==="](a))!==!1&&e!==d){g=(e=G.Array["$==="](b))!==!1&&e!==d?b.$to_a():(e=b["$respond_to?"]("to_ary"))!==!1&&e!==d?b.$to_ary().$to_a():[b];var i=f.length,j=a.exclude,k=G.Opal.$coerce_to(a.begin,G.Integer,"to_int"),l=G.Opal.$coerce_to(a.end,G.Integer,"to_int");if(0>k&&(k+=i,0>k&&f.$raise(G.RangeError,""+a.$inspect()+" out of range")),G.Opal["$fits_fixnum!"](k),0>l&&(l+=i),G.Opal["$fits_fixnum!"](l),j||(l+=1),k>i)for(var m=i;a>m;m++)f[m]=d;return 0>l?f.splice.apply(f,[k,0].concat(g)):f.splice.apply(f,[k,l-k].concat(g)),b}(e=void 0===c)!=!1&&e!==d?h=1:(h=b,b=c,g=(e=G.Array["$==="](b))!==!1&&e!==d?b.$to_a():(e=b["$respond_to?"]("to_ary"))!==!1&&e!==d?b.$to_ary().$to_a():[b]);var n,i=f.length,a=G.Opal.$coerce_to(a,G.Integer,"to_int"),h=G.Opal.$coerce_to(h,G.Integer,"to_int");if(0>a&&(n=a,a+=i,0>a&&f.$raise(G.IndexError,"index "+n+" too small for array; minimum "+-f.length)),G.Opal["$fits_fixnum!"](a),0>h&&f.$raise(G.IndexError,"negative length ("+h+")"),G.Opal["$fits_fixnum!"](h),a>i)for(var m=i;a>m;m++)f[m]=d;return void 0===c?f[a]=b:f.splice.apply(f,[a,h].concat(g)),b},F.$assoc=function(a){for(var b,c=this,e=0,f=c.length;f>e;e++)if(b=c[e],b.length&&b[0]["$=="](a))return b;return d},F.$at=function(a){var b=this;return a=G.Opal.$coerce_to(a,G.Integer,"to_int"),0>a&&(a+=b.length),0>a||a>=b.length?d:b[a]},F.$cycle=k=function(b){var c,f,g=this,h=k._p,i=h||d;if(null==b&&(b=d),k._p=null,(c=(f=g["$empty?"]())!==!1&&f!==d?f:b["$=="](0))!==!1&&c!==d)return d;if((c=i)===!1||c===d)return g.$enum_for("cycle",b);if((c=b["$nil?"]())!==!1&&c!==d)for(;;)for(var j=0,l=g.length;l>j;j++){var m=a.$yield1(i,g[j]);if(m===e)return e.$v}else{if(b=G.Opal["$coerce_to!"](b,G.Integer,"to_int"),0>=b)return g;for(;b>0;){for(var j=0,l=g.length;l>j;j++){var m=a.$yield1(i,g[j]);if(m===e)return e.$v}b--}}return g},F.$clear=function(){var a=this;return a.splice(0,a.length),a},F.$clone=function(){var a=this,b=d;return b=[],b.$initialize_clone(a),b},F.$dup=function(){var a=this,b=d;return b=[],b.$initialize_dup(a),b},F.$initialize_copy=function(a){var b=this;return b.$replace(a)},F.$collect=l=function(){var a=this,b=l._p,c=b||d;if(l._p=null,c===d)return a.$enum_for("collect");for(var f=[],g=0,h=a.length;h>g;g++){var i=Opal.$yield1(c,a[g]);if(i===e)return e.$v;f.push(i)}return f},F["$collect!"]=m=function(){var a=this,b=m._p,c=b||d;if(m._p=null,c===d)return a.$enum_for("collect!");for(var f=0,g=a.length;g>f;f++){var h=Opal.$yield1(c,a[f]);if(h===e)return e.$v;a[f]=h}return a},F.$compact=function(){for(var a,b=this,c=[],e=0,f=b.length;f>e;e++)(a=b[e])!==d&&c.push(a);return c},F["$compact!"]=function(){for(var a=this,b=a.length,c=0,e=a.length;e>c;c++)a[c]===d&&(a.splice(c,1),e--,c--);return a.length===b?d:a},F.$concat=function(a){var b,c=this;a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a();for(var e=0,f=a.length;f>e;e++)c.push(a[e]);return c},F.$delete=function(a){for(var b=this,c=b.length,e=0,f=c;f>e;e++)b[e]["$=="](a)&&(b.splice(e,1),f--,e--);return b.length===c?d:a},F.$delete_at=function(a){var b=this;if(0>a&&(a+=b.length),0>a||a>=b.length)return d;var c=b[a];return b.splice(a,1),c},F.$delete_if=n=function(){var a=this,b=n._p,c=b||d;if(n._p=null,c===d)return a.$enum_for("delete_if");for(var f,g=0,h=a.length;h>g;g++){if((f=c(a[g]))===e)return e.$v;f!==!1&&f!==d&&(a.splice(g,1),h--,g--)}return a},F.$drop=function(a){var b=this;return 0>a&&b.$raise(G.ArgumentError),b.slice(a)},a.defn(E,"$dup",F.$clone),F.$each=o=function(){var b=this,c=o._p,f=c||d;if(o._p=null,f===d)return b.$enum_for("each");for(var g=0,h=b.length;h>g;g++){var i=a.$yield1(f,b[g]);if(i==e)return e.$v}return b},F.$each_index=p=function(){var b=this,c=p._p,f=c||d;if(p._p=null,f===d)return b.$enum_for("each_index");for(var g=0,h=b.length;h>g;g++){var i=a.$yield1(f,g);if(i===e)return e.$v}return b},F["$empty?"]=function(){var a=this;return 0===a.length},F["$eql?"]=function(a){var b,c=this;if((b=c===a)!=!1&&b!==d)return!0;if((b=G.Array["$==="](a))===!1||b===d)return!1;if(a=a.$to_a(),(b=c.length===a.length)==!1||b===d)return!1;for(var e=0,f=c.length;f>e;e++){var g=c[e],h=a[e];if(!(g._isArray&&h._isArray&&g===c||g["$eql?"](h)))return!1}return!0},F.$fetch=q=function(a,b){var c=this,e=q._p,f=e||d;q._p=null;var g=a;return 0>a&&(a+=c.length),a>=0&&a<c.length?c[a]:f!==d?f(g):null!=b?b:void(0===c.length?c.$raise(G.IndexError,"index "+g+" outside of array bounds: 0...0"):c.$raise(G.IndexError,"index "+g+" outside of array bounds: -"+c.length+"..."+c.length))},F.$fill=r=function(b){var c,g=this,h=r._p,i=h||d,j=d,k=d,l=d,m=d,n=d;if(b=f.call(arguments,0),r._p=null,i!==!1&&i!==d?((c=b.length>2)!=!1&&c!==d&&g.$raise(G.ArgumentError,"wrong number of arguments ("+b.$length()+" for 0..2)"),c=a.to_ary(b),j=null==c[0]?d:c[0],k=null==c[1]?d:c[1]):((c=0==b.length)!=!1&&c!==d?g.$raise(G.ArgumentError,"wrong number of arguments (0 for 1..3)"):(c=b.length>3)!=!1&&c!==d&&g.$raise(G.ArgumentError,"wrong number of arguments ("+b.$length()+" for 1..3)"),c=a.to_ary(b),l=null==c[0]?d:c[0],j=null==c[1]?d:c[1],k=null==c[2]?d:c[2]),(c=G.Range["$==="](j))!==!1&&c!==d){if(k!==!1&&k!==d&&g.$raise(G.TypeError,"length invalid with range"),m=G.Opal.$coerce_to(j.$begin(),G.Integer,"to_int"),(c=0>m)!=!1&&c!==d&&(m+=g.length),(c=0>m)!=!1&&c!==d&&g.$raise(G.RangeError,""+j.$inspect()+" out of range"),n=G.Opal.$coerce_to(j.$end(),G.Integer,"to_int"),(c=0>n)!=!1&&c!==d&&(n+=g.length),((c=j["$exclude_end?"]())===!1||c===d)&&(n+=1),(c=m>=n)!=!1&&c!==d)return g}else if(j!==!1&&j!==d)if(m=G.Opal.$coerce_to(j,G.Integer,"to_int"),(c=0>m)!=!1&&c!==d&&(m+=g.length),(c=0>m)!=!1&&c!==d&&(m=0),k!==!1&&k!==d){if(n=G.Opal.$coerce_to(k,G.Integer,"to_int"),(c=0==n)!=!1&&c!==d)return g;n+=m}else n=g.length;else m=0,n=g.length;if(G.Opal["$fits_fixnum!"](n),G.Opal["$fits_array!"](n),(c=m>g.length)!=!1&&c!==d)for(var o=g.length;n>o;o++)g[o]=d;if((c=n>g.length)!=!1&&c!==d&&(g.length=n),i!==!1&&i!==d){for(g.length;n>m;m++){var p=i(m);if(p===e)return e.$v;g[m]=p}}else{for(g.length;n>m;m++)g[m]=l}return g},F.$first=function(a){var b=this;return null!=a?(0>a&&b.$raise(G.ArgumentError),b.slice(0,a)):0===b.length?d:b[0]},F.$flatten=function(a){for(var b=this,c=[],d=0,e=b.length;e>d;d++){var f=b[d];f["$respond_to?"]("to_ary")?(f=f.$to_ary(),null==a?c.push.apply(c,f.$flatten().$to_a()):0==a?c.push(f):c.push.apply(c,f.$flatten(a-1).$to_a())):c.push(f)}return c},F["$flatten!"]=function(a){var b=this,c=b.$flatten(a);if(b.length==c.length){for(var e=0,f=b.length;f>e&&b[e]===c[e];e++);if(e==f)return d}return b.$replace(c),b},F.$hash=function(){var a=this;return a._id||(a._id=Opal.uid())},F["$include?"]=function(a){for(var b=this,c=0,d=b.length;d>c;c++)if(b[c]["$=="](a))return!0;return!1},F.$index=s=function(a){var b=this,c=s._p,f=c||d;if(s._p=null,null!=a){for(var g=0,h=b.length;h>g;g++)if(b[g]["$=="](a))return g}else{if(f===d)return b.$enum_for("index");for(var i,g=0,h=b.length;h>g;g++){if((i=f(b[g]))===e)return e.$v;if(i!==!1&&i!==d)return g}}return d},F.$insert=function(a,b){var c=this;if(b=f.call(arguments,1),b.length>0){if(0>a&&(a+=c.length+1,0>a&&c.$raise(G.IndexError,""+a+" is out of bounds")),a>c.length)for(var e=c.length;a>e;e++)c.push(d);c.splice.apply(c,[a,0].concat(b))}return c},F.$inspect=function(){var a,b,c,d,e,f,g=this;for(b=[],f=g.$object_id(),e=g.length,a=0;e>a;a++)c=g["$[]"](a),d=c.$object_id()===f?"[...]":c.$inspect(),b.push(d);return"["+b.join(", ")+"]"},F.$join=function(a){var b=this;null==a&&(a="");for(var c=[],d=0,e=b.length;e>d;d++)c.push(b[d].$to_s());return c.join(a)},F.$keep_if=t=function(){var a=this,b=t._p,c=b||d;if(t._p=null,c===d)return a.$enum_for("keep_if");for(var f,g=0,h=a.length;h>g;g++){if((f=c(a[g]))===e)return e.$v;(f===!1||f===d)&&(a.splice(g,1),h--,g--)}return a},F.$last=function(a){var b=this,c=b.length;return(a===d||"string"==typeof a)&&b.$raise(G.TypeError,"no implicit conversion to integer"),"object"==typeof a&&(a["$respond_to?"]("to_int")?a=a.$to_int():b.$raise(G.TypeError,"no implicit conversion to integer")),null==a?0===c?d:b[c-1]:(0>a&&b.$raise(G.ArgumentError,"negative count given"),a>c&&(a=c),b.slice(c-a,c))
},F.$length=function(){var a=this;return a.length},a.defn(E,"$map",F.$collect),a.defn(E,"$map!",F["$collect!"]),F.$pop=function(a){var b=this,c=b.length;return null==a?0===c?d:b.pop():(0>a&&b.$raise(G.ArgumentError,"negative count given"),a>c?b.splice(0,b.length):b.splice(c-a,c))},F.$push=function(a){var b=this;a=f.call(arguments,0);for(var c=0,d=a.length;d>c;c++)b.push(a[c]);return b},F.$rassoc=function(a){for(var b,c=this,e=0,f=c.length;f>e;e++)if(b=c[e],b.length&&void 0!==b[1]&&b[1]["$=="](a))return b;return d},F.$reject=u=function(){var a=this,b=u._p,c=b||d;if(u._p=null,c===d)return a.$enum_for("reject");for(var f,g=[],h=0,i=a.length;i>h;h++){if((f=c(a[h]))===e)return e.$v;(f===!1||f===d)&&g.push(a[h])}return g},F["$reject!"]=v=function(){var a,b,c=this,e=v._p,f=e||d;if(v._p=null,f===d)return c.$enum_for("reject!");var g=c.length;return(a=(b=c).$delete_if,a._p=f.$to_proc(),a).call(b),c.length===g?d:c},F.$replace=function(a){var b,c=this;return a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a(),c.splice(0,c.length),c.push.apply(c,a),c},F.$reverse=function(){var a=this;return a.slice(0).reverse()},F["$reverse!"]=function(){var a=this;return a.reverse()},F.$reverse_each=w=function(){var a,b,c=this,e=w._p,f=e||d;return w._p=null,f===d?c.$enum_for("reverse_each"):((a=(b=c.$reverse()).$each,a._p=f.$to_proc(),a).call(b),c)},F.$rindex=x=function(a){var b=this,c=x._p,f=c||d;if(x._p=null,null!=a){for(var g=b.length-1;g>=0;g--)if(b[g]["$=="](a))return g}else if(f!==d)for(var h,g=b.length-1;g>=0;g--){if((h=f(b[g]))===e)return e.$v;if(h!==!1&&h!==d)return g}else if(null==a)return b.$enum_for("rindex");return d},F.$sample=function(a){var b,c,e,f,g=this;return null==a&&(a=d),e=a,c=e===d||e===!1,(b=c!==!1&&c!==d?g["$empty?"]():c)!==!1&&b!==d?d:(b=(c=a!==!1&&a!==d)?g["$empty?"]():c)!==!1&&b!==d?[]:a!==!1&&a!==d?(b=(c=h(1,a,!1)).$map,b._p=(f=function(){var a=f._s||this;return a["$[]"](a.$rand(a.$length()))},f._s=g,f),b).call(c):g["$[]"](g.$rand(g.$length()))},F.$select=y=function(){var b=this,c=y._p,f=c||d;if(y._p=null,f===d)return b.$enum_for("select");for(var g,h,i=[],j=0,k=b.length;k>j;j++){if(g=b[j],(h=a.$yield1(f,g))===e)return e.$v;h!==!1&&h!==d&&i.push(g)}return i},F["$select!"]=z=function(){var a,b,c=this,e=z._p,f=e||d;if(z._p=null,f===d)return c.$enum_for("select!");var g=c.length;return(a=(b=c).$keep_if,a._p=f.$to_proc(),a).call(b),c.length===g?d:c},F.$shift=function(a){var b=this;return 0===b.length?d:null==a?b.shift():b.splice(0,a)},a.defn(E,"$size",F.$length),F.$shuffle=function(){var a=this;return a.$clone()["$shuffle!"]()},F["$shuffle!"]=function(){for(var a=this,b=a.length-1;b>0;b--){var c=a[b],d=Math.floor(Math.random()*(b+1));a[b]=a[d],a[d]=c}return a},a.defn(E,"$slice",F["$[]"]),F["$slice!"]=function(a,b){var c=this;return 0>a&&(a+=c.length),null!=b?c.splice(a,b):0>a||a>=c.length?d:c.splice(a,1)[0]},F.$sort=A=function(){var a,b=this,c=A._p,f=c||d;if(A._p=null,(a=b.length>1)==!1||a===d)return b;f===d&&(f=function(a,b){return a["$<=>"](b)});try{return b.slice().sort(function(a,c){var g=f(a,c);if(g===e)throw e;return g===d&&b.$raise(G.ArgumentError,"comparison of "+a.$inspect()+" with "+c.$inspect()+" failed"),g["$>"](0)?1:g["$<"](0)?-1:0})}catch(g){if(g===e)return e.$v;throw g}},F["$sort!"]=B=function(){var a,b,c=this,e=B._p,f=e||d;B._p=null;var g;g=f!==d?(a=(b=c.slice()).$sort,a._p=f.$to_proc(),a).call(b):c.slice().$sort(),c.length=0;for(var h=0,i=g.length;i>h;h++)c.push(g[h]);return c},F.$take=function(a){var b=this;return 0>a&&b.$raise(G.ArgumentError),b.slice(0,a)},F.$take_while=C=function(){var a=this,b=C._p,c=b||d;C._p=null;for(var f,g,h=[],i=0,j=a.length;j>i;i++){if(f=a[i],(g=c(f))===e)return e.$v;if(g===!1||g===d)return h;h.push(f)}return h},F.$to_a=function(){var a=this;return a},a.defn(E,"$to_ary",F.$to_a),a.defn(E,"$to_s",F.$inspect),F.$transpose=function(){var a,b,c,e=this,f=d,g=d;return(a=e["$empty?"]())!==!1&&a!==d?[]:(f=[],g=d,(a=(b=e).$each,a._p=(c=function(a){var b,e,h,i=c._s||this;return null==a&&(a=d),a=(b=G.Array["$==="](a))!==!1&&b!==d?a.$to_a():G.Opal.$coerce_to(a,G.Array,"to_ary").$to_a(),(b=g)!==!1&&b!==d?b:g=a.length,e=a.length["$=="](g),(b=e===d||e===!1)!=!1&&b!==d&&i.$raise(G.IndexError,"element size differs ("+a.length+" should be "+g),(b=(e=a.length).$times,b._p=(h=function(b){var c,e,g,i=(h._s||this,d);return null==b&&(b=d),c=b,e=f,i=(g=e["$[]"](c))!==!1&&g!==d?g:e["$[]="](c,[]),i["$<<"](a.$at(b))},h._s=i,h),b).call(e)},c._s=e,c),a).call(b),f)},F.$uniq=function(){for(var a,b,c=this,d=[],e={},f=0,g=c.length;g>f;f++)a=c[f],b=a,e[b]||(e[b]=!0,d.push(a));return d},F["$uniq!"]=function(){for(var a,b,c=this,e=c.length,f={},g=0,h=e;h>g;g++)a=c[g],b=a,f[b]?(c.splice(g,1),h--,g--):f[b]=!0;return c.length===e?d:c},F.$unshift=function(a){var b=this;a=f.call(arguments,0);for(var c=a.length-1;c>=0;c--)b.unshift(a[c]);return b},F.$zip=D=function(a){var b=this,c=D._p,e=c||d;a=f.call(arguments,0),D._p=null;for(var g,h,i=[],j=b.length,k=0;j>k;k++){g=[b[k]];for(var l=0,m=a.length;m>l;l++)h=a[l][k],null==h&&(h=d),g[l+1]=h;i[k]=g}if(e!==d){for(var k=0;j>k;k++)e(i[k]);return d}return i},d}(b,null),function(b,c){function e(){}var h,i,j,k,l,m=e=g(b,c,"Wrapper",e),n=e._proto,o=e._scope;return n.literal=d,a.defs(m,"$allocate",h=function(b){var c=this,f=(h._p,d);return null==b&&(b=[]),h._p=null,f=a.find_super_dispatcher(c,"allocate",h,null,e).apply(c,[]),f.literal=b,f}),a.defs(m,"$new",i=function(a){var b,c,e=this,g=i._p,h=g||d,j=d;return a=f.call(arguments,0),i._p=null,j=e.$allocate(),(b=(c=j).$initialize,b._p=h.$to_proc(),b).apply(c,[].concat(a)),j}),a.defs(m,"$[]",function(a){var b=this;return a=f.call(arguments,0),b.$allocate(a)}),n.$initialize=j=function(a){var b,c,e=this,g=j._p,h=g||d;return a=f.call(arguments,0),j._p=null,e.literal=(b=(c=o.Array).$new,b._p=h.$to_proc(),b).apply(c,[].concat(a))},n.$method_missing=k=function(a){var b,c,e=this,g=k._p,h=g||d,i=d;return a=f.call(arguments,0),k._p=null,i=(b=(c=e.literal).$__send__,b._p=h.$to_proc(),b).apply(c,[].concat(a)),(b=i===e.literal)!=!1&&b!==d?e:i},n.$initialize_copy=function(a){var b=this;return b.literal=a.literal.$clone()},n["$respond_to?"]=l=function(b){var c,e=f.call(arguments,0),g=this,h=l._p;return l._p=null,(c=a.find_super_dispatcher(g,"respond_to?",l,h).apply(g,e))!==!1&&c!==d?c:g.literal["$respond_to?"](b)},n["$=="]=function(a){var b=this;return b.literal["$=="](a)},n["$eql?"]=function(a){var b=this;return b.literal["$eql?"](a)},n.$to_a=function(){var a=this;return a.literal},n.$to_ary=function(){var a=this;return a},n.$inspect=function(){var a=this;return a.literal.$inspect()},n["$*"]=function(a){var b=this,c=b.literal["$*"](a);return c._isArray?b.$class().$allocate(c):c},n["$[]"]=function(a,b){var c=this,d=c.literal.$slice(a,b);return d._isArray&&(a._isRange||void 0!==b)?c.$class().$allocate(d):d},a.defn(m,"$slice",n["$[]"]),n.$uniq=function(){var a=this;return a.$class().$allocate(a.literal.$uniq())},n.$flatten=function(a){var b=this;return b.$class().$allocate(b.literal.$flatten(a))},d}(c.Array,null)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return function(b,g){function h(){}var i,j,k,l,m,n,o,p,q,r,s,t,u=h=f(b,g,"Hash",h),v=h._proto,w=h._scope;v.proc=v.none=c,u.$include(w.Enumerable);var x={}.hasOwnProperty;return a.defs(u,"$[]",function(b){return b=e.call(arguments,0),a.hash.apply(null,b)}),a.defs(u,"$allocate",function(){var a=this,b=new a._alloc;return b.map={},b.keys=[],b}),v.$initialize=i=function(a){var b=this,d=i._p,e=d||c;return i._p=null,null!=a?b.none=a:e!==c&&(b.proc=e),b},v["$=="]=function(a){var b,d=this;if(d===a)return!0;if(!a.map||!a.keys)return!1;if(d.keys.length!==a.keys.length)return!1;for(var e=d.map,f=a.map,g=0,h=d.keys.length;h>g;g++){var i=d.keys[g],j=e[i],k=f[i];if(b=j["$=="](k),b===c||b===!1)return!1}return!0},v["$[]"]=function(a){var b=this,d=b.map;if(x.call(d,a))return d[a];var e=b.proc;return e!==c?e.$call(b,a):b.none},v["$[]="]=function(a,b){var c=this,d=c.map;return x.call(d,a)||c.keys.push(a),d[a]=b,b},v.$assoc=function(a){for(var b,d=this,e=d.keys,f=0,g=e.length;g>f;f++)if(b=e[f],b["$=="](a))return[b,d.map[b]];return c},v.$clear=function(){var a=this;return a.map={},a.keys=[],a},v.$clone=function(){for(var a=this,b={},c=[],d=0,e=a.keys.length;e>d;d++){var f=a.keys[d],g=a.map[f];c.push(f),b[f]=g}var h=new a._klass._alloc;return h.map=b,h.keys=c,h.none=a.none,h.proc=a.proc,h},v.$default=function(){var a=this;return a.none},v["$default="]=function(a){var b=this;return b.none=a},v.$default_proc=function(){var a=this;return a.proc},v["$default_proc="]=function(a){var b=this;return b.proc=a},v.$delete=function(a){var b=this,d=b.map,e=d[a];return null!=e?(delete d[a],b.keys.$delete(a),e):c},v.$delete_if=j=function(){var a,b=this,e=j._p,f=e||c;if(j._p=null,(a=f)===!1||a===c)return b.$enum_for("delete_if");for(var g,h=b.map,i=b.keys,k=0,l=i.length;l>k;k++){var m=i[k],n=h[m];if((g=f(m,n))===d)return d.$v;g!==!1&&g!==c&&(i.splice(k,1),delete h[m],l--,k--)}return b},a.defn(u,"$dup",v.$clone),v.$each=k=function(){var b,e=this,f=k._p,g=f||c;if(k._p=null,(b=g)===!1||b===c)return e.$enum_for("each");for(var h=e.map,i=e.keys,j=0,l=i.length;l>j;j++){var m=i[j],n=a.$yield1(g,[m,h[m]]);if(n===d)return d.$v}return e},v.$each_key=l=function(){var a,b=this,e=l._p,f=e||c;if(l._p=null,(a=f)===!1||a===c)return b.$enum_for("each_key");for(var g=b.keys,h=0,i=g.length;i>h;h++){var j=g[h];if(f(j)===d)return d.$v}return b},a.defn(u,"$each_pair",v.$each),v.$each_value=m=function(){var a,b=this,e=m._p,f=e||c;if(m._p=null,(a=f)===!1||a===c)return b.$enum_for("each_value");for(var g=b.map,h=b.keys,i=0,j=h.length;j>i;i++)if(f(g[h[i]])===d)return d.$v;return b},v["$empty?"]=function(){var a=this;return 0===a.keys.length},a.defn(u,"$eql?",v["$=="]),v.$fetch=n=function(a,b){var e=this,f=n._p,g=f||c;n._p=null;var h=e.map[a];if(null!=h)return h;if(g!==c){var h;return(h=g(a))===d?d.$v:h}return null!=b?b:void e.$raise(w.KeyError,"key not found")},v.$flatten=function(a){for(var b=this,c=b.map,d=b.keys,e=[],f=0,g=d.length;g>f;f++){var h=d[f],i=c[h];e.push(h),i._isArray?null==a||1===a?e.push(i):e=e.concat(i.$flatten(a-1)):e.push(i)}return e},v["$has_key?"]=function(a){var b=this;return x.call(b.map,a)},v["$has_value?"]=function(a){var b=this;for(var c in b.map)if(b.map[c]["$=="](a))return!0;return!1},v.$hash=function(){var a=this;return a._id},a.defn(u,"$include?",v["$has_key?"]),v.$index=function(a){for(var b=this,d=b.map,e=b.keys,f=0,g=e.length;g>f;f++){var h=e[f];if(d[h]["$=="](a))return h}return c},v.$indexes=function(a){var b=this;a=e.call(arguments,0);for(var c,d=[],f=b.map,g=0,h=a.length;h>g;g++){var i=a[g],c=f[i];d.push(null!=c?c:b.none)}return d},a.defn(u,"$indices",v.$indexes),v.$inspect=function(){for(var a=this,b=[],c=a.keys,d=a.map,e=0,f=c.length;f>e;e++){var g=c[e],h=d[g];b.push(h===a?g.$inspect()+"=>{...}":g.$inspect()+"=>"+d[g].$inspect())}return"{"+b.join(", ")+"}"},v.$invert=function(){for(var b=this,c=a.hash(),d=b.keys,e=b.map,f=c.keys,g=c.map,h=0,i=d.length;i>h;h++){var j=d[h],k=e[j];f.push(k),g[k]=j}return c},v.$keep_if=o=function(){var a,b=this,e=o._p,f=e||c;if(o._p=null,(a=f)===!1||a===c)return b.$enum_for("keep_if");for(var g,h=b.map,i=b.keys,j=0,k=i.length;k>j;j++){var l=i[j],m=h[l];if((g=f(l,m))===d)return d.$v;(g===!1||g===c)&&(i.splice(j,1),delete h[l],k--,j--)}return b},a.defn(u,"$key",v.$index),a.defn(u,"$key?",v["$has_key?"]),v.$keys=function(){var a=this;return a.keys.slice(0)},v.$length=function(){var a=this;return a.keys.length},a.defn(u,"$member?",v["$has_key?"]),v.$merge=p=function(b){var d=this,e=p._p,f=e||c;p._p=null;for(var g=d.keys,h=d.map,i=a.hash(),j=i.keys,k=i.map,l=0,m=g.length;m>l;l++){var n=g[l];j.push(n),k[n]=h[n]}var g=b.keys,h=b.map;if(f===c)for(var l=0,m=g.length;m>l;l++){var n=g[l];null==k[n]&&j.push(n),k[n]=h[n]}else for(var l=0,m=g.length;m>l;l++){var n=g[l];null==k[n]?(j.push(n),k[n]=h[n]):k[n]=f(n,k[n],h[n])}return i},v["$merge!"]=q=function(a){var b=this,d=q._p,e=d||c;q._p=null;var f=b.keys,g=b.map,h=a.keys,i=a.map;if(e===c)for(var j=0,k=h.length;k>j;j++){var l=h[j];null==g[l]&&f.push(l),g[l]=i[l]}else for(var j=0,k=h.length;k>j;j++){var l=h[j];null==g[l]?(f.push(l),g[l]=i[l]):g[l]=e(l,g[l],i[l])}return b},v.$rassoc=function(a){for(var b=this,d=b.keys,e=b.map,f=0,g=d.length;g>f;f++){var h=d[f],i=e[h];if(i["$=="](a))return[h,i]}return c},v.$reject=r=function(){var b,e=this,f=r._p,g=f||c;if(r._p=null,(b=g)===!1||b===c)return e.$enum_for("reject");for(var h=e.keys,i=e.map,j=a.hash(),k=j.map,l=j.keys,m=0,n=h.length;n>m;m++){var o,p=h[m],q=i[p];if((o=g(p,q))===d)return d.$v;(o===!1||o===c)&&(l.push(p),k[p]=q)}return j},v.$replace=function(a){for(var b=this,c=b.map={},d=b.keys=[],e=0,f=a.keys.length;f>e;e++){var g=a.keys[e];d.push(g),c[g]=a.map[g]}return b},v.$select=s=function(){var b,e=this,f=s._p,g=f||c;if(s._p=null,(b=g)===!1||b===c)return e.$enum_for("select");for(var h=e.keys,i=e.map,j=a.hash(),k=j.map,l=j.keys,m=0,n=h.length;n>m;m++){var o,p=h[m],q=i[p];if((o=g(p,q))===d)return d.$v;o!==!1&&o!==c&&(l.push(p),k[p]=q)}return j},v["$select!"]=t=function(){var a,b=this,e=t._p,f=e||c;if(t._p=null,(a=f)===!1||a===c)return b.$enum_for("select!");for(var g,h=b.map,i=b.keys,j=c,k=0,l=i.length;l>k;k++){var m=i[k],n=h[m];if((g=f(m,n))===d)return d.$v;(g===!1||g===c)&&(i.splice(k,1),delete h[m],l--,k--,j=b)}return j},v.$shift=function(){var a=this,b=a.keys,d=a.map;if(b.length){var e=b[0],f=d[e];return delete d[e],b.splice(0,1),[e,f]}return c},a.defn(u,"$size",v.$length),u.$alias_method("store","[]="),v.$to_a=function(){for(var a=this,b=a.keys,c=a.map,d=[],e=0,f=b.length;f>e;e++){var g=b[e];d.push([g,c[g]])}return d},v.$to_h=function(){var a=this,b=new Opal.Hash._alloc,c=a.$clone();return b.map=c.map,b.keys=c.keys,b.none=c.none,b.proc=c.proc,b},v.$to_hash=function(){var a=this;return a},a.defn(u,"$to_s",v.$inspect),a.defn(u,"$update",v["$merge!"]),a.defn(u,"$value?",v["$has_value?"]),a.defn(u,"$values_at",v.$indexes),v.$values=function(){var a=this,b=a.map,c=[];for(var d in b)c.push(b[d]);return c},c}(b,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=a.breaker,f=a.slice,g=a.klass,h=a.gvars;return function(b,c){function i(){}var j,k,l,m,n,o,p=i=g(b,c,"String",i),q=i._proto,r=i._scope;return q.length=d,p.$include(r.Comparable),q._isString=!0,a.defs(p,"$try_convert",function(a){try{return a.$to_str()}catch(b){return d}}),a.defs(p,"$new",function(a){return null==a&&(a=""),new String(a)}),q["$%"]=function(a){var b,c=this;return(b=r.Array["$==="](a))!==!1&&b!==d?(b=c).$format.apply(b,[c].concat(a)):c.$format(c,a)},q["$*"]=function(a){var b=this;if(1>a)return"";for(var c="",d=b;a>0;)1&a&&(c+=d),a>>=1,d+=d;return c},q["$+"]=function(a){var b=this;return a=r.Opal.$coerce_to(a,r.String,"to_str"),b+a.$to_s()},q["$<=>"]=function(a){var b,c=this;if((b=a["$respond_to?"]("to_str"))!==!1&&b!==d)return a=a.$to_str().$to_s(),c>a?1:a>c?-1:0;var e=a["$<=>"](c);return e===d?d:e>0?-1:0>e?1:0},q["$=="]=function(a){var b=this;return!(!a._isString||b.valueOf()!==a.valueOf())},a.defn(p,"$===",q["$=="]),q["$=~"]=function(a){var b=this;return a._isString&&b.$raise(r.TypeError,"type mismatch: String given"),a["$=~"](b)},q["$[]"]=function(a,b){var c=this,e=c.length;if(a._isRange){var f=a.exclude,b=a.end,a=a.begin;return 0>a&&(a+=e),0>b&&(b+=e),f||(b+=1),a>e?d:(b-=a,0>b&&(b=0),c.substr(a,b))}return 0>a&&(a+=c.length),null==b?a>=c.length||0>a?d:c.substr(a,1):a>c.length||0>a?d:c.substr(a,b)},q.$capitalize=function(){var a=this;return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()},q.$casecmp=function(a){var b=this;return a=r.Opal.$coerce_to(a,r.String,"to_str").$to_s(),b.toLowerCase()["$<=>"](a.toLowerCase())},q.$center=function(a,b){var c,e=this;if(null==b&&(b=" "),a=r.Opal.$coerce_to(a,r.Integer,"to_int"),b=r.Opal.$coerce_to(b,r.String,"to_str").$to_s(),(c=b["$empty?"]())!==!1&&c!==d&&e.$raise(r.ArgumentError,"zero width padding"),(c=a<=e.length)!=!1&&c!==d)return e;var f=e.$ljust(a["$+"](e.length)["$/"](2).$ceil(),b),g=e.$rjust(a["$+"](e.length)["$/"](2).$floor(),b);return g+f.slice(e.length)},q.$chars=function(){var a=this;return a.$each_char().$to_a()},q.$chomp=function(a){var b,c=this;if(null==a&&(a=h["/"]),(b=a===d||0===c.length)!=!1&&b!==d)return c;if(a=r.Opal["$coerce_to!"](a,r.String,"to_str").$to_s(),"\n"===a)return c.replace(/\r?\n?$/,"");if(""===a)return c.replace(/(\r?\n)+$/,"");if(c.length>a.length){var e=c.substr(-1*a.length);if(e===a)return c.substr(0,c.length-a.length)}return c},q.$chop=function(){var a=this,b=a.length;return 1>=b?"":"\n"===a.charAt(b-1)&&"\r"===a.charAt(b-2)?a.substr(0,b-2):a.substr(0,b-1)},q.$chr=function(){var a=this;return a.charAt(0)},q.$clone=function(){var a=this;return a.slice()},q.$count=function(a){var b=this;return(b.length-b.replace(new RegExp(a,"g"),"").length)/a.length},a.defn(p,"$dup",q.$clone),q.$downcase=function(){var a=this;return a.toLowerCase()},q.$each_char=j=function(){var b,c=this,f=j._p,g=f||d;if(j._p=null,g===d)return c.$enum_for("each_char");for(var h=0,i=c.length;i>h;h++)(b=a.$yield1(g,c.charAt(h)))===e?e.$v:b;return c},q.$each_line=k=function(b){var c,f=this,g=k._p,i=g||d;if(null==b&&(b=h["/"]),k._p=null,i===d)return f.$split(b);for(var j=f.$chomp(),l=f.length!=j.length,m=j.split(b),n=0,o=m.length;o>n;n++)o-1>n||l?(c=a.$yield1(i,m[n]+b))===e?e.$v:c:(c=a.$yield1(i,m[n]))===e?e.$v:c;return f},q["$empty?"]=function(){var a=this;return 0===a.length},q["$end_with?"]=function(a){var b=this;a=f.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=r.Opal.$coerce_to(a[c],r.String,"to_str");if(b.length>=e.length&&b.substr(0-e.length)===e)return!0}return!1},a.defn(p,"$eql?",q["$=="]),a.defn(p,"$equal?",q["$==="]),q.$gsub=l=function(a,b){var c,e,f=this,g=l._p,h=g||d;l._p=null,(c=(e=r.String["$==="](a))!==!1&&e!==d?e:a["$respond_to?"]("to_str"))!==!1&&c!==d&&(a=new RegExp(""+r.Regexp.$escape(a.$to_str()))),((c=r.Regexp["$==="](a))===!1||c===d)&&f.$raise(r.TypeError,"wrong argument type "+a.$class()+" (expected Regexp)");var a=a.toString(),i=a.substr(a.lastIndexOf("/")+1)+"g",j=a.substr(1,a.lastIndexOf("/")-1);return f.$sub._p=h,f.$sub(new RegExp(j,i),b)},q.$hash=function(){var a=this;return a.toString()},q.$hex=function(){var a=this;return a.$to_i(16)},q["$include?"]=function(a){var b,c=this;return a._isString?-1!==c.indexOf(a):(((b=a["$respond_to?"]("to_str"))===!1||b===d)&&c.$raise(r.TypeError,"no implicit conversion of "+a.$class().$name()+" into String"),-1!==c.indexOf(a.$to_str()))},q.$index=function(a,b){var c,e,f=this,g=d;if(null==b&&(b=d),(c=r.String["$==="](a))!==!1&&c!==d?a=a.$to_s():(c=a["$respond_to?"]("to_str"))!==!1&&c!==d?a=a.$to_str().$to_s():(e=r.Regexp["$==="](a),(c=e===d||e===!1)!=!1&&c!==d&&f.$raise(r.TypeError,"type mismatch: "+a.$class()+" given")),g=-1,b!==!1&&b!==d){b=r.Opal.$coerce_to(b,r.Integer,"to_int");var h=f.length;if(0>b&&(b+=h),b>h)return d;g=(c=r.Regexp["$==="](a))!==!1&&c!==d?(c=a["$=~"](f.substr(b)))!==!1&&c!==d?c:-1:f.substr(b).indexOf(a),-1!==g&&(g+=b)}else g=(c=r.Regexp["$==="](a))!==!1&&c!==d?(c=a["$=~"](f))!==!1&&c!==d?c:-1:f.indexOf(a);return(c=-1===g)!=!1&&c!==d?d:g},q.$inspect=function(){var a=this,b=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return b.lastIndex=0,b.test(a)?'"'+a.replace(b,function(a){var b=c[a];return"string"==typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'},q.$intern=function(){var a=this;return a},q.$lines=function(a){var b=this;return null==a&&(a=h["/"]),b.$each_line(a).$to_a()},q.$length=function(){var a=this;return a.length},q.$ljust=function(a,b){var c,e=this;if(null==b&&(b=" "),a=r.Opal.$coerce_to(a,r.Integer,"to_int"),b=r.Opal.$coerce_to(b,r.String,"to_str").$to_s(),(c=b["$empty?"]())!==!1&&c!==d&&e.$raise(r.ArgumentError,"zero width padding"),(c=a<=e.length)!=!1&&c!==d)return e;var f=-1,g="";for(a-=e.length;++f<a;)g+=b;return e+g.slice(0,a)},q.$lstrip=function(){var a=this;return a.replace(/^\s*/,"")},q.$match=m=function(a,b){var c,e,f=this,g=m._p,h=g||d;return m._p=null,(c=(e=r.String["$==="](a))!==!1&&e!==d?e:a["$respond_to?"]("to_str"))!==!1&&c!==d&&(a=new RegExp(""+r.Regexp.$escape(a.$to_str()))),((c=r.Regexp["$==="](a))===!1||c===d)&&f.$raise(r.TypeError,"wrong argument type "+a.$class()+" (expected Regexp)"),(c=(e=a).$match,c._p=h.$to_proc(),c).call(e,f,b)},q.$next=function(){var a=this;if(0===a.length)return"";var b=a.substr(0,a.length-1),c=String.fromCharCode(a.charCodeAt(a.length-1)+1);return b+c},q.$ord=function(){var a=this;return a.charCodeAt(0)},q.$partition=function(a){var b=this,c=b.split(a),d=c[0].length===b.length?"":a;return[c[0],d,c.slice(1).join(a.toString())]},q.$reverse=function(){var a=this;return a.split("").reverse().join("")},q.$rindex=function(a,b){var c=this,e=null==a?Opal.NilClass:a.constructor;if(e!=String&&e!=RegExp){var f="type mismatch: "+e+" given";c.$raise(r.TypeError.$new(f))}if(0==c.length)return 0==a.length?0:d;var g=-1;return null!=b?(0>b&&(b=c.length+b),e==String?g=c.lastIndexOf(a,b):(g=c.substr(0,b+1).$reverse().search(a),-1!==g&&(g=b-g))):e==String?g=c.lastIndexOf(a):(g=c.$reverse().search(a),-1!==g&&(g=c.length-1-g)),-1===g?d:g},q.$rjust=function(a,b){var c,e=this;if(null==b&&(b=" "),a=r.Opal.$coerce_to(a,r.Integer,"to_int"),b=r.Opal.$coerce_to(b,r.String,"to_str").$to_s(),(c=b["$empty?"]())!==!1&&c!==d&&e.$raise(r.ArgumentError,"zero width padding"),(c=a<=e.length)!=!1&&c!==d)return e;var f=Math.floor(a-e.length),g=Math.floor(f/b.length),h=Array(g+1).join(b),i=f-h.length;return h+b.slice(0,i)+e},q.$rstrip=function(){var a=this;return a.replace(/\s*$/,"")},q.$scan=n=function(a){var b=this,c=n._p,e=c||d;n._p=null,a.global?a.lastIndex=0:a=new RegExp(a.source,"g"+(a.multiline?"m":"")+(a.ignoreCase?"i":""));for(var f,g=[];null!=(f=a.exec(b));){{r.MatchData.$new(a,f)}e===d?g.push(1==f.length?f[0]:f.slice(1)):1==f.length?e(f[0]):e.apply(b,f.slice(1))}return e!==d?b:g},a.defn(p,"$size",q.$length),a.defn(p,"$slice",q["$[]"]),q.$split=function(a,b){var c,e=this;return null==a&&(a=(c=h[";"])!==!1&&c!==d?c:" "),e.split(a,b)},q["$start_with?"]=function(a){var b=this;a=f.call(arguments,0);for(var c=0,d=a.length;d>c;c++){var e=r.Opal.$coerce_to(a[c],r.String,"to_str");if(0===b.indexOf(e))return!0}return!1},q.$strip=function(){var a=this;return a.replace(/^\s*/,"").replace(/\s*$/,"")},q.$sub=o=function(a,b){var c=this,e=o._p,f=e||d;return o._p=null,"string"==typeof b?(b=b.replace(/\\([1-9])/g,"$$$1"),c.replace(a,b)):f!==d?c.replace(a,function(){for(var a=[],b=0,c=arguments.length;c>b;b++){var e=arguments[b];a.push(void 0==e?d:e)}a.pop(),a.pop(),a.length;return h["&"]=a[0],h["~"]=a,f(a[0])}):void 0!==b?b["$is_a?"](r.Hash)?c.replace(a,function(){var a=b["$[]"](c.$str());return null==a?d:c.$value().$to_s()}):(b=r.String.$try_convert(b),null==b&&c.$raise(r.TypeError,"can't convert "+b.$class()+" into String"),c.replace(a,b)):(b=b.toString().replace(/\\([1-9])/g,"$$$1"),c.replace(a,b))},a.defn(p,"$succ",q.$next),q.$sum=function(a){var b=this;null==a&&(a=16);for(var c=0,d=0,e=b.length;e>d;d++)c+=b.charCodeAt(d)%((1<<a)-1);return c},q.$swapcase=function(){var a=this,b=a.replace(/([a-z]+)|([A-Z]+)/g,function(a,b){return b?a.toUpperCase():a.toLowerCase()});return a.constructor===String?b:a.$class().$new(b)},q.$to_a=function(){var a=this;return 0===a.length?[]:[a]},q.$to_f=function(){var a=this,b=parseFloat(a);return isNaN(b)?0:b},q.$to_i=function(a){var b=this;null==a&&(a=10);var c=parseInt(b,a);return isNaN(c)?0:c},q.$to_proc=function(){var a=this,b="$"+a;return function(a){var c=a[b];return c?c.call(a):a.$method_missing(b)}},q.$to_s=function(){var a=this;return a.toString()},a.defn(p,"$to_str",q.$to_s),a.defn(p,"$to_sym",q.$intern),q.$tr=function(a,b){var c=this;if(0==a.length||a===b)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",n=0,x=c.length;x>n;n++){var o=c.charAt(n),y=d[o];w+=i?null==y?j:o:null!=y?y:o}return w},q.$tr_s=function(a,b){var c=this;if(0==a.length)return c;var d={},e=a.split(""),f=e.length,g=b.split(""),h=g.length,i=!1,j=null;"^"===e[0]&&(i=!0,e.shift(),j=g[h-1],f-=1);for(var k=[],l=null,m=!1,n=0;f>n;n++){var o=e[n];if(null==l)l=o,k.push(o);else if("-"===o)"-"===l?(k.push("-"),k.push("-")):n==f-1?k.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)k.push(String.fromCharCode(r));k.push(o),m=null,l=null}else k.push(o)}if(e=k,f=e.length,i)for(var n=0;f>n;n++)d[e[n]]=!0;else{if(h>0){for(var s=[],t=null,m=!1,n=0;h>n;n++){var o=g[n];if(null==l)l=o,s.push(o);else if("-"===o)"-"===t?(s.push("-"),s.push("-")):n==h-1?s.push("-"):m=!0;else if(m){for(var p=l.charCodeAt(0)+1,q=o.charCodeAt(0),r=p;q>r;r++)s.push(String.fromCharCode(r));s.push(o),m=null,l=null}else s.push(o)}g=s,h=g.length}var u=f-h;if(u>0)for(var v=h>0?g[h-1]:"",n=0;u>n;n++)g.push(v);for(var n=0;f>n;n++)d[e[n]]=g[n]}for(var w="",x=null,n=0,y=c.length;y>n;n++){var o=c.charAt(n),z=d[o];i?null==z?null==x&&(w+=j,x=!0):(w+=o,x=null):null!=z?(null==x||x!==z)&&(w+=z,x=z):(w+=o,x=null)}return w},q.$upcase=function(){var a=this;return a.toUpperCase()},q.$freeze=function(){var a=this;return a},q["$frozen?"]=function(){return!0},d}(b,null),a.cdecl(c,"Symbol",c.String)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass,f=a.gvars;return function(b,g){function h(){}var i,j=h=e(b,g,"MatchData",h),k=h._proto,l=h._scope;return k.string=k.matches=k.begin=c,j.$attr_reader("post_match","pre_match","regexp","string"),a.defs(j,"$new",i=function(b,d){var e=this,g=(i._p,c);return i._p=null,g=a.find_super_dispatcher(e,"new",i,null,h).apply(e,[b,d]),f["`"]=g.$pre_match(),f["'"]=g.$post_match(),f["~"]=g,g}),k.$initialize=function(a,b){var d=this;d.regexp=a,d.begin=b.index,d.string=b.input,d.pre_match=d.string.substr(0,a.lastIndex-b[0].length),d.post_match=d.string.substr(a.lastIndex),d.matches=[];for(var e=0,f=b.length;f>e;e++){var g=b[e];d.matches.push(null==g?c:g)}},k["$[]"]=function(a){var b,c=this;return a=d.call(arguments,0),(b=c.matches)["$[]"].apply(b,[].concat(a))},k["$=="]=function(a){var b,d,e,f,g=this;return(b=l.MatchData["$==="](a))===!1||b===c?!1:(f=g.string==a.string,e=f!==!1&&f!==c?g.regexp==a.regexp:f,d=e!==!1&&e!==c?g.pre_match==a.pre_match:e,b=d!==!1&&d!==c?g.post_match==a.post_match:d,b!==!1&&b!==c?g.begin==a.begin:b)},k.$begin=function(a){var b,d,e,f=this;return e=a["$=="](0),d=e===c||e===!1,(b=d!==!1&&d!==c?(e=a["$=="](1),e===c||e===!1):d)!==!1&&b!==c&&f.$raise(l.ArgumentError,"MatchData#begin only supports 0th element"),f.begin},k.$captures=function(){var a=this;return a.matches.slice(1)},k.$inspect=function(){for(var a=this,b="#<MatchData "+a.matches[0].$inspect(),c=1,d=a.matches.length;d>c;c++)b+=" "+c+":"+a.matches[c].$inspect();return b+">"},k.$length=function(){var a=this;return a.matches.length},a.defn(j,"$size",k.$length),k.$to_a=function(){var a=this;return a.matches},k.$to_s=function(){var a=this;return a.matches[0]},k.$values_at=function(a){var b=this;a=d.call(arguments,0);for(var e=[],f=b.matches.length,g=0,h=a.length;h>g;g++){var i=a[g];i>=0?e.push(b.matches[i]):(i+=f,e.push(i>0?b.matches[i]:c))}return e},c}(b,null)}(Opal),function(a){var b,c,d,e,f,g,h,i=a.top,j=a,k=a.nil,l=a.breaker,m=(a.slice,a.klass),n=a.hash2;return function(b,c){function d(){}var e,f=d=m(b,c,"Encoding",d),g=d._proto,h=d._scope;return g.ascii=g.dummy=g.name=k,a.defs(f,"$register",e=function(a,b){var c,d,f,g,i=this,j=e._p,l=j||k,m=k,o=k;return null==b&&(b=n([],{})),e._p=null,m=[a]["$+"]((c=b["$[]"]("aliases"))!==!1&&c!==k?c:[]),o=(c=(d=h.Class).$new,c._p=l.$to_proc(),c).call(d,i).$new(a,m,(c=b["$[]"]("ascii"))!==!1&&c!==k?c:!1,(c=b["$[]"]("dummy"))!==!1&&c!==k?c:!1),(c=(f=m).$each,c._p=(g=function(a){var b=g._s||this;return null==a&&(a=k),b.$const_set(a.$sub("-","_"),o)},g._s=i,g),c).call(f)}),a.defs(f,"$find",function(b){try{var c,d,e,f=this;return(c=f["$==="](b))!==!1&&c!==k?b:((c=(d=f.$constants()).$each,c._p=(e=function(c){var d,f,g=e._s||this,h=k;return null==c&&(c=k),h=g.$const_get(c),(d=(f=h.$name()["$=="](b))!==!1&&f!==k?f:h.$names()["$include?"](b))===!1||d===k?k:void a.$return(h)},e._s=f,e),c).call(d),f.$raise(h.ArgumentError,"unknown encoding name - "+b))}catch(g){if(g===a.returner)return g.$v;throw g}}),function(a){a._scope,a._proto;return a.$attr_accessor("default_external")}(f.$singleton_class()),f.$attr_reader("name","names"),g.$initialize=function(a,b,c,d){var e=this;return e.name=a,e.names=b,e.ascii=c,e.dummy=d},g["$ascii_compatible?"]=function(){var a=this;return a.ascii},g["$dummy?"]=function(){var a=this;return a.dummy},g.$to_s=function(){var a=this;return a.name},g.$inspect=function(){var a,b=this;return"#<Encoding:"+b.name+function(){return(a=b.dummy)!==!1&&a!==k?" (dummy)":k}()+">"},g.$each_byte=function(){var a=this;return a.$raise(h.NotImplementedError)},g.$getbyte=function(){var a=this;return a.$raise(h.NotImplementedError)},g.$bytesize=function(){var a=this;return a.$raise(h.NotImplementedError)},k}(i,null),(b=(c=j.Encoding).$register,b._p=(d=function(){var b,c=d._s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b._p,f=e||k;b._p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);if(127>=i)(d=a.$yield1(f,i))===l?l.$v:d;else for(var j=encodeURIComponent(c.charAt(g)).substr(1).split("%"),m=0,n=j.length;n>m;m++)(d=a.$yield1(f,parseInt(j[m],16)))===l?l.$v:d}}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),k},d._s=i,d),b).call(c,"UTF-8",n(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})),(b=(e=j.Encoding).$register,b._p=(f=function(){var b,c=f._s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b._p,f=e||k;b._p=null;for(var g=0,h=c.length;h>g;g++){var i=c.charCodeAt(g);(d=a.$yield1(f,255&i))===l?l.$v:d,(d=a.$yield1(f,i>>8))===l?l.$v:d}}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),k},f._s=i,f),b).call(e,"UTF-16LE"),(b=(g=j.Encoding).$register,b._p=(h=function(){var b,c=h._s||this;return a.defn(c,"$each_byte",b=function(c){var d,e=b._p,f=e||k;b._p=null;for(var g=0,h=c.length;h>g;g++)(d=a.$yield1(f,255&c.charCodeAt(g)))===l?l.$v:d}),a.defn(c,"$bytesize",function(){var a=this;return a.$bytes().$length()}),k},h._s=i,h),b).call(g,"ASCII-8BIT",n(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})),function(a,b){function c(){}var d,e=(c=m(a,b,"String",c),c._proto),f=c._scope;return e.encoding=k,e.encoding=f.Encoding._scope.UTF_16LE,e.$bytes=function(){var a=this;return a.$each_byte().$to_a()},e.$bytesize=function(){var a=this;return a.encoding.$bytesize(a)},e.$each_byte=d=function(){var a,b,c=this,e=d._p,f=e||k;return d._p=null,f===k?c.$enum_for("each_byte"):((a=(b=c.encoding).$each_byte,a._p=f.$to_proc(),a).call(b,c),c)},e.$encoding=function(){var a=this;return a.encoding},e.$force_encoding=function(a){var b=this;if(a=f.Encoding.$find(a),a["$=="](b.encoding))return b;var c=new native_string(b);return c.encoding=a,c},e.$getbyte=function(a){var b=this;return b.encoding.$getbyte(b,a)},k}(i,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=a.breaker,f=a.slice,g=a.klass;return function(b,c){function h(){}var i,j,k,l,m,n=h=g(b,c,"Numeric",h),o=h._proto,p=h._scope;return n.$include(p.Comparable),o._isNumber=!0,function(a){a._scope,a._proto;
return a.$undef_method("new")}(n.$singleton_class()),o.$coerce=function(a,b){var c=this,e=d;null==b&&(b="operation");try{return a._isNumber?[c,a]:a.$coerce(c)}catch(f){return function(){return e=b,"operation"["$==="](e)?c.$raise(p.TypeError,""+a.$class()+" can't be coerce into Numeric"):"comparison"["$==="](e)?c.$raise(p.ArgumentError,"comparison of "+c.$class()+" with "+a.$class()+" failed"):d}()}},o.$send_coerced=function(b,c){var e,f=this,g=d,h=d,i=d,j=d;return g=function(){return h=b,"+"["$==="](h)||"-"["$==="](h)||"*"["$==="](h)||"/"["$==="](h)||"%"["$==="](h)||"&"["$==="](h)||"|"["$==="](h)||"^"["$==="](h)||"**"["$==="](h)?"operation":">"["$==="](h)||">="["$==="](h)||"<"["$==="](h)||"<="["$==="](h)||"<=>"["$==="](h)?"comparison":d}(),e=a.to_ary(f.$coerce(c,g)),i=null==e[0]?d:e[0],j=null==e[1]?d:e[1],i.$__send__(b,j)},o["$+"]=function(a){var b=this;return a._isNumber?b+a:b.$send_coerced("+",a)},o["$-"]=function(a){var b=this;return a._isNumber?b-a:b.$send_coerced("-",a)},o["$*"]=function(a){var b=this;return a._isNumber?b*a:b.$send_coerced("*",a)},o["$/"]=function(a){var b=this;return a._isNumber?b/a:b.$send_coerced("/",a)},o["$%"]=function(a){var b=this;return a._isNumber?0>a||0>b?(b%a+a)%a:b%a:b.$send_coerced("%",a)},o["$&"]=function(a){var b=this;return a._isNumber?b&a:b.$send_coerced("&",a)},o["$|"]=function(a){var b=this;return a._isNumber?b|a:b.$send_coerced("|",a)},o["$^"]=function(a){var b=this;return a._isNumber?b^a:b.$send_coerced("^",a)},o["$<"]=function(a){var b=this;return a._isNumber?a>b:b.$send_coerced("<",a)},o["$<="]=function(a){var b=this;return a._isNumber?a>=b:b.$send_coerced("<=",a)},o["$>"]=function(a){var b=this;return a._isNumber?b>a:b.$send_coerced(">",a)},o["$>="]=function(a){var b=this;return a._isNumber?b>=a:b.$send_coerced(">=",a)},o["$<=>"]=function(a){var b=this;try{return a._isNumber?b>a?1:a>b?-1:0:b.$send_coerced("<=>",a)}catch(c){if(p.ArgumentError["$==="](c))return d;throw c}},o["$<<"]=function(a){var b=this;return b<<a.$to_int()},o["$>>"]=function(a){var b=this;return b>>a.$to_int()},o["$+@"]=function(){var a=this;return+a},o["$-@"]=function(){var a=this;return-a},o["$~"]=function(){var a=this;return~a},o["$**"]=function(a){var b=this;return a._isNumber?Math.pow(b,a):b.$send_coerced("**",a)},o["$=="]=function(a){var b=this;return a._isNumber?b==Number(a):a["$respond_to?"]("==")?a["$=="](b):!1},o.$abs=function(){var a=this;return Math.abs(a)},o.$ceil=function(){var a=this;return Math.ceil(a)},o.$chr=function(){var a=this;return String.fromCharCode(a)},o.$conj=function(){var a=this;return a},a.defn(n,"$conjugate",o.$conj),o.$downto=i=function(a){var b,c=this,f=i._p,g=f||d;if(i._p=null,(b=g)===!1||b===d)return c.$enum_for("downto",a);for(var h=c;h>=a;h--)if(g(h)===e)return e.$v;return c},a.defn(n,"$eql?",o["$=="]),a.defn(n,"$equal?",o["$=="]),o["$even?"]=function(){var a=this;return a%2===0},o.$floor=function(){var a=this;return Math.floor(a)},o.$hash=function(){var a=this;return a.toString()},o["$integer?"]=function(){var a=this;return a%1===0},o["$is_a?"]=j=function(b){var c,e,g=f.call(arguments,0),h=this,i=j._p;return j._p=null,(c=(e=b["$=="](p.Float))?p.Float["$==="](h):e)!==!1&&c!==d?!0:(c=(e=b["$=="](p.Integer))?p.Integer["$==="](h):e)!==!1&&c!==d?!0:a.find_super_dispatcher(h,"is_a?",j,i).apply(h,g)},a.defn(n,"$magnitude",o.$abs),a.defn(n,"$modulo",o["$%"]),o.$next=function(){var a=this;return a+1},o["$nonzero?"]=function(){var a=this;return 0==a?d:a},o["$odd?"]=function(){var a=this;return a%2!==0},o.$ord=function(){var a=this;return a},o.$pred=function(){var a=this;return a-1},o.$step=k=function(a,b){var c,e=this,f=k._p,g=f||d;if(null==b&&(b=1),k._p=null,(c=g)===!1||c===d)return e.$enum_for("step",a,b);(c=0==b)!=!1&&c!==d&&e.$raise(p.ArgumentError,"step cannot be 0");var h=e;if(b>0)for(;a>=h;)g(h),h+=b;else for(;h>=a;)g(h),h+=b;return e},a.defn(n,"$succ",o.$next),o.$times=l=function(){var a,b=this,c=l._p,f=c||d;if(l._p=null,(a=f)===!1||a===d)return b.$enum_for("times");for(var g=0;b>g;g++)if(f(g)===e)return e.$v;return b},o.$to_f=function(){var a=this;return parseFloat(a)},o.$to_i=function(){var a=this;return parseInt(a)},a.defn(n,"$to_int",o.$to_i),o.$to_s=function(a){var b,c,e=this;return null==a&&(a=10),(b=(c=a["$<"](2))!==!1&&c!==d?c:a["$>"](36))!==!1&&b!==d&&e.$raise(p.ArgumentError,"base must be between 2 and 36"),e.toString(a)},a.defn(n,"$inspect",o.$to_s),o.$divmod=function(a){var b=this,c=d,e=d;return c=b["$/"](a).$floor(),e=b["$%"](a),[c,e]},o.$upto=m=function(a){var b,c=this,f=m._p,g=f||d;if(m._p=null,(b=g)===!1||b===d)return c.$enum_for("upto",a);for(var h=c;a>=h;h++)if(g(h)===e)return e.$v;return c},o["$zero?"]=function(){var a=this;return 0==a},o.$size=function(){return 4},o["$nan?"]=function(){var a=this;return isNaN(a)},o["$finite?"]=function(){var a=this;return 1/0==a||a==-1/0},o["$infinite?"]=function(){var a,b=this;return(a=1/0==b)!=!1&&a!==d?1:(a=b==-1/0)!=!1&&a!==d?-1:d},d}(b,null),a.cdecl(c,"Fixnum",c.Numeric),function(b,c){function e(){}{var f=e=g(b,c,"Integer",e);e._proto,e._scope}return a.defs(f,"$===",function(a){return!(!a._isNumber||a%1!=0)}),d}(b,c.Numeric),function(b,c){function d(){}var e=d=g(b,c,"Float",d),f=(d._proto,d._scope);return a.defs(e,"$===",function(a){return!(!a._isNumber||a%1==0)}),a.cdecl(f,"INFINITY",1/0),a.cdecl(f,"NAN",0/0)}(b,c.Numeric)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return function(b,g){function h(){}var i,j,k=h=f(b,g,"Proc",h),l=h._proto,m=h._scope;return l._isProc=!0,l.is_lambda=!1,a.defs(k,"$new",i=function(){var a,b=this,d=i._p,e=d||c;return i._p=null,((a=e)===!1||a===c)&&b.$raise(m.ArgumentError,"tried to create a Proc object without a block"),e}),l.$call=j=function(a){var b=this,f=j._p,g=f||c;a=e.call(arguments,0),j._p=null,g!==c&&(b._p=g);var h;return h=b.is_lambda?b.apply(null,a):Opal.$yieldX(b,a),h===d?d.$v:h},a.defn(k,"$[]",l.$call),l.$to_proc=function(){var a=this;return a},l["$lambda?"]=function(){var a=this;return!!a.is_lambda},l.$arity=function(){var a=this;return a.length},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return function(b,f){function g(){}var h,i=g=e(b,f,"Method",g),j=g._proto,k=g._scope;return j.method=j.receiver=j.owner=j.name=j.obj=c,i.$attr_reader("owner","receiver","name"),j.$initialize=function(a,b,c){var d=this;return d.receiver=a,d.owner=a.$class(),d.name=c,d.method=b},j.$arity=function(){var a=this;return a.method.$arity()},j.$call=h=function(a){var b=this,e=h._p,f=e||c;return a=d.call(arguments,0),h._p=null,b.method._p=f,b.method.apply(b.receiver,a)},a.defn(i,"$[]",j.$call),j.$unbind=function(){var a=this;return k.UnboundMethod.$new(a.owner,a.method,a.name)},j.$to_proc=function(){var a=this;return a.method},j.$inspect=function(){var a=this;return"#<Method: "+a.obj.$class().$name()+"#"+a.name+"}>"},c}(b,null),function(a,b){function d(){}var f=d=e(a,b,"UnboundMethod",d),g=d._proto,h=d._scope;return g.method=g.name=g.owner=c,f.$attr_reader("owner","name"),g.$initialize=function(a,b,c){var d=this;return d.owner=a,d.method=b,d.name=c},g.$arity=function(){var a=this;return a.method.$arity()},g.$bind=function(a){var b=this;return h.Method.$new(a,b.method,b.name)},g.$inspect=function(){var a=this;return"#<UnboundMethod: "+a.owner.$name()+"#"+a.name+">"},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return function(b,g){function h(){}var i,j,k,l=h=f(b,g,"Range",h),m=h._proto,n=h._scope;return m.begin=m.exclude=m.end=c,l.$include(n.Enumerable),m._isRange=!0,l.$attr_reader("begin","end"),m.$initialize=function(a,b,c){var d=this;return null==c&&(c=!1),d.begin=a,d.end=b,d.exclude=c},m["$=="]=function(a){var b=this;return a._isRange?b.exclude===a.exclude&&b.begin==a.begin&&b.end==a.end:!1},m["$==="]=function(a){var b=this;return b["$include?"](a)},m["$cover?"]=function(a){var b,d,e=this;return(b=e.begin["$<="](a))?function(){return(d=e.exclude)!==!1&&d!==c?a["$<"](e.end):a["$<="](e.end)}():b},a.defn(l,"$last",m.$end),m.$each=i=function(){var b,e,f,g=this,h=i._p,j=h||c,k=c,l=c;if(i._p=null,j===c)return g.$enum_for("each");for(k=g.begin,l=g.end;k["$<"](l);){if(a.$yield1(j,k)===d)return d.$v;k=k.$succ()}return f=g.exclude,e=f===c||f===!1,(b=e!==!1&&e!==c?k["$=="](l):e)!==!1&&b!==c&&a.$yield1(j,k)===d?d.$v:g},m["$eql?"]=function(a){var b,d,e=this;return(b=n.Range["$==="](a))===!1||b===c?!1:(d=e.exclude["$==="](a["$exclude_end?"]()),b=d!==!1&&d!==c?e.begin["$eql?"](a.$begin()):d,b!==!1&&b!==c?e.end["$eql?"](a.$end()):b)},m["$exclude_end?"]=function(){var a=this;return a.exclude},a.defn(l,"$first",m.$begin),m["$include?"]=function(a){var b=this;return b["$cover?"](a)},m.$max=j=function(){var b=e.call(arguments,0),d=this,f=j._p,g=f||c;return j._p=null,g!==c?a.find_super_dispatcher(d,"max",j,f).apply(d,b):d.exclude?d.end-1:d.end},m.$min=k=function(){var b=e.call(arguments,0),d=this,f=k._p,g=f||c;return k._p=null,g!==c?a.find_super_dispatcher(d,"min",k,f).apply(d,b):d.begin},a.defn(l,"$member?",m["$include?"]),m.$step=function(a){var b=this;return null==a&&(a=1),b.$raise(n.NotImplementedError)},m.$to_s=function(){var a=this;return a.begin.$inspect()+(a.exclude?"...":"..")+a.end.$inspect()},a.defn(l,"$inspect",m.$to_s)}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass;return function(b,f){function g(){}var h=g=e(b,f,"Time",g),i=g._proto,j=g._scope;h.$include(j.Comparable);var k=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],l=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],m=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],n=["January","Febuary","March","April","May","June","July","August","September","October","November","December"];return a.defs(h,"$at",function(a,b){return null==b&&(b=0),new Date(1e3*a+b)}),a.defs(h,"$new",function(a,b,c,d,e,f){var g=this;switch(arguments.length){case 1:return new Date(a,0);case 2:return new Date(a,b-1);case 3:return new Date(a,b-1,c);case 4:return new Date(a,b-1,c,d);case 5:return new Date(a,b-1,c,d,e);case 6:return new Date(a,b-1,c,d,e,f);case 7:g.$raise(j.NotImplementedError);default:return new Date}}),a.defs(h,"$local",function(a,b,e,f,g,h,i){var k,l=this;if(null==b&&(b=c),null==e&&(e=c),null==f&&(f=c),null==g&&(g=c),null==h&&(h=c),null==i&&(i=c),(k=10===arguments.length)!=!1&&k!==c){var m=d.call(arguments).reverse();h=m[9],g=m[8],f=m[7],e=m[6],b=m[5],a=m[4]}return a=function(){return(k=a["$kind_of?"](j.String))!==!1&&k!==c?a.$to_i():j.Opal.$coerce_to(a,j.Integer,"to_int")}(),b=function(){return(k=b["$kind_of?"](j.String))!==!1&&k!==c?b.$to_i():j.Opal.$coerce_to((k=b)!==!1&&k!==c?k:1,j.Integer,"to_int")}(),((k=b["$between?"](1,12))===!1||k===c)&&l.$raise(j.ArgumentError,"month out of range: "+b),e=function(){return(k=e["$kind_of?"](j.String))!==!1&&k!==c?e.$to_i():j.Opal.$coerce_to((k=e)!==!1&&k!==c?k:1,j.Integer,"to_int")}(),((k=e["$between?"](1,31))===!1||k===c)&&l.$raise(j.ArgumentError,"day out of range: "+e),f=function(){return(k=f["$kind_of?"](j.String))!==!1&&k!==c?f.$to_i():j.Opal.$coerce_to((k=f)!==!1&&k!==c?k:0,j.Integer,"to_int")}(),((k=f["$between?"](0,24))===!1||k===c)&&l.$raise(j.ArgumentError,"hour out of range: "+f),g=function(){return(k=g["$kind_of?"](j.String))!==!1&&k!==c?g.$to_i():j.Opal.$coerce_to((k=g)!==!1&&k!==c?k:0,j.Integer,"to_int")}(),((k=g["$between?"](0,59))===!1||k===c)&&l.$raise(j.ArgumentError,"minute out of range: "+g),h=function(){return(k=h["$kind_of?"](j.String))!==!1&&k!==c?h.$to_i():j.Opal.$coerce_to((k=h)!==!1&&k!==c?k:0,j.Integer,"to_int")}(),((k=h["$between?"](0,59))===!1||k===c)&&l.$raise(j.ArgumentError,"second out of range: "+h),(k=l).$new.apply(k,[].concat([a,b,e,f,g,h].$compact()))}),a.defs(h,"$gm",function(a,b,d,e,f,g){var h,i=this;switch((h=a["$nil?"]())!==!1&&h!==c&&i.$raise(j.TypeError,"missing year (got nil)"),arguments.length){case 1:return new Date(Date.UTC(a,0));case 2:return new Date(Date.UTC(a,b-1));case 3:return new Date(Date.UTC(a,b-1,d));case 4:return new Date(Date.UTC(a,b-1,d,e));case 5:return new Date(Date.UTC(a,b-1,d,e,f));case 6:return new Date(Date.UTC(a,b-1,d,e,f,g));case 7:i.$raise(j.NotImplementedError)}}),function(a){a._scope,a._proto;return a._proto.$mktime=a._proto.$local,a._proto.$utc=a._proto.$gm}(h.$singleton_class()),a.defs(h,"$now",function(){return new Date}),i["$+"]=function(a){var b,d=this;return(b=j.Time["$==="](a))!==!1&&b!==c&&d.$raise(j.TypeError,"time + time?"),a=j.Opal.$coerce_to(a,j.Integer,"to_int"),new Date(d.getTime()+1e3*a)},i["$-"]=function(a){var b,d=this;return(b=j.Time["$==="](a))!==!1&&b!==c?(d.getTime()-a.getTime())/1e3:(a=j.Opal.$coerce_to(a,j.Integer,"to_int"),new Date(d.getTime()-1e3*a))},i["$<=>"]=function(a){var b=this;return b.$to_f()["$<=>"](a.$to_f())},i["$=="]=function(a){var b=this;return b.$to_f()===a.$to_f()},i.$day=function(){var a=this;return a.getDate()},i.$yday=function(){var a=this,b=new Date(a.getFullYear(),0,1);return Math.ceil((a-b)/864e5)},i.$isdst=function(){var a=this;return a.$raise(j.NotImplementedError)},i["$eql?"]=function(a){var b,d=this;return b=a["$is_a?"](j.Time),b!==!1&&b!==c?d["$<=>"](a)["$zero?"]():b},i["$friday?"]=function(){var a=this;return 5===a.getDay()},i.$hour=function(){var a=this;return a.getHours()},i.$inspect=function(){var a=this;return a.toString()},a.defn(h,"$mday",i.$day),i.$min=function(){var a=this;return a.getMinutes()},i.$mon=function(){var a=this;return a.getMonth()+1},i["$monday?"]=function(){var a=this;return 1===a.getDay()},a.defn(h,"$month",i.$mon),i["$saturday?"]=function(){var a=this;return 6===a.getDay()},i.$sec=function(){var a=this;return a.getSeconds()},i.$usec=function(){var a=this;return a.$warn("Microseconds are not supported"),0},i.$zone=function(){var a,b=this,c=b.toString();return a=-1==c.indexOf("(")?c.match(/[A-Z]{3,4}/)[0]:c.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join(""),"GMT"==a&&/(GMT\W*\d{4})/.test(c)?RegExp.$1:a},i.$gmt_offset=function(){var a=this;return 60*-a.getTimezoneOffset()},i.$strftime=function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,c,d,e,f){var g="",d=parseInt(d),h=-1!==c.indexOf("0"),i=-1===c.indexOf("-"),j=-1!==c.indexOf("_"),o=-1!==c.indexOf("^"),p=-1!==c.indexOf("#"),q=(c.match(":")||[]).length;switch(h&&j&&(c.indexOf("0")<c.indexOf("_")?h=!1:j=!1),f){case"Y":g+=b.getFullYear();break;case"C":h=!j,g+=Match.round(b.getFullYear()/100);break;case"y":h=!j,g+=b.getFullYear()%100;break;case"m":h=!j,g+=b.getMonth()+1;break;case"B":g+=n[b.getMonth()];break;case"b":case"h":j=!h,g+=m[b.getMonth()];break;case"d":h=!j,g+=b.getDate();break;case"e":j=!h,g+=b.getDate();break;case"j":g+=b.$yday();break;case"H":h=!j,g+=b.getHours();break;case"k":j=!h,g+=b.getHours();break;case"I":h=!j,g+=b.getHours()%12||12;break;case"l":j=!h,g+=b.getHours()%12||12;break;case"P":g+=b.getHours()>=12?"pm":"am";break;case"p":g+=b.getHours()>=12?"PM":"AM";break;case"M":h=!j,g+=b.getMinutes();break;case"S":h=!j,g+=b.getSeconds();break;case"L":h=!j,d=isNaN(d)?3:d,g+=b.getMilliseconds();break;case"N":d=isNaN(d)?9:d,g+=b.getMilliseconds().toString().$rjust(3,"0"),g=g.$ljust(d,"0");break;case"z":var r=b.getTimezoneOffset(),s=Math.floor(Math.abs(r)/60),t=Math.abs(r)%60;g+=0>r?"+":"-",g+=10>s?"0":"",g+=s,q>0&&(g+=":"),g+=10>t?"0":"",g+=t,q>1&&(g+=":00");break;case"Z":g+=b.$zone();break;case"A":g+=k[b.getDay()];break;case"a":g+=l[b.getDay()];break;case"u":g+=b.getDay()+1;break;case"w":g+=b.getDay();break;case"s":g+=parseInt(b.getTime()/1e3);break;case"n":g+="\n";break;case"t":g+="	";break;case"%":g+="%";break;case"c":g+=b.$strftime("%a %b %e %T %Y");break;case"D":case"x":g+=b.$strftime("%m/%d/%y");break;case"F":g+=b.$strftime("%Y-%m-%d");break;case"v":g+=b.$strftime("%e-%^b-%4Y");break;case"r":g+=b.$strftime("%I:%M:%S %p");break;case"R":g+=b.$strftime("%H:%M");break;case"T":case"X":g+=b.$strftime("%H:%M:%S");break;default:return a}return o&&(g=g.toUpperCase()),p&&(g=g.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()})),i&&(h||j)&&(g=g.$rjust(isNaN(d)?2:d,j?" ":"0")),g})},i["$sunday?"]=function(){var a=this;return 0===a.getDay()},i["$thursday?"]=function(){var a=this;return 4===a.getDay()},i.$to_a=function(){var a=this;return[a.$sec(),a.$min(),a.$hour(),a.$day(),a.$month(),a.$year(),a.$wday(),a.$yday(),a.$isdst(),a.$zone()]},i.$to_f=function(){var a=this;return a.getTime()/1e3},i.$to_i=function(){var a=this;return parseInt(a.getTime()/1e3)},a.defn(h,"$to_s",i.$inspect),i["$tuesday?"]=function(){var a=this;return 2===a.getDay()},i.$wday=function(){var a=this;return a.getDay()},i["$wednesday?"]=function(){var a=this;return 3===a.getDay()},i.$year=function(){var a=this;return a.getFullYear()},c}(b,null),function(b,d){function f(){}{var g=f=e(b,d,"Time",f),h=f._proto;f._scope}return a.defs(g,"$parse",function(a){return new Date(Date.parse(a))}),h.$iso8601=function(){var a=this;return a.$strftime("%FT%T%z")},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.klass;return function(b,g){function h(){}var i,j,k,l=h=f(b,g,"Struct",h),m=h._proto,n=h._scope;return a.defs(l,"$new",i=function(b,d){var f,g,j,k,l=e.call(arguments,0),m=this,o=i._p,p=o||c;return d=e.call(arguments,1),i._p=null,(f=m["$=="](n.Struct))===!1||f===c?a.find_super_dispatcher(m,"new",i,o,h).apply(m,l):b["$[]"](0)["$=="](b["$[]"](0).$upcase())?n.Struct.$const_set(b,(f=m).$new.apply(f,[].concat(d))):(d.$unshift(b),(g=(j=n.Class).$new,g._p=(k=function(){var a,b,e,f,g=k._s||this;return(a=(b=d).$each,a._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$define_struct_attribute(a)},e._s=g,e),a).call(b),p!==!1&&p!==c?(a=(f=g).$instance_eval,a._p=p.$to_proc(),a).call(f):c},k._s=m,k),g).call(j,m))}),a.defs(l,"$define_struct_attribute",function(a){var b,d,e,f,g,h=this;return h["$=="](n.Struct)&&h.$raise(n.ArgumentError,"you cannot define attributes to the Struct class"),h.$members()["$<<"](a),(b=(d=h).$define_method,b._p=(e=function(){var b=e._s||this;return b.$instance_variable_get("@"+a)},e._s=h,e),b).call(d,a),(b=(f=h).$define_method,b._p=(g=function(b){var d=g._s||this;return null==b&&(b=c),d.$instance_variable_set("@"+a,b)},g._s=h,g),b).call(f,""+a+"=")}),a.defs(l,"$members",function(){var a,b=this;return null==b.members&&(b.members=c),b["$=="](n.Struct)&&b.$raise(n.ArgumentError,"the Struct class has no members"),(a=b.members)!==!1&&a!==c?a:b.members=[]}),a.defs(l,"$inherited",function(a){var b,d,e,f=this,g=c;return null==f.members&&(f.members=c),f["$=="](n.Struct)?c:(g=f.members,(b=(d=a).$instance_eval,b._p=(e=function(){var a=e._s||this;return a.members=g},e._s=f,e),b).call(d))}),l.$include(n.Enumerable),m.$initialize=function(a){var b,d,f,g=this;return a=e.call(arguments,0),(b=(d=g.$members()).$each_with_index,b._p=(f=function(b,d){var e=f._s||this;return null==b&&(b=c),null==d&&(d=c),e.$instance_variable_set("@"+b,a["$[]"](d))},f._s=g,f),b).call(d)},m.$members=function(){var a=this;return a.$class().$members()},m["$[]"]=function(a){var b,d=this;return(b=n.Integer["$==="](a))!==!1&&b!==c?(a["$>="](d.$members().$size())&&d.$raise(n.IndexError,"offset "+a+" too large for struct(size:"+d.$members().$size()+")"),a=d.$members()["$[]"](a)):((b=d.$members()["$include?"](a.$to_sym()))===!1||b===c)&&d.$raise(n.NameError,"no member '"+a+"' in struct"),d.$instance_variable_get("@"+a)},m["$[]="]=function(a,b){var d,e=this;return(d=n.Integer["$==="](a))!==!1&&d!==c?(a["$>="](e.$members().$size())&&e.$raise(n.IndexError,"offset "+a+" too large for struct(size:"+e.$members().$size()+")"),a=e.$members()["$[]"](a)):((d=e.$members()["$include?"](a.$to_sym()))===!1||d===c)&&e.$raise(n.NameError,"no member '"+a+"' in struct"),e.$instance_variable_set("@"+a,b)},m.$each=j=function(){var b,e,f,g=this,h=j._p,i=h||c;return j._p=null,i===c?g.$enum_for("each"):(b=(e=g.$members()).$each,b._p=(f=function(b){var e,g=f._s||this;return null==b&&(b=c),e=a.$yield1(i,g["$[]"](b)),e===d?e:e},f._s=g,f),b).call(e)},m.$each_pair=k=function(){var b,e,f,g=this,h=k._p,i=h||c;return k._p=null,i===c?g.$enum_for("each_pair"):(b=(e=g.$members()).$each,b._p=(f=function(b){var e,g=f._s||this;return null==b&&(b=c),e=a.$yieldX(i,[b,g["$[]"](b)]),e===d?e:e},f._s=g,f),b).call(e)},m["$eql?"]=function(a){var b,d,e,f,g=this;return(b=g.$hash()["$=="](a.$hash()))!==!1&&b!==c?b:(d=(e=a.$each_with_index())["$all?"],d._p=(f=function(a,b){var d=f._s||this;return null==a&&(a=c),null==b&&(b=c),d["$[]"](d.$members()["$[]"](b))["$=="](a)},f._s=g,f),d).call(e)},m.$length=function(){var a=this;return a.$members().$length()},a.defn(l,"$size",m.$length),m.$to_a=function(){var a,b,d,e=this;return(a=(b=e.$members()).$map,a._p=(d=function(a){var b=d._s||this;return null==a&&(a=c),b["$[]"](a)},d._s=e,d),a).call(b)},a.defn(l,"$values",m.$to_a),m.$inspect=function(){var a,b,d,e=this,f=c;return f="#<struct ",e.$class()["$=="](n.Struct)&&(f=f["$+"](""+e.$class().$name()+" ")),f=f["$+"]((a=(b=e.$each_pair()).$map,a._p=(d=function(a,b){d._s||this;return null==a&&(a=c),null==b&&(b=c),""+a+"="+b.$inspect()},d._s=e,d),a).call(b).$join(", ")),f=f["$+"](">")},c}(b,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice),f=a.klass,g=a.module,h=a.gvars;return function(b,c){function i(){}var j=i=f(b,c,"IO",i),k=(i._proto,i._scope);return a.cdecl(k,"SEEK_SET",0),a.cdecl(k,"SEEK_CUR",1),a.cdecl(k,"SEEK_END",2),function(b){{var c=g(b,"Writable"),f=c._proto;c._scope}f["$<<"]=function(a){var b=this;return b.$write(a),b},f.$print=function(a){var b,c,f,g=this;return a=e.call(arguments,0),g.$write((b=(c=a).$map,b._p=(f=function(a){var b=f._s||this;return null==a&&(a=d),b.$String(a)},f._s=g,f),b).call(c).$join(h[","]))},f.$puts=function(a){var b,c,f,g=this;return a=e.call(arguments,0),g.$write((b=(c=a).$map,b._p=(f=function(a){var b=f._s||this;return null==a&&(a=d),b.$String(a)},f._s=g,f),b).call(c).$join(h["/"]))},a.donate(c,["$<<","$print","$puts"])}(j),function(b){var c=g(b,"Readable"),e=c._proto,f=c._scope;e.$readbyte=function(){var a=this;return a.$getbyte()},e.$readchar=function(){var a=this;return a.$getc()},e.$readline=function(a){var b=this;return null==a&&(a=h["/"]),b.$raise(f.NotImplementedError)},e.$readpartial=function(a,b){var c=this;return null==b&&(b=d),c.$raise(f.NotImplementedError)},a.donate(c,["$readbyte","$readchar","$readline","$readpartial"])}(j)}(b,null),a.cdecl(c,"STDERR",h.stderr=c.IO.$new()),a.cdecl(c,"STDIN",h.stdin=c.IO.$new()),a.cdecl(c,"STDOUT",h.stdout=c.IO.$new()),a.defs(h.stdout,"$puts",function(a){var b,c=this;a=e.call(arguments,0);for(var f=0;f<a.length;f++)a[f]instanceof Array?(b=c).$puts.apply(b,[].concat(a[f])):console.log(a[f].$to_s());return d}),a.defs(h.stderr,"$puts",function(a){var b,c=this;a=e.call(arguments,0);for(var f=0;f<a.length;f++)a[f]instanceof Array?(b=c).$puts.apply(b,[].concat(a[f])):console.warn(a[f].$to_s());return d}),d}(Opal),function(a){{var b=a.top,c=a,d=a.nil;a.breaker,a.slice}return a.defs(b,"$to_s",function(){return"main"}),a.defs(b,"$include",function(a){return c.Object.$include(a)}),d}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=a.breaker,f=a.slice,g=a.module,h=a.range,i=a.hash2,j=a.klass,k=a.gvars;return function(b){var c,e=g(b,"Native"),j=e._proto,k=e._scope;a.defs(e,"$is_a?",function(a,b){try{return a instanceof k.Native.$try_convert(b)}catch(c){return!1}}),a.defs(e,"$try_convert",function(a){var b=this;return b["$native?"](a)?a:a["$respond_to?"]("to_n")?a.$to_n():d}),a.defs(e,"$convert",function(a){var b=this;return b["$native?"](a)?a:a["$respond_to?"]("to_n")?a.$to_n():void b.$raise(k.ArgumentError,"the passed value isn't a native")}),a.defs(e,"$call",c=function(a,b,e){var g,h,i,j=this,k=c._p,l=k||d;e=f.call(arguments,2),c._p=null;var m=a[b];return null==m?d:m instanceof Function?(l!==d&&e.push(l),e=(g=(h=e).$map,g._p=(i=function(a){var b,c=i._s||this,e=d;return null==a&&(a=d),e=c.$try_convert(a),(b=d["$==="](e))!==!1&&b!==d?a:e},i._s=j,i),g).call(h),j.$Native(m.apply(a,e))):j["$native?"](m)?j.$Native(m):m}),function(b){var c=g(b,"Helpers"),e=c._proto,j=c._scope;e.$alias_native=function(a,b,c){var e,g,k,l,m,n,o,p=this,q=d;return null==b&&(b=a),null==c&&(c=i([],{})),(e=b["$end_with?"]("="))!==!1&&e!==d?(e=(g=p).$define_method,e._p=(k=function(a){var c=k._s||this;return null==c["native"]&&(c["native"]=d),null==a&&(a=d),c["native"][b["$[]"](h(0,-2,!1))]=j.Native.$convert(a),a},k._s=p,k),e).call(g,a):(e=q=c["$[]"]("as"))!==!1&&e!==d?(e=(l=p).$define_method,e._p=(m=function(a){var c,e,g,h,i=m._s||this;return null==i["native"]&&(i["native"]=d),a=f.call(arguments,0),c=m._p||d,m._p=null,(e=value=(g=(h=j.Native).$call,g._p=c.$to_proc(),g).apply(h,[i["native"],b].concat(a)))!==!1&&e!==d?q.$new(value.$to_n()):d},m._s=p,m),e).call(l,a):(e=(n=p).$define_method,e._p=(o=function(a){var c,e,g,h=o._s||this;return null==h["native"]&&(h["native"]=d),a=f.call(arguments,0),c=o._p||d,o._p=null,(e=(g=j.Native).$call,e._p=c.$to_proc(),e).apply(g,[h["native"],b].concat(a))},o._s=p,o),e).call(n,a)},a.donate(c,["$alias_native"])}(e),a.defs(e,"$included",function(a){return a.$extend(k.Helpers)}),j.$initialize=function(a){var b,c=this;return((b=k.Kernel["$native?"](a))===!1||b===d)&&k.Kernel.$raise(k.ArgumentError,"the passed value isn't native"),c["native"]=a},j.$to_n=function(){var a=this;return null==a["native"]&&(a["native"]=d),a["native"]},a.donate(e,["$initialize","$to_n"])}(b),function(b){var c,e=g(b,"Kernel"),h=e._proto,i=e._scope;h["$native?"]=function(a){return null==a||!a._klass},h.$Native=function(a){var b,c=this;return(b=null==a)!=!1&&b!==d?d:(b=c["$native?"](a))!==!1&&b!==d?i.Native._scope.Object.$new(a):a},h.$Array=c=function(a,b){var e,g,h=this,j=c._p,k=j||d;return b=f.call(arguments,1),c._p=null,null==a||a===d?[]:h["$native?"](a)?(e=(g=i.Native._scope.Array).$new,e._p=k.$to_proc(),e).apply(g,[a].concat(b)).$to_a():a["$respond_to?"]("to_ary")?a.$to_ary():a["$respond_to?"]("to_a")?a.$to_a():[a]},a.donate(e,["$native?","$Native","$Array"])}(b),function(b,c){function g(){}var h,k,l,m,n=g=j(b,c,"Object",g),o=g._proto,p=g._scope;return o["native"]=d,n.$include(p.Native),a.defn(n,"$==",function(a){var b=this;return b["native"]===p.Native.$try_convert(a)}),a.defn(n,"$has_key?",function(a){var b=this;return b["native"].hasOwnProperty(a)}),a.defn(n,"$key?",o["$has_key?"]),a.defn(n,"$include?",o["$has_key?"]),a.defn(n,"$member?",o["$has_key?"]),a.defn(n,"$each",h=function(b){var c,g=this,i=h._p,j=i||d;if(b=f.call(arguments,0),h._p=null,j!==d){for(var k in g["native"])(c=a.$yieldX(j,[k,g["native"][k]]))===e?e.$v:c;return g}return(c=g).$method_missing.apply(c,["each"].concat(b))}),a.defn(n,"$[]",function(b){var c,d=this,e=d["native"][b];return e instanceof Function?e:(null==(c=a.Object._scope.Native)?a.cm("Native"):c).$call(d["native"],b)}),a.defn(n,"$[]=",function(a,b){var c,e=this,f=d;return f=p.Native.$try_convert(b),e["native"][a]=(c=f===d)!=!1&&c!==d?b:f}),a.defn(n,"$method_missing",k=function(b,c){var e,g,h,i=this,j=k._p,l=j||d;return c=f.call(arguments,1),k._p=null,"="===b.charAt(b.length-1)?i["$[]="](b.$slice(0,b.$length()["$-"](1)),c["$[]"](0)):(e=(g=null==(h=a.Object._scope.Native)?a.cm("Native"):h).$call,e._p=l.$to_proc(),e).apply(g,[i["native"],b].concat(c))}),a.defn(n,"$nil?",function(){return!1}),a.defn(n,"$is_a?",function(a){return a["$=="](p.Native)}),a.defn(n,"$kind_of?",o["$is_a?"]),a.defn(n,"$instance_of?",function(a){return a["$=="](p.Native)}),a.defn(n,"$class",function(){var a=this;return a._klass}),a.defn(n,"$to_a",l=function(a){var b,c,e=this,f=l._p,g=f||d;return null==a&&(a=i([],{})),l._p=null,(b=(c=p.Native._scope.Array).$new,b._p=g.$to_proc(),b).call(c,e["native"],a).$to_a()}),a.defn(n,"$to_ary",m=function(a){var b,c,e=this,f=m._p,g=f||d;return null==a&&(a=i([],{})),m._p=null,(b=(c=p.Native._scope.Array).$new,b._p=g.$to_proc(),b).call(c,e["native"],a)}),a.defn(n,"$inspect",function(){var a=this;return"#<Native:"+String(a["native"])+">"}),d}(c.Native,c.BasicObject),function(b,c){function f(){}var g,h,k=f=j(b,c,"Array",f),l=f._proto,m=f._scope;return l.named=l["native"]=l.get=l.block=l.set=l.length=d,k.$include(m.Native),k.$include(m.Enumerable),l.$initialize=g=function(b,c){var e,f=this,h=g._p,j=h||d;return null==c&&(c=i([],{})),g._p=null,a.find_super_dispatcher(f,"initialize",g,null).apply(f,[b]),f.get=(e=c["$[]"]("get"))!==!1&&e!==d?e:c["$[]"]("access"),f.named=c["$[]"]("named"),f.set=(e=c["$[]"]("set"))!==!1&&e!==d?e:c["$[]"]("access"),f.length=(e=c["$[]"]("length"))!==!1&&e!==d?e:"length",f.block=j,(e=null==f.$length())!=!1&&e!==d?f.$raise(m.ArgumentError,"no length found on the array-like object"):d},l.$each=h=function(){var b,c=this,f=h._p,g=f||d;if(h._p=null,(b=g)===!1||b===d)return c.$enum_for("each");for(var i=0,j=c.$length();j>i;i++){var k=a.$yield1(g,c["$[]"](i));if(k===e)return e.$v}return c},l["$[]"]=function(a){var b,c=this,e=d,f=d;return e=function(){return f=a,m.String["$==="](f)||m.Symbol["$==="](f)?(b=c.named)!==!1&&b!==d?c["native"][c.named](a):c["native"][a]:m.Integer["$==="](f)?(b=c.get)!==!1&&b!==d?c["native"][c.get](a):c["native"][a]:d}(),e!==!1&&e!==d?(b=c.block)!==!1&&b!==d?c.block.$call(e):c.$Native(e):d},l["$[]="]=function(a,b){var c,e=this;return(c=e.set)!==!1&&c!==d?e["native"][e.set](a,m.Native.$convert(b)):e["native"][a]=m.Native.$convert(b)},l.$last=function(a){var b=this,c=d,e=d;if(null==a&&(a=d),a!==!1&&a!==d){for(c=b.$length()["$-"](1),e=[];c["$>="](0);)e["$<<"](b["$[]"](c)),c=c["$-"](1);return e}return b["$[]"](b.$length()["$-"](1))},l.$length=function(){var a=this;return a["native"][a.length]},l.$to_ary=function(){var a=this;return a},l.$inspect=function(){var a=this;return a.$to_a().$inspect()},d}(c.Native,null),function(a,b){function c(){}{var e=(c=j(a,b,"Numeric",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a.valueOf()},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Proc",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"String",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a.valueOf()},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Regexp",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a.valueOf()},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"MatchData",c),c._proto);c._scope}return e.matches=d,e.$to_n=function(){var a=this;return a.matches},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Struct",c),c._proto);c._scope}return e.$initialize=function(a){var b,c,e,g,h,i=this,j=d;return a=f.call(arguments,0),(b=(c=a.$length()["$=="](1))?i["$native?"](a["$[]"](0)):c)!==!1&&b!==d?(j=a["$[]"](0),(b=(c=i.$members()).$each,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=d),b.$instance_variable_set("@"+a,b.$Native(j[a]))},e._s=i,e),b).call(c)):(b=(g=i.$members()).$each_with_index,b._p=(h=function(b,c){var e=h._s||this;return null==b&&(b=d),null==c&&(c=d),e.$instance_variable_set("@"+b,a["$[]"](c))},h._s=i,h),b).call(g)},e.$to_n=function(){var a,b,c,e=this,f=d;return f={},(a=(b=e).$each_pair,a._p=(c=function(a,b){c._s||this;return null==a&&(a=d),null==b&&(b=d),f[a]=b.$to_n()},c._s=e,c),a).call(b),f},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Array",c),c._proto);c._scope}return e.$to_n=function(){for(var a=this,b=[],c=0,d=a.length;d>c;c++){var e=a[c];b.push(e["$respond_to?"]("to_n")?e.$to_n():e)}return b},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Boolean",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a.valueOf()},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Time",c),c._proto);c._scope}return e.$to_n=function(){var a=this;return a},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"NilClass",c),c._proto);c._scope}return e.$to_n=function(){return null},d}(b,null),function(a,b){function c(){}var e,f=(c=j(a,b,"Hash",c),c._proto),g=c._scope;return f.$initialize=e=function(a){var b=this,c=e._p,f=c||d;if(e._p=null,null!=a)if(a.constructor===Object){var h=b.map,i=b.keys;for(var j in a){var k=a[j];h[j]=k&&k.constructor===Object?g.Hash.$new(k):b.$Native(a[j]),i.push(j)}}else b.none=a;
else f!==d&&(b.proc=f);return b},f.$to_n=function(){for(var a=this,b={},c=a.keys,d=a.map,e=0,f=c.length;f>e;e++){var g=c[e],h=d[g];b[g]=h["$respond_to?"]("to_n")?h.$to_n():h}return b},d}(b,null),function(a,b){function c(){}{var e=(c=j(a,b,"Module",c),c._proto);c._scope}return e.$native_module=function(){var a=this;return Opal.global[a.$name()]=a},d}(b,null),function(b,c){function d(){}{var e=d=j(b,c,"Class",d),f=d._proto;d._scope}return f.$native_alias=function(a,b){var c=this;return c._proto[a]=c._proto["$"+b]},a.defn(e,"$native_class",f.$native_module)}(b,null),k.$=k.global=b.$Native(Opal.global)}(Opal),function(a){var b=(a.top,a),c=a.nil,d=(a.breaker,a.slice,a.gvars),e=a.hash2;return d["&"]=d["~"]=d["`"]=d["'"]=c,d[":"]=[],d['"']=[],d["/"]="\n",d[","]=" ",a.cdecl(b,"ARGV",[]),a.cdecl(b,"ARGF",b.Object.$new()),a.cdecl(b,"ENV",e([],{})),d.VERBOSE=!1,d.DEBUG=!1,d.SAFE=0,a.cdecl(b,"RUBY_PLATFORM","opal"),a.cdecl(b,"RUBY_ENGINE","opal"),a.cdecl(b,"RUBY_VERSION","1.9.3"),a.cdecl(b,"RUBY_ENGINE_VERSION","0.5.5"),a.cdecl(b,"RUBY_RELEASE_DATE","2013-11-25")}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass,f=a.module;return function(b,f){function g(){}var h,i,j,k=g=e(b,f,"Set",g),l=g._proto,m=g._scope;return l.hash=c,k.$include(m.Enumerable),a.defs(k,"$[]",function(a){var b=this;return a=d.call(arguments,0),b.$new(a)}),l.$initialize=h=function(a){var b,d,e,f=this,g=h._p,i=g||c;return null==a&&(a=c),h._p=null,f.hash=m.Hash.$new(),(b=a["$nil?"]())!==!1&&b!==c?c:i!==!1&&i!==c?(b=(d=f).$do_with_enum,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$add(i["$[]"](a))},e._s=f,e),b).call(d,a):f.$merge(a)},l["$=="]=function(a){var b,d,e,f=this;return(b=f["$equal?"](a))!==!1&&b!==c?!0:(b=a["$instance_of?"](f.$class()))!==!1&&b!==c?f.hash["$=="](a.$instance_variable_get("@hash")):(d=a["$is_a?"](m.Set),(b=d!==!1&&d!==c?f.$size()["$=="](a.$size()):d)!==!1&&b!==c?(b=(d=a)["$all?"],b._p=(e=function(a){var b=e._s||this;return null==b.hash&&(b.hash=c),null==a&&(a=c),b.hash["$include?"](a)},e._s=f,e),b).call(d):!1)},l.$add=function(a){var b=this;return b.hash["$[]="](a,!0),b},a.defn(k,"$<<",l.$add),l["$add?"]=function(a){var b,d=this;return(b=d["$include?"](a))!==!1&&b!==c?c:d.$add(a)},l.$each=i=function(){var a,b,d=this,e=i._p,f=e||c;return i._p=null,f===c?d.$enum_for("each"):((a=(b=d.hash).$each_key,a._p=f.$to_proc(),a).call(b),d)},l["$empty?"]=function(){var a=this;return a.hash["$empty?"]()},l.$clear=function(){var a=this;return a.hash.$clear(),a},l["$include?"]=function(a){var b=this;return b.hash["$include?"](a)},a.defn(k,"$member?",l["$include?"]),l.$merge=function(a){var b,d,e,f=this;return(b=(d=f).$do_with_enum,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$add(a)},e._s=f,e),b).call(d,a),f},l.$do_with_enum=j=function(a){var b,d,e=j._p,f=e||c;return j._p=null,(b=(d=a).$each,b._p=f.$to_proc(),b).call(d)},l.$size=function(){var a=this;return a.hash.$size()},a.defn(k,"$length",l.$size),l.$to_a=function(){var a=this;return a.hash.$keys()},c}(b,null),function(b){var e,g=f(b,"Enumerable"),h=g._proto,i=g._scope;h.$to_set=e=function(a,b){var f,g,h=this,j=e._p,k=j||c;return b=d.call(arguments,1),null==a&&(a=i.Set),e._p=null,(f=(g=a).$new,f._p=k.$to_proc(),f).apply(g,[h].concat(b))},a.donate(g,["$to_set"])}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}{var g=f=d(b,e,"StringScanner",f),h=f._proto;f._scope}return h.pos=h.string=h.working=h.prev_pos=h.matched=h.match=c,g.$attr_reader("pos"),g.$attr_reader("matched"),h.$initialize=function(a){var b=this;return b.string=a,b.pos=0,b.matched=c,b.working=a,b.match=[]},h["$bol?"]=function(){var a=this;return 0===a.pos||"\n"===a.string.charAt(a.pos-1)},h.$scan=function(a){var b=this,a=new RegExp("^"+a.toString().substring(1,a.toString().length-1)),d=a.exec(b.working);return null==d?b.matched=c:"object"==typeof d?(b.prev_pos=b.pos,b.pos+=d[0].length,b.working=b.working.substring(d[0].length),b.matched=d[0],b.match=d,d[0]):"string"==typeof d?(b.pos+=d.length,b.working=b.working.substring(d.length),d):c},h["$[]"]=function(a){var b=this,d=b.match;return 0>a&&(a+=d.length),0>a||a>=d.length?c:d[a]},h.$check=function(a){var b=this,d=new RegExp("^"+a.toString().substring(1,a.toString().length-1)),e=d.exec(b.working);return b.matched=null==e?c:e[0]},h.$peek=function(a){var b=this;return b.working.substring(0,a)},h["$eos?"]=function(){var a=this;return 0===a.working.length},h.$skip=function(a){var b=this;a=new RegExp("^"+a.source);var d=a.exec(b.working);if(null==d)return b.matched=c;var e=d[0],f=e.length;return b.matched=e,b.prev_pos=b.pos,b.pos+=f,b.working=b.working.substring(f),f},h.$get_byte=function(){var a=this,b=c;return a.pos<a.string.length?(a.prev_pos=a.pos,a.pos+=1,b=a.matched=a.working.substring(0,1),a.working=a.working.substring(1)):a.matched=c,b},a.defn(g,"$getch",h.$get_byte),h["$pos="]=function(a){var b=this;return 0>a&&(a+=b.string.$length()),b.pos=a,b.working=b.string.slice(a)},h.$rest=function(){var a=this;return a.working},h.$terminate=function(){var a=this;return a.match=c,a["$pos="](a.string.$length())},h.$unscan=function(){var a=this;return a.pos=a.prev_pos,a.prev_pos=c,a.match=c,a},c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass);return function(b,e){function f(){}var g=f=d(b,e,"Dir",f),h=(f._proto,f._scope);return a.defs(g,"$pwd",function(){return"."}),a.defs(g,"$home",function(){return h.ENV["$[]"]("HOME")}),c}(b,null)}(Opal),function(a){var b=a.top,c=a,d=a.nil,e=(a.breaker,a.slice,a.klass);return function(a,b){function c(){}c=e(a,b,"SecurityError",c),c._proto,c._scope;return d}(b,c.Exception)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.klass,f=a.range;return function(b,g){function h(){}var i=h=e(b,g,"File",h),j=(h._proto,h._scope);return a.cdecl(j,"SEPARATOR","/"),a.cdecl(j,"ALT_SEPARATOR",c),a.defs(i,"$expand_path",function(a){return a}),a.defs(i,"$join",function(a){return a=d.call(arguments,0),a["$*"](j.SEPARATOR)}),a.defs(i,"$basename",function(a){var b;return a["$[]"](f(((b=a.$rindex(j.File._scope.SEPARATOR))!==!1&&b!==c?b:-1)["$+"](1),-1,!1))}),a.defs(i,"$dirname",function(a){var b;return a["$[]"](f(0,((b=a.$rindex(j.SEPARATOR))!==!1&&b!==c?b:0)["$-"](1),!1))}),a.defs(i,"$extname",function(a){var b,d=c;return(b=a.$to_s()["$empty?"]())!==!1&&b!==c?"":(d=a["$[]"](f(1,-1,!1)).$rindex("."),(b=d["$nil?"]())!==!1&&b!==c?"":a["$[]"](f(d["$+"](1),-1,!1)))}),c}(b,null)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module;return function(b){{var g=f(b,"Asciidoctor");g._proto,g._scope}!function(b){var g,h=f(b,"Debug"),i=(h._proto,h._scope);h.show_debug=c,a.defs(h,"$debug",g=function(){var b,e=this,f=g._p,h=f||c;return g._p=null,(b=e["$show_debug_output?"]())!==!1&&b!==c?e.$warn((b=a.$yieldX(h,[]))===d?d.$v:b):c}),a.defs(h,"$set_debug",function(a){var b=this;return b.show_debug=a}),a.defs(h,"$show_debug_output?",function(){var a,b,d,e=this;return null==e.show_debug&&(e.show_debug=c),(a=e.show_debug)!==!1&&a!==c?a:(b=i.ENV["$[]"]("DEBUG")["$=="]("true"))?(d=i.ENV["$[]"]("SUPPRESS_DEBUG")["$=="]("true"),d===c||d===!1):b}),a.defs(h,"$puts_indented",function(a,b){var d,f,g,h=this,i=c;return b=e.call(arguments,1),i=" "["$*"](a)["$*"](2),(d=(f=b).$each,d._p=(g=function(a){var b,d,e,f=g._s||this;return null==a&&(a=c),(b=(d=f).$debug,b._p=(e=function(){e._s||this;return""+i+a},e._s=f,e),b).call(d)},g._s=h,g),d).call(f)})}(g)}(b)}(Opal),function(a){var b=a.top,c=(a.nil,a.breaker,a.slice,a.module);return function(b){var d=c(b,"Asciidoctor"),e=(d._proto,d._scope);a.cdecl(e,"VERSION","1.5.0.preview.1")}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.range,f=a.gvars;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b){var g=d(b,"Helpers"),h=(g._proto,g._scope);a.defs(g,"$require_library",function(a,b){var d,e=this,f=c;null==b&&(b=!0);try{return!0}catch(g){if(h.LoadError["$==="](g))return f=g,e.$fail(b!==!1&&b!==c?"asciidoctor: FAILED: required gem '"+function(){return(d=b["$==="](!0))!==!1&&d!==c?a:b}()+"' is not installed. Processing aborted.":"asciidoctor: FAILED: "+f.$message().$chomp(".")+". Processing aborted.");throw g}}),a.defs(g,"$normalize_lines",function(b){var c,d=this;return b.$class()["$=="](null==(c=a.Object._scope.String)?a.cm("String"):c)?d.$normalize_lines_from_string(b):d.$normalize_lines_array(b)}),a.defs(g,"$normalize_lines_array",function(b){var d,f,g,i,j,k,l,m,n,o=this,p=c,q=c,r=c,s=c;return(d=b.$size()["$>"](0))===!1||d===c?[]:(d=h.COERCE_ENCODING)!==!1&&d!==c?(p=(null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_8,q=function(){return(d=r=b.$first())!==!1&&d!==c?r["$[]"](e(0,2,!1)).$bytes().$to_a():c}(),(s=q["$[]"](e(0,1,!1)))["$=="](h.BOM_BYTES_UTF_16LE)?(d=(f=b.$join().$force_encoding((null==(i=a.Object._scope.Encoding)?a.cm("Encoding"):i)._scope.UTF_16LE)["$[]"](e(1,-1,!1)).$encode(p).$lines()).$map,d._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$rstrip()},g._s=o,g),d).call(f):s["$=="](h.BOM_BYTES_UTF_16BE)?(b["$[]="](0,r.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16BE)["$[]"](e(1,-1,!1))),(d=(i=b).$map,d._p=(j=function(b){{var d;j._s||this}return null==b&&(b=c),""+b.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16BE).$encode(p).$rstrip()},j._s=o,j),d).call(i)):(q["$[]"](e(0,2,!1))["$=="](h.BOM_BYTES_UTF_8)&&b["$[]="](0,r.$force_encoding(p)["$[]"](e(1,-1,!1))),(d=(k=b).$map,d._p=(l=function(a){l._s||this;return null==a&&(a=c),a.$encoding()["$=="](p)?a.$rstrip():a.$force_encoding(p).$rstrip()},l._s=o,l),d).call(k))):(m=r=b.$first(),(d=m!==!1&&m!==c?r["$[]"](e(0,2,!1)).$bytes().$to_a()["$=="](h.BOM_BYTES_UTF_8):m)!==!1&&d!==c&&b["$[]="](0,r["$[]"](e(3,-1,!1))),(d=(m=b).$map,d._p=(n=function(a){n._s||this;return null==a&&(a=c),a.$rstrip()},n._s=o,n),d).call(m))}),a.defs(g,"$normalize_lines_from_string",function(b){var d,f,g,i=this,j=c,k=c,l=c;return(d=(f=b["$nil?"]())!==!1&&f!==c?f:b["$=="](""))!==!1&&d!==c?[]:((d=h.COERCE_ENCODING)!==!1&&d!==c?(j=(null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_8,k=b["$[]"](e(0,2,!1)).$bytes().$to_a(),(l=k["$[]"](e(0,1,!1)))["$=="](h.BOM_BYTES_UTF_16LE)?b=b.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16LE)["$[]"](e(1,-1,!1)).$encode(j):l["$=="](h.BOM_BYTES_UTF_16BE)?b=b.$force_encoding((null==(d=a.Object._scope.Encoding)?a.cm("Encoding"):d)._scope.UTF_16BE)["$[]"](e(1,-1,!1)).$encode(j):k["$[]"](e(0,2,!1))["$=="](h.BOM_BYTES_UTF_8)?b=function(){return b.$encoding()["$=="](j)?b["$[]"](e(1,-1,!1)):b.$force_encoding(j)["$[]"](e(1,-1,!1))}():((d=b.$encoding()["$=="](j))===!1||d===c)&&(b=b.$force_encoding(j))):b["$[]"](e(0,2,!1)).$bytes().$to_a()["$=="](h.BOM_BYTES_UTF_8)&&(b=b["$[]"](e(3,-1,!1))),(d=(f=b.$each_line()).$map,d._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$rstrip()},g._s=i,g),d).call(f))}),a.defs(g,"$encode_uri",function(a){var b,d,e,g=this;return(b=(d=a).$gsub,b._p=(e=function(){var a,b,d,g=e._s||this;return(a=(b=f["&"].$each_byte()).$map,a._p=(d=function(a){var b=d._s||this;return null==a&&(a=c),b.$sprintf("%%%02X",a)},d._s=g,d),a).call(b).$join()},e._s=g,e),b).call(d,h.REGEXP["$[]"]("uri_encode_chars"))}),a.defs(g,"$rootname",function(a){var b,d=c;return d=h.File.$extname(a),(b=d["$empty?"]())!==!1&&b!==c?a:a["$[]"](e(0,d.$length()["$-@"](),!0))}),a.defs(g,"$mkdir_p",function(a){var b,d,e,f=this,g=c;return(b=h.File["$directory?"](a))!==!1&&b!==c?c:(g=h.File.$dirname(a),e=h.File["$directory?"](g=h.File.$dirname(a)),d=e===c||e===!1,(b=d!==!1&&d!==c?(e=g["$=="]("."),e===c||e===!1):d)!==!1&&b!==c&&f.$mkdir_p(g),h.Dir.$mkdir(a))}),a.defs(g,"$clone_options",function(a){var b,d=c;return d=a.$dup(),(b=a["$has_key?"]("attributes"))!==!1&&b!==c&&d["$[]="]("attributes",a["$[]"]("attributes").$dup()),d})}(g)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.hash2,h=a.gvars,i=a.range;return function(b){{var j=f(b,"Asciidoctor");j._proto,j._scope}!function(b){var j=f(b,"Substitutors"),k=j._proto,l=j._scope;a.cdecl(l,"SUBS",g(["basic","normal","verbatim","title","header","pass"],{basic:["specialcharacters"],normal:["specialcharacters","quotes","attributes","replacements","macros","post_replacements"],verbatim:["specialcharacters","callouts"],title:["specialcharacters","quotes","replacements","macros","attributes","post_replacements"],header:["specialcharacters","attributes"],pass:[]})),a.cdecl(l,"COMPOSITE_SUBS",g(["none","normal","verbatim","specialchars"],{none:[],normal:l.SUBS["$[]"]("normal"),verbatim:l.SUBS["$[]"]("verbatim"),specialchars:["specialcharacters"]})),a.cdecl(l,"SUB_SYMBOLS",g(["a","m","n","p","q","r","c","v"],{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"})),a.cdecl(l,"SUB_OPTIONS",g(["block","inline"],{block:l.COMPOSITE_SUBS.$keys()["$+"](l.SUBS["$[]"]("normal"))["$+"](["callouts"]),inline:l.COMPOSITE_SUBS.$keys()["$+"](l.SUBS["$[]"]("normal"))})),j.$attr_reader("passthroughs"),k.$apply_subs=function(b,d,e){var f,g,h,i,j,k=this,m=c,n=c,o=c,p=c;if(null==d&&(d="normal"),null==e&&(e=!1),d["$=="]("normal"))d=l.SUBS["$[]"]("normal");else{if((f=d["$nil?"]())!==!1&&f!==c)return b;e!==!1&&e!==c&&((f=d["$is_a?"](l.Symbol))!==!1&&f!==c?d=(f=l.COMPOSITE_SUBS["$[]"](d))!==!1&&f!==c?f:[d]:(m=[],(f=(g=d).$each,f._p=(h=function(a){{var b;h._s||this}return null==a&&(a=c),(b=l.COMPOSITE_SUBS["$has_key?"](a))!==!1&&b!==c?m=m["$+"](l.COMPOSITE_SUBS["$[]"](a)):m["$<<"](a)},h._s=k,h),f).call(g),d=m))}return(f=d["$empty?"]())!==!1&&f!==c?b:(n=b["$is_a?"](null==(f=a.Object._scope.Array)?a.cm("Array"):f),o=function(){return n!==!1&&n!==c?b["$*"](l.EOL):b}(),(f=p=d["$include?"]("macros"))!==!1&&f!==c&&(o=k.$extract_passthroughs(o)),(f=(i=d).$each,f._p=(j=function(a){var b,e=j._s||this,f=c;return null==a&&(a=c),function(){return f=a,"specialcharacters"["$==="](f)?o=e.$sub_specialcharacters(o):"quotes"["$==="](f)?o=e.$sub_quotes(o):"attributes"["$==="](f)?o=e.$sub_attributes(o.$split(l.LINE_SPLIT))["$*"](l.EOL):"replacements"["$==="](f)?o=e.$sub_replacements(o):"macros"["$==="](f)?o=e.$sub_macros(o):"highlight"["$==="](f)?o=e.$highlight_source(o,d["$include?"]("callouts")):"callouts"["$==="](f)?(b=d["$include?"]("highlight"))!==!1&&b!==c?c:o=e.$sub_callouts(o):"post_replacements"["$==="](f)?o=e.$sub_post_replacements(o):e.$warn("asciidoctor: WARNING: unknown substitution type "+a)}()},j._s=k,j),f).call(i),p!==!1&&p!==c&&(o=k.$restore_passthroughs(o)),n!==!1&&n!==c?o.$split(l.LINE_SPLIT):o)},k.$apply_normal_subs=function(b){var d,e,f=this;return f.$apply_subs(function(){return(d=b["$is_a?"](null==(e=a.Object._scope.Array)?a.cm("Array"):e))!==!1&&d!==c?b["$*"](l.EOL):b}())},k.$apply_title_subs=function(a){var b=this;return b.$apply_subs(a,l.SUBS["$[]"]("title"))},k.$apply_header_subs=function(a){var b=this;return b.$apply_subs(a,l.SUBS["$[]"]("header"))},k.$extract_passthroughs=function(a){var b,d,e,f,j,k,m,n=this;return(b=(d=(e=a["$include?"]("+++"))!==!1&&e!==c?e:a["$include?"]("$$"))!==!1&&d!==c?d:a["$include?"]("pass:"))!==!1&&b!==c&&(a=(b=(d=a).$gsub,b._p=(f=function(){var b,d,e=f._s||this,j=c,k=c,m=c,n=c;return null==e.passthroughs&&(e.passthroughs=c),j=h["~"],(b=j["$[]"](0)["$start_with?"]("\\"))!==!1&&b!==c?j["$[]"](0)["$[]"](i(1,-1,!1)):(d=(a=j["$[]"](4))["$nil?"](),(b=d===c||d===!1)!=!1&&b!==c?(a=e.$unescape_brackets(a),d=(k=j["$[]"](3).$to_s())["$empty?"](),m=(b=d===c||d===!1)!=!1&&b!==c?e.$resolve_pass_subs(k):[]):(a=j["$[]"](2),m=function(){return j["$[]"](1)["$=="]("$$")?["specialcharacters"]:[]}()),e.passthroughs["$<<"](g(["text","subs"],{text:a,subs:m})),n=e.passthroughs.$size()["$-"](1),""+l.PASS_PLACEHOLDER["$[]"]("start")+n+l.PASS_PLACEHOLDER["$[]"]("end"))},f._s=n,f),b).call(d,l.REGEXP["$[]"]("pass_macro"))),(b=a["$include?"]("`"))!==!1&&b!==c&&(a=(b=(e=a).$gsub,b._p=(j=function(){var a,b,d,e=j._s||this,f=c,k=c,m=c,n=c;return null==e.passthroughs&&(e.passthroughs=c),f=h["~"],k=c,(a=f["$[]"](3)["$start_with?"]("\\"))!==!1&&a!==c?function(){return(a=f["$[]"](2)["$nil?"]())!==!1&&a!==c?""+f["$[]"](1)+f["$[]"](3)["$[]"](i(1,-1,!1)):""+f["$[]"](1)+"["+f["$[]"](2)+"]"+f["$[]"](3)["$[]"](i(1,-1,!1))}():((a=(b=f["$[]"](1)["$=="]("\\"))?(d=f["$[]"](2)["$nil?"](),d===c||d===!1):b)!==!1&&a!==c&&(k="["+f["$[]"](2)+"]"),b=k["$nil?"](),m=(a=b!==!1&&b!==c?(d=f["$[]"](2)["$nil?"](),d===c||d===!1):b)!==!1&&a!==c?e.$parse_attributes(f["$[]"](2)):g([],{}),e.passthroughs["$<<"](g(["text","subs","attributes","type"],{text:f["$[]"](4),subs:["specialcharacters"],attributes:m,type:"monospaced"})),n=e.passthroughs.$size()["$-"](1),""+((a=k)!==!1&&a!==c?a:f["$[]"](1))+l.PASS_PLACEHOLDER["$[]"]("start")+n+l.PASS_PLACEHOLDER["$[]"]("end"))},j._s=n,j),b).call(e,l.REGEXP["$[]"]("pass_lit"))),(b=a["$include?"]("math:"))!==!1&&b!==c&&(a=(b=(k=a).$gsub,b._p=(m=function(){var b,d,e=m._s||this,f=c,j=c,k=c,n=c,o=c,p=c;return null==e.document&&(e.document=c),null==e.passthroughs&&(e.passthroughs=c),f=h["~"],(b=f["$[]"](0)["$start_with?"]("\\"))!==!1&&b!==c?f["$[]"](0)["$[]"](i(1,-1,!1)):(j=f["$[]"](1).$to_sym(),j["$=="]("math")&&(j=function(){return(k=e.$document().$attributes()["$[]"]("math").$to_s())["$=="]("")?"asciimath":k}().$to_sym()),a=e.$unescape_brackets(f["$[]"](3)),d=(n=f["$[]"](2).$to_s())["$empty?"](),o=(b=d===c||d===!1)!=!1&&b!==c?e.$resolve_pass_subs(n):function(){return(b=e.document["$basebackend?"]("html"))!==!1&&b!==c?["specialcharacters"]:[]}(),e.passthroughs["$<<"](g(["text","subs","type"],{text:a,subs:o,type:j})),p=e.passthroughs.$size()["$-"](1),""+l.PASS_PLACEHOLDER["$[]"]("start")+p+l.PASS_PLACEHOLDER["$[]"]("end"))},m._s=n,m),b).call(k,l.REGEXP["$[]"]("inline_math_macro"))),a},k.$restore_passthroughs=function(a){var b,d,e,f,i=this;return null==i.passthroughs&&(i.passthroughs=c),(b=(d=(e=i.passthroughs["$nil?"]())!==!1&&e!==c?e:i.passthroughs["$empty?"]())!==!1&&d!==c?d:(e=a["$include?"](l.PASS_PLACEHOLDER["$[]"]("start")),e===c||e===!1))!==!1&&b!==c?a:(b=(d=a).$gsub,b._p=(f=function(){var a,b=f._s||this,d=c,e=c;return null==b.passthroughs&&(b.passthroughs=c),d=b.passthroughs["$[]"](h["~"]["$[]"](1).$to_i()),e=b.$apply_subs(d["$[]"]("text"),d.$fetch("subs",[])),(a=d["$[]"]("type"))!==!1&&a!==c?l.Inline.$new(b,"quoted",e,g(["type","attributes"],{type:d["$[]"]("type"),attributes:d.$fetch("attributes",g([],{}))})).$render():e},f._s=i,f),b).call(d,l.PASS_PLACEHOLDER["$[]"]("match"))},k.$sub_specialcharacters=function(a){var b,c,d,e=this;return(b=(c=a).$gsub,b._p=(d=function(){d._s||this;return l.SPECIAL_CHARS["$[]"](h["&"])},d._s=e,d),b).call(c,l.SPECIAL_CHARS_PATTERN)},a.defn(j,"$sub_specialchars",k.$sub_specialcharacters),k.$sub_quotes=function(b){var d,e,f,g,i,j=this,k=c;return(d=null==(e=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):e)!==!1&&d!==c?(k=b,(d=(e=l.QUOTE_SUBS).$each,d._p=(f=function(a,b,d){var e,g,i,j=f._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),k=(e=(g=k).$gsub,e._p=(i=function(){var c=i._s||this;return c.$transform_quoted_text(h["~"],a,b)},i._s=j,i),e).call(g,d)},f._s=j,f),d).call(e)):(k=b.$dup(),(d=(g=l.QUOTE_SUBS).$each,d._p=(i=function(a,b,d){var e,f,g,j=i._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),(e=(f=k)["$gsub!"],e._p=(g=function(){var c=g._s||this;return c.$transform_quoted_text(h["~"],a,b)},g._s=j,g),e).call(f,d)},i._s=j,i),d).call(g)),k},k.$sub_replacements=function(b){var d,e,f,g,i,j=this,k=c;return(d=null==(e=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):e)!==!1&&d!==c?(k=b,(d=(e=l.REPLACEMENTS).$each,d._p=(f=function(a,b,d){var e,g,i,j=f._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),k=(e=(g=k).$gsub,e._p=(i=function(){var a=i._s||this;return a.$do_replacement(h["~"],b,d)},i._s=j,i),e).call(g,a)},f._s=j,f),d).call(e)):(k=b.$dup(),(d=(g=l.REPLACEMENTS).$each,d._p=(i=function(a,b,d){var e,f,g,j=i._s||this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=c),(e=(f=k)["$gsub!"],e._p=(g=function(){var a=g._s||this;return a.$do_replacement(h["~"],b,d)},g._s=j,g),e).call(f,a)},i._s=j,i),d).call(g)),k},k.$do_replacement=function(a,b,d){var e,f=c,g=c;return(e=(f=a["$[]"](0))["$include?"]("\\"))!==!1&&e!==c?f.$tr("\\",""):function(){return g=d,"none"["$==="](g)?b:"leading"["$==="](g)?""+a["$[]"](1)+b:"bounding"["$==="](g)?""+a["$[]"](1)+b+a["$[]"](2):c}()},k.$sub_attributes=function(b,e){var f,j,k,m=this,n=c,o=c,p=c;return null==e&&(e=g([],{})),(f=(j=b["$nil?"]())!==!1&&j!==c?j:b["$empty?"]())!==!1&&f!==c?b:(n=b["$is_a?"](l.String),o=function(){return n!==!1&&n!==c?[b]:b}(),p=[],(f=(j=o).$each,f._p=(k=function(b){var f,g,j,m,n,o=k._s||this,q=c,r=c;return null==b&&(b=c),q=!1,r=!1,(f=b["$include?"]("{"))!==!1&&f!==c&&(b=(f=(g=b).$gsub,f._p=(j=function(){var b,f,g,k,m,n=j._s||this,o=c,p=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c;return null==n.document&&(n.document=c),o=h["~"],(b=(f=o["$[]"](1)["$=="]("\\"))!==!1&&f!==c?f:o["$[]"](4)["$=="]("\\"))!==!1&&b!==c?"{"+o["$[]"](2)+"}":(f=(p=o["$[]"](3)).$to_s()["$empty?"](),(b=f===c||f===!1)!=!1&&b!==c?(s=p.$length()["$+"](1),t=o["$[]"](2)["$[]"](i(s,-1,!1)),function(){return u=p,"set"["$==="](u)?(v=t.$split(":"),b=a.to_ary(l.Lexer.$store_attribute(v["$[]"](0),(f=v["$[]"](1))!==!1&&f!==c?f:"",n.document)),w=null==b[0]?c:b[0],x=null==b[1]?c:b[1],(b=x["$nil?"]())!==!1&&b!==c&&n.document.$attributes().$fetch("attribute-undefined",l.Compliance.$attribute_undefined())["$=="]("drop-line")?((b=(f=l.Debug).$debug,b._p=(g=function(){var a=g._s||this;return"Undefining attribute: "+a.$key()+", line marked for removal"},g._s=n,g),b).call(f),q=!0,d.$v="",d):(r=!0,"")):"counter"["$==="](u)||"counter2"["$==="](u)?(v=t.$split(":"),y=n.document.$counter(v["$[]"](0),v["$[]"](1)),p["$=="]("counter2")?(r=!0,""):y):(n.$warn("asciidoctor: WARNING: illegal attribute directive: "+o["$[]"](2)),o["$[]"](0))}()):(k=z=o["$[]"](2).$downcase(),(b=k!==!1&&k!==c?n.document.$attributes()["$has_key?"](z):k)!==!1&&b!==c?n.document.$attributes()["$[]"](z):(b=l.INTRINSICS["$has_key?"](z))!==!1&&b!==c?l.INTRINSICS["$[]"](z):function(){return u=(b=e["$[]"]("attribute_missing"))!==!1&&b!==c?b:n.document.$attributes().$fetch("attribute-missing",l.Compliance.$attribute_missing()),"skip"["$==="](u)?o["$[]"](0):"drop-line"["$==="](u)?((b=(k=l.Debug).$debug,b._p=(m=function(){m._s||this;return"Missing attribute: "+z+", line marked for removal"},m._s=n,m),b).call(k),q=!0,d.$v="",d):(r=!0,"")}()))},j._s=o,j),f).call(g,l.REGEXP["$[]"]("attr_ref"))),(f=(m=q)!==!1&&m!==c?m:(n=r!==!1&&r!==c)?b["$empty?"]():n)!==!1&&f!==c?c:p["$<<"](b)},k._s=m,k),f).call(j),n!==!1&&n!==c?p["$*"](l.EOL):p)},k.$sub_macros=function(b){var d,f,j,k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=this,E=c,F=c,G=c,H=c,I=c;return null==D.document&&(D.document=c),(d=(f=b["$nil?"]())!==!1&&f!==c?f:b["$empty?"]())!==!1&&d!==c?b:(E=g([],{}),E["$[]="]("square_bracket",b["$include?"]("[")),E["$[]="]("round_bracket",b["$include?"]("(")),E["$[]="]("colon",b["$include?"](":")),E["$[]="]("macroish",(d=E["$[]"]("square_bracket"),d!==!1&&d!==c?E["$[]"]("colon"):d)),E["$[]="]("macroish_short_form",(f=E["$[]"]("square_bracket"),d=f!==!1&&f!==c?E["$[]"]("colon"):f,d!==!1&&d!==c?b["$include?"](":["):d)),F=D.document.$attributes()["$has_key?"]("linkattrs"),G=D.document.$attributes()["$has_key?"]("experimental"),H=b.$dup(),G!==!1&&G!==c&&(f=E["$[]"]("macroish_short_form"),(d=f!==!1&&f!==c?(j=H["$include?"]("kbd:"))!==!1&&j!==c?j:H["$include?"]("btn:"):f)!==!1&&d!==c&&(H=(d=(f=H).$gsub,d._p=(k=function(){var a,b,d,e=k._s||this,f=c,j=c,m=c,n=c;return f=h["~"],(a=(j=f["$[]"](0))["$start_with?"]("\\"))!==!1&&a!==c?j["$[]"](i(1,-1,!1)):(a=j["$start_with?"]("kbd"))!==!1&&a!==c?(m=e.$unescape_bracketed_text(f["$[]"](1)),m=m["$=="]("+")?["+"]:(a=(b=m.$split(l.REGEXP["$[]"]("kbd_delim"))).$opalInject,a._p=(d=function(a,b){{var e;d._s||this}return null==a&&(a=c),null==b&&(b=c),(e=b["$end_with?"]("++"))!==!1&&e!==c?(a["$<<"](b["$[]"](i(0,-3,!1)).$strip()),a["$<<"]("+")):a["$<<"](b.$strip()),a},d._s=e,d),a).call(b,[]),l.Inline.$new(e,"kbd",c,g(["attributes"],{attributes:g(["keys"],{keys:m})})).$render()):(a=j["$start_with?"]("btn"))!==!1&&a!==c?(n=e.$unescape_bracketed_text(f["$[]"](1)),l.Inline.$new(e,"button",n).$render()):c},k._s=D,k),d).call(f,l.REGEXP["$[]"]("kbd_btn_macro"))),j=E["$[]"]("macroish"),(d=j!==!1&&j!==c?H["$include?"]("menu:"):j)!==!1&&d!==c&&(H=(d=(j=H).$gsub,d._p=(m=function(){var a,b,d=m._s||this,e=c,f=c,j=c,k=c,n=c,o=c,p=c;return e=h["~"],(a=(f=e["$[]"](0))["$start_with?"]("\\"))!==!1&&a!==c?f["$[]"](i(1,-1,!1)):(j=e["$[]"](1),k=e["$[]"](2),(a=k["$nil?"]())!==!1&&a!==c?(n=[],o=c):(a=p=function(){return(b=k["$include?"]("&gt;"))!==!1&&b!==c?"&gt;":function(){return(b=k["$include?"](","))!==!1&&b!==c?",":c}()}())!==!1&&a!==c?(n=(a=(b=k.$split(p)).$map,a._p="strip".$to_proc(),a).call(b),o=n.$pop()):(n=[],o=k.$rstrip()),l.Inline.$new(d,"menu",c,g(["attributes"],{attributes:g(["menu","submenus","menuitem"],{menu:j,submenus:n,menuitem:o})})).$render())},m._s=D,m),d).call(j,l.REGEXP["$[]"]("menu_macro"))),n=H["$include?"]('"'),(d=n!==!1&&n!==c?H["$include?"]("&gt;"):n)!==!1&&d!==c&&(H=(d=(n=H).$gsub,d._p=(o=function(){var b,d,f,j=o._s||this,k=c,m=c,n=c,p=c,q=c,r=c;return k=h["~"],(b=(m=k["$[]"](0))["$start_with?"]("\\"))!==!1&&b!==c?m["$[]"](i(1,-1,!1)):(n=k["$[]"](1),b=a.to_ary((d=(f=n.$split("&gt;")).$map,d._p="strip".$to_proc(),d).call(f)),p=null==b[0]?c:b[0],q=e.call(b,1),r=q.$pop(),l.Inline.$new(j,"menu",c,g(["attributes"],{attributes:g(["menu","submenus","menuitem"],{menu:p,submenus:q,menuitem:r})})).$render())},o._s=D,o),d).call(n,l.REGEXP["$[]"]("menu_inline_macro")))),q=I=D.document.$extensions(),p=q!==!1&&q!==c?I["$inline_macros?"]():q,(d=p!==!1&&p!==c?E["$[]"]("macroish"):p)!==!1&&d!==c&&(d=(p=I.$load_inline_macro_processors(D.document)).$each,d._p=(r=function(a){var b,d,e,f=r._s||this;return null==a&&(a=c),H=(b=(d=H).$gsub,b._p=(e=function(){var b,d=e._s||this,f=c,j=c,k=c,l=c;return f=h["~"],(b=f["$[]"](0)["$start_with?"]("\\"))!==!1&&b!==c?f["$[]"](0)["$[]"](i(1,-1,!1)):(j=f["$[]"](1),(b=a.$options()["$[]"]("short_form"))!==!1&&b!==c?k=g([],{}):(l=a.$options().$fetch("pos_attrs",[]),k=d.$parse_attributes(f["$[]"](2),l,g(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0}))),a.$process(d,j,k))},e._s=f,e),b).call(d,a.$regexp())},r._s=D,r),d).call(p),q=E["$[]"]("macroish"),(d=q!==!1&&q!==c?(s=H["$include?"]("image:"))!==!1&&s!==c?s:H["$include?"]("icon:"):q)!==!1&&d!==c&&(H=(d=(q=H).$gsub,d._p=(t=function(){var a,b,d=t._s||this,e=c,f=c,j=c,k=c,m=c,n=c;return null==d.document&&(d.document=c),e=h["~"],(a=e["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?e["$[]"](0)["$[]"](i(1,-1,!1)):(f=d.$unescape_bracketed_text(e["$[]"](2)),(a=e["$[]"](0)["$start_with?"]("icon:"))!==!1&&a!==c?(j="icon",k=["size"]):(j="image",k=["alt","width","height"]),m=d.$sub_attributes(e["$[]"](1)),((a=j["$=="]("icon"))===!1||a===c)&&d.document.$register("images",m),n=d.$parse_attributes(f,k),b=n["$[]"]("alt"),(a=b===c||b===!1)!=!1&&a!==c&&n["$[]="]("alt",l.File.$basename(m,l.File.$extname(m))),l.Inline.$new(d,"image",c,g(["type","target","attributes"],{type:j,target:m,attributes:n})).$render())},t._s=D,t),d).call(q,l.REGEXP["$[]"]("image_macro"))),(d=(s=E["$[]"]("macroish_short_form"))!==!1&&s!==c?s:E["$[]"]("round_bracket"))!==!1&&d!==c&&(H=(d=(s=H).$gsub,d._p=(u=function(){var a,b,d=u._s||this,e=c,f=c,j=c,k=c,m=c,n=c;return null==d.document&&(d.document=c),e=h["~"],(a=e["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?e["$[]"](0)["$[]"](i(1,-1,!1)):(f=0,j=c,(a=(k=e["$[]"](1))["$nil?"]())!==!1&&a!==c&&(j=e["$[]"](3),b=j["$start_with?"]("("),(a=b!==!1&&b!==c?j["$end_with?"](")"):b)!==!1&&a!==c?(j=j["$[]"](i(1,-1,!0)),f=3):f=2),(a=(b=k["$=="]("indexterm"))!==!1&&b!==c?b:f["$=="](3))!==!1&&a!==c?(m=d.$split_simple_csv((a=k["$nil?"]())!==!1&&a!==c?d.$normalize_string(j):d.$normalize_string(e["$[]"](2),!0)),d.document.$register("indexterms",[].concat(m)),l.Inline.$new(d,"indexterm",c,g(["attributes"],{attributes:g(["terms"],{terms:m})})).$render()):(n=(a=k["$nil?"]())!==!1&&a!==c?d.$normalize_string(j):d.$normalize_string(e["$[]"](2),!0),d.document.$register("indexterms",[n]),l.Inline.$new(d,"indexterm",n,g(["type"],{type:"visible"})).$render()))},u._s=D,u),d).call(s,l.REGEXP["$[]"]("indexterm_macro"))),(d=H["$include?"]("://"))!==!1&&d!==c&&(H=(d=(v=H).$gsub,d._p=(w=function(){var a,b,d,e=w._s||this,f=c,j=c,k=c,m=c,n=c,o=c;return null==e.document&&(e.document=c),f=h["~"],(a=f["$[]"](2)["$start_with?"]("\\"))!==!1&&a!==c?""+f["$[]"](1)+f["$[]"](2)["$[]"](i(1,-1,!1))+f["$[]"](3):(a=(b=f["$[]"](1)["$=="]("link:"))?f["$[]"](3)["$nil?"]():b)!==!1&&a!==c?f["$[]"](0):(j=function(){return b=f["$[]"](1)["$=="]("link:"),(a=b===c||b===!1)!=!1&&a!==c?f["$[]"](1):""}(),k=f["$[]"](2),m="",b=j["$start_with?"]("&lt;"),(a=b!==!1&&b!==c?k["$end_with?"]("&gt;"):b)!==!1&&a!==c?(j=j["$[]"](i(4,-1,!1)),k=k["$[]"](i(0,-5,!1))):(b=j["$start_with?"]("("),(a=b!==!1&&b!==c?k["$end_with?"](")"):b)!==!1&&a!==c?(k=k["$[]"](i(0,-2,!1)),m=")"):(a=k["$end_with?"]("):"))!==!1&&a!==c&&(k=k["$[]"](i(0,-3,!1)),m="):")),e.document.$register("links",k),n=c,b=f["$[]"](3).$to_s()["$empty?"](),(a=b===c||b===!1)!=!1&&a!==c?((a=(b=F!==!1&&F!==c)?(d=f["$[]"](3)["$start_with?"]('"'))!==!1&&d!==c?d:f["$[]"](3)["$include?"](","):b)!==!1&&a!==c?(n=e.$parse_attributes(e.$sub_attributes(f["$[]"](3).$gsub("]","]")),[]),o=n["$[]"](1)):o=e.$sub_attributes(f["$[]"](3).$gsub("]","]")),(a=o["$end_with?"]("^"))!==!1&&a!==c&&(o=o.$chop(),(a=n)!==!1&&a!==c?a:n=g([],{}),((a=n["$has_key?"]("window"))===!1||a===c)&&n["$[]="]("window","_blank"))):o="",(a=o["$empty?"]())!==!1&&a!==c&&(o=(a=e.document["$attr?"]("hide-uri-scheme"))!==!1&&a!==c?k.$sub(l.REGEXP["$[]"]("uri_sniff"),""):k),""+j+l.Inline.$new(e,"anchor",o,g(["type","target","attributes"],{type:"link",target:k,attributes:n})).$render()+m)},w._s=D,w),d).call(v,l.REGEXP["$[]"]("link_inline"))),y=E["$[]"]("macroish"),(d=(x=y!==!1&&y!==c?H["$include?"]("link:"):y)!==!1&&x!==c?x:H["$include?"]("mailto:"))!==!1&&d!==c&&(H=(d=(x=H).$gsub,d._p=(z=function(){var a,b,d,e=z._s||this,f=c,j=c,k=c,m=c,n=c,o=c;return null==e.document&&(e.document=c),f=h["~"],(a=f["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?f["$[]"](0)["$[]"](i(1,-1,!1)):(j=f["$[]"](1),k=f["$[]"](0)["$start_with?"]("mailto:"),m=function(){return k!==!1&&k!==c?"mailto:"+j:j}(),n=c,(a=(b=F!==!1&&F!==c)?(d=f["$[]"](2)["$start_with?"]('"'))!==!1&&d!==c?d:f["$[]"](2)["$include?"](","):b)!==!1&&a!==c?(n=e.$parse_attributes(e.$sub_attributes(f["$[]"](2).$gsub("]","]")),[]),o=n["$[]"](1),k!==!1&&k!==c&&(a=n["$has_key?"](2))!==!1&&a!==c&&(m=""+m+"?subject="+l.Helpers.$encode_uri(n["$[]"](2)),(a=n["$has_key?"](3))!==!1&&a!==c&&(m=""+m+"&amp;body="+l.Helpers.$encode_uri(n["$[]"](3))))):o=e.$sub_attributes(f["$[]"](2).$gsub("]","]")),(a=o["$end_with?"]("^"))!==!1&&a!==c&&(o=o.$chop(),(a=n)!==!1&&a!==c?a:n=g([],{}),((a=n["$has_key?"]("window"))===!1||a===c)&&n["$[]="]("window","_blank")),e.document.$register("links",m),(a=o["$empty?"]())!==!1&&a!==c&&(o=(a=e.document["$attr?"]("hide-uri-scheme"))!==!1&&a!==c?j.$sub(l.REGEXP["$[]"]("uri_sniff"),""):j),l.Inline.$new(e,"anchor",o,g(["type","target","attributes"],{type:"link",target:m,attributes:n})).$render())},z._s=D,z),d).call(x,l.REGEXP["$[]"]("link_macro"))),(d=H["$include?"]("@"))!==!1&&d!==c&&(H=(d=(y=H).$gsub,d._p=(A=function(){var a=A._s||this,b=c,d=c,e=c,f=c;return null==a.document&&(a.document=c),b=h["~"],d=b["$[]"](0),e=d["$[]"](i(0,0,!1)),"\\"["$==="](e)?d["$[]"](i(1,-1,!1)):">"["$==="](e)||":"["$==="](e)?d:(f="mailto:"+d,a.document.$register("links",f),l.Inline.$new(a,"anchor",d,g(["type","target"],{type:"link",target:f})).$render())},A._s=D,A),d).call(y,l.REGEXP["$[]"]("email_inline"))),B=E["$[]"]("macroish_short_form"),(d=B!==!1&&B!==c?H["$include?"]("footnote"):B)!==!1&&d!==c&&(H=(d=(B=H).$gsub,d._p=(C=function(){var b,d,e,f=C._s||this,j=c,k=c,m=c,n=c,o=c,p=c,q=c;return null==f.document&&(f.document=c),j=h["~"],(b=j["$[]"](0)["$start_with?"]("\\"))!==!1&&b!==c?j["$[]"](0)["$[]"](i(1,-1,!1)):(j["$[]"](1)["$=="]("footnote")?(k=c,m=f.$restore_passthroughs(f.$sub_inline_xrefs(f.$sub_inline_anchors(f.$normalize_string(j["$[]"](2),!0)))),n=f.document.$counter("footnote-number"),f.document.$register("footnotes",l.Document._scope.Footnote.$new(n,k,m)),o=c,p=c):(b=a.to_ary(j["$[]"](2).$split(",",2)),k=null==b[0]?c:b[0],m=null==b[1]?c:b[1],k=k.$strip(),d=m["$nil?"](),(b=d===c||d===!1)!=!1&&b!==c?(m=f.$restore_passthroughs(f.$sub_inline_xrefs(f.$sub_inline_anchors(f.$normalize_string(m,!0)))),n=f.document.$counter("footnote-number"),f.document.$register("footnotes",l.Document._scope.Footnote.$new(n,k,m)),o="ref",p=c):(q=(b=(d=f.document.$references()["$[]"]("footnotes")).$find,b._p=(e=function(a){e._s||this;
return null==a&&(a=c),a.$id()["$=="](k)},e._s=f,e),b).call(d),p=k,k=c,n=q.$index(),m=q.$text(),o="xref")),l.Inline.$new(f,"footnote",m,g(["attributes","id","target","type"],{attributes:g(["index"],{index:n}),id:k,target:p,type:o})).$render())},C._s=D,C),d).call(B,l.REGEXP["$[]"]("footnote_macro"))),D.$sub_inline_xrefs(D.$sub_inline_anchors(H,E),E))},k.$sub_inline_anchors=function(a,b){var d,e,f,j,k,m,n,o=this;return null==b&&(b=c),e=(f=b["$nil?"]())!==!1&&f!==c?f:b["$[]"]("square_bracket"),(d=e!==!1&&e!==c?a["$include?"]("[[["):e)!==!1&&d!==c&&(a=(d=(e=a).$gsub,d._p=(j=function(){var a,b=j._s||this,d=c,e=c,f=c;return d=h["~"],(a=d["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?d["$[]"](0)["$[]"](i(1,-1,!1)):(e=f=d["$[]"](1),l.Inline.$new(b,"anchor",f,g(["type","target"],{type:"bibref",target:e})).$render())},j._s=o,j),d).call(e,l.REGEXP["$[]"]("biblio_macro"))),k=(m=b["$nil?"]())!==!1&&m!==c?m:b["$[]"]("square_bracket"),(d=(f=k!==!1&&k!==c?a["$include?"]("[["):k)!==!1&&f!==c?f:(k=(m=b["$nil?"]())!==!1&&m!==c?m:b["$[]"]("macroish"),k!==!1&&k!==c?a["$include?"]("anchor:"):k))!==!1&&d!==c&&(a=(d=(f=a).$gsub,d._p=(n=function(){var a,b,d,e=n._s||this,f=c,j=c,k=c;return null==e.document&&(e.document=c),f=h["~"],(a=f["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?f["$[]"](0)["$[]"](i(1,-1,!1)):(j=(a=f["$[]"](1))!==!1&&a!==c?a:f["$[]"](3),k=(a=f["$[]"](2))!==!1&&a!==c?a:f["$[]"](4),(a=k["$nil?"]())!==!1&&a!==c&&(k="["+j+"]"),((a=e.document.$references()["$[]"]("ids")["$has_key?"](j))===!1||a===c)&&(a=(b=l.Debug).$debug,a._p=(d=function(){d._s||this;return"Missing reference for anchor "+j},d._s=e,d),a).call(b),l.Inline.$new(e,"anchor",k,g(["type","target"],{type:"ref",target:j})).$render())},n._s=o,n),d).call(f,l.REGEXP["$[]"]("anchor_macro"))),a},k.$sub_inline_xrefs=function(b,d){var e,f,j,k,m=this;return null==d&&(d=c),(e=(f=(j=d["$nil?"]())!==!1&&j!==c?j:d["$[]"]("macroish"))!==!1&&f!==c?f:b["$include?"]("&lt;&lt;"))!==!1&&e!==c&&(b=(e=(f=b).$gsub,e._p=(k=function(){var b,d,e,f,j=k._s||this,m=c,n=c,o=c,p=c,q=c,r=c,s=c;return null==j.document&&(j.document=c),m=h["~"],(b=m["$[]"](0)["$start_with?"]("\\"))!==!1&&b!==c?m["$[]"](0)["$[]"](i(1,-1,!1)):((b=(d=m["$[]"](1)["$nil?"]())!==!1&&d!==c?d:(e=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f,e!==!1&&e!==c?m["$[]"](1).$to_s()["$=="](""):e))!==!1&&b!==c?(n=m["$[]"](2),o=function(){return d=m["$[]"](3)["$empty?"](),(b=d===c||d===!1)!=!1&&b!==c?m["$[]"](3):c}()):(b=a.to_ary((d=(e=m["$[]"](1).$split(",",2)).$map,d._p="strip".$to_proc(),d).call(e)),n=null==b[0]?c:b[0],o=null==b[1]?c:b[1],n=n.$sub(l.REGEXP["$[]"]("dbl_quoted"),function(){return(b=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)!==!1&&b!==c?"$2":"2"}()),((b=o["$nil?"]())===!1||b===c)&&(o=o.$sub(l.REGEXP["$[]"]("m_dbl_quoted"),function(){return(b=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)!==!1&&b!==c?"$2":"2"}()))),(b=n["$include?"]("#"))!==!1&&b!==c?(b=a.to_ary(n.$split("#")),p=null==b[0]?c:b[0],q=null==b[1]?c:b[1]):(p=c,q=n),(b=p["$nil?"]())!==!1&&b!==c?(r=q,s="#"+q):(p=l.Helpers.$rootname(p),(b=(d=j.document.$attributes()["$[]"]("docname")["$=="](p))!==!1&&d!==c?d:j.document.$references()["$[]"]("includes")["$include?"](p))!==!1&&b!==c?(r=q,p=c,s="#"+q):(r=function(){return(b=q["$nil?"]())!==!1&&b!==c?p:""+p+"#"+q}(),p=""+p+j.document.$attributes().$fetch("outfilesuffix",".html"),s=function(){return(b=q["$nil?"]())!==!1&&b!==c?p:""+p+"#"+q}())),l.Inline.$new(j,"anchor",o,g(["type","target","attributes"],{type:"xref",target:s,attributes:g(["path","fragment","refid"],{path:p,fragment:q,refid:r})})).$render())},k._s=m,k),e).call(f,l.REGEXP["$[]"]("xref_macro"))),b},k.$sub_callouts=function(a){var b,d,e,f=this;return(b=(d=a).$gsub,b._p=(e=function(){var a=e._s||this,b=c;return null==a.document&&(a.document=c),b=h["~"],b["$[]"](1)["$=="]("\\")?b["$[]"](0).$sub("\\",""):l.Inline.$new(a,"callout",b["$[]"](3),g(["id"],{id:a.document.$callouts().$read_next_id()})).$render()},e._s=f,e),b).call(d,l.REGEXP["$[]"]("callout_render"))},k.$sub_post_replacements=function(a){var b,d,e,f,i,j=this,k=c,m=c;return null==j.document&&(j.document=c),null==j.attributes&&(j.attributes=c),(b=(d=j.document.$attributes()["$has_key?"]("hardbreaks"))!==!1&&d!==c?d:j.attributes["$has_key?"]("hardbreaks-option"))!==!1&&b!==c?(k=a.$split(l.LINE_SPLIT),k.$size()["$=="](1)?a:(m=k.$pop(),(b=(d=k).$map,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),l.Inline.$new(b,"break",a.$rstrip().$chomp(l.LINE_BREAK),g(["type"],{type:"line"})).$render()},e._s=j,e),b).call(d).$push(m)["$*"](l.EOL))):(b=(f=a).$gsub,b._p=(i=function(){var a=i._s||this;return l.Inline.$new(a,"break",h["~"]["$[]"](1),g(["type"],{type:"line"})).$render()},i._s=j,i),b).call(f,l.REGEXP["$[]"]("line_break"))},k.$transform_quoted_text=function(a,b,d){var e,f,h,j=this,k=c,m=c,n=c;if(k=c,(e=a["$[]"](0)["$start_with?"]("\\"))!==!1&&e!==c){if((e=(f=d["$=="]("constrained"))?(h=a["$[]"](2)["$nil?"](),h===c||h===!1):f)===!1||e===c)return a["$[]"](0)["$[]"](i(1,-1,!1));k="["+a["$[]"](2)+"]"}return d["$=="]("constrained")?(e=k["$nil?"]())!==!1&&e!==c?(m=j.$parse_quoted_text_attributes(a["$[]"](2)),n=function(){return(e=m["$nil?"]())!==!1&&e!==c?c:m.$delete("id")}(),""+a["$[]"](1)+l.Inline.$new(j,"quoted",a["$[]"](3),g(["type","id","attributes"],{type:b,id:n,attributes:m})).$render()):""+k+l.Inline.$new(j,"quoted",a["$[]"](3),g(["type","attributes"],{type:b,attributes:g([],{})})).$render():(m=j.$parse_quoted_text_attributes(a["$[]"](1)),n=function(){return(e=m["$nil?"]())!==!1&&e!==c?c:m.$delete("id")}(),l.Inline.$new(j,"quoted",a["$[]"](2),g(["type","id","attributes"],{type:b,id:n,attributes:m})).$render())},k.$parse_quoted_text_attributes=function(b){var d,f,h=this,i=c,j=c,k=c,l=c,m=c,n=c;return(d=b["$nil?"]())!==!1&&d!==c?c:(d=b["$empty?"]())!==!1&&d!==c?g([],{}):((d=b["$include?"]("{"))!==!1&&d!==c&&(b=h.$sub_attributes(b)),b=b.$strip(),(d=b["$include?"](","))!==!1&&d!==c&&(d=a.to_ary(b.$split(",",2)),b=null==d[0]?c:d[0],i=null==d[1]?c:d[1]),(d=b["$empty?"]())!==!1&&d!==c?g([],{}):(d=(f=b["$start_with?"]("."))!==!1&&f!==c?f:b["$start_with?"]("#"))!==!1&&d!==c?(j=b.$split("#",2),j.$length()["$>"](1)?(d=a.to_ary(j["$[]"](1).$split(".")),k=null==d[0]?c:d[0],l=e.call(d,1)):(k=c,l=[]),m=function(){return(d=j["$[]"](0)["$empty?"]())!==!1&&d!==c?[]:j["$[]"](0).$split(".")}(),m.$length()["$>"](1)&&m.$shift(),l.$length()["$>"](0)&&m.$concat(l),n=g([],{}),((d=k["$nil?"]())===!1||d===c)&&n["$[]="]("id",k),((d=m["$empty?"]())===!1||d===c)&&n["$[]="]("role",m["$*"](" ")),n):g(["role"],{role:b}))},k.$parse_attributes=function(a,b,d){var e,f=this,h=c;return null==f.document&&(f.document=c),null==b&&(b=["role"]),null==d&&(d=g([],{})),(e=a["$nil?"]())!==!1&&e!==c?c:(e=a["$empty?"]())!==!1&&e!==c?g([],{}):((e=d["$[]"]("sub_input"))!==!1&&e!==c&&(a=f.document.$sub_attributes(a)),(e=d["$[]"]("unescape_input"))!==!1&&e!==c&&(a=f.$unescape_bracketed_text(a)),h=c,(e=d.$fetch("sub_result",!0))!==!1&&e!==c&&(h=f),(e=d["$has_key?"]("into"))!==!1&&e!==c?l.AttributeList.$new(a,h).$parse_into(d["$[]"]("into"),b):l.AttributeList.$new(a,h).$parse(b))},k.$unescape_bracketed_text=function(a){var b;return(b=a["$empty?"]())!==!1&&b!==c?"":a.$strip().$tr(l.EOL," ").$gsub("]","]")},k.$normalize_string=function(a,b){var d,e=this;return null==b&&(b=!1),(d=a["$empty?"]())!==!1&&d!==c?"":b!==!1&&b!==c?e.$unescape_brackets(a.$strip().$tr(l.EOL," ")):a.$strip().$tr(l.EOL," ")},k.$unescape_brackets=function(a){var b;return(b=a["$empty?"]())!==!1&&b!==c?"":a.$gsub("]","]")},k.$split_simple_csv=function(a){var b,d,e,f,g=this,h=c,i=c,j=c;return(b=a["$empty?"]())!==!1&&b!==c?h=[]:(b=a["$include?"]('"'))!==!1&&b!==c?(h=[],i=[],j=!1,(b=(d=a).$each_char,b._p=(e=function(a){var b,d=(e._s||this,c);return null==a&&(a=c),function(){return d=a,","["$==="](d)?j!==!1&&j!==c?i.$push(a):(h["$<<"](i.$join().$strip()),i=[]):'"'["$==="](d)?(b=j,j=b===c||b===!1):i.$push(a)}()},e._s=g,e),b).call(d),h["$<<"](i.$join().$strip())):h=(b=(f=a.$split(",")).$map,b._p="strip".$to_proc(),b).call(f),h},k.$resolve_subs=function(a,b,d,e){var f,g,h,j=this,k=c,m=c,n=c,o=c;return null==b&&(b="block"),null==d&&(d=c),null==e&&(e=c),(f=(g=a["$nil?"]())!==!1&&g!==c?g:a["$empty?"]())!==!1&&f!==c?[]:(k=[],m=function(){return(f=d["$nil?"]())!==!1&&f!==c?!1:c}(),(f=(g=a.$split(",")).$each,f._p=(h=function(a){var f,g,j,n=h._s||this,o=c,p=c,q=c,r=c,s=c,t=c;if(null==a&&(a=c),o=a.$strip(),g=m["$=="](!1),(f=g===c||g===!1)!=!1&&f!==c){if((p=o["$[]"](i(0,0,!1)))["$=="]("+"))q="append",o=o["$[]"](i(1,-1,!1));else if(p["$=="]("-"))q="remove",o=o["$[]"](i(1,-1,!1));else if((f=o["$end_with?"]("+"))!==!1&&f!==c)q="prepend",o=o["$[]"](i(0,-1,!0));else{if(m!==!1&&m!==c)return n.$warn("asciidoctor: WARNING: invalid entry in substitution modification group"+function(){return e!==!1&&e!==c?" for ":c}()+e+": "+o),c;q=c}(f=m["$nil?"]())!==!1&&f!==c&&(q!==!1&&q!==c?(k=d.$dup(),m=!0):m=!1)}return o=o.$to_sym(),(f=(g=b["$=="]("inline"))?(j=o["$=="]("verbatim"))!==!1&&j!==c?j:o["$=="]("v"):g)!==!1&&f!==c?r=["specialcharacters"]:(f=l.COMPOSITE_SUBS["$has_key?"](o))!==!1&&f!==c?r=l.COMPOSITE_SUBS["$[]"](o):(g=(j=b["$=="]("inline"))?o.$to_s().$length()["$=="](1):j,(f=g!==!1&&g!==c?l.SUB_SYMBOLS["$has_key?"](o):g)!==!1&&f!==c?(s=l.SUB_SYMBOLS["$[]"](o),r=(f=l.COMPOSITE_SUBS["$has_key?"](s))!==!1&&f!==c?l.COMPOSITE_SUBS["$[]"](s):[s]):r=[o]),m!==!1&&m!==c?function(){return t=q,"append"["$==="](t)?k=k["$+"](r):"prepend"["$==="](t)?k=r["$+"](k):"remove"["$==="](t)?k=k["$-"](r):c}():k=k["$+"](r)},h._s=j,h),f).call(g),n=k["$&"](l.SUB_OPTIONS["$[]"](b)),(o=k["$-"](n)).$size()["$>"](0)&&j.$warn("asciidoctor: WARNING: invalid substitution type"+function(){return o.$size()["$>"](1)?"s":""}()+function(){return e!==!1&&e!==c?" for ":c}()+e+": "+o["$*"](", ")),n)},k.$resolve_block_subs=function(a,b,c){var d=this;return d.$resolve_subs(a,"block",b,c)},k.$resolve_pass_subs=function(a){var b=this;return b.$resolve_subs(a,"inline",c,"passthrough macro")},k.$highlight_source=function(b,d,e){var f,j,k,m,n,o,p=this,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c;return null==p.document&&(p.document=c),null==p.passthroughs&&(p.passthroughs=c),null==e&&(e=c),(f=e)!==!1&&f!==c?f:e=p.document.$attributes()["$[]"]("source-highlighter"),l.Helpers.$require_library(e,function(){return e["$=="]("pygments")?"pygments.rb":e}()),q=g([],{}),r=0,s=!1,d!==!1&&d!==c&&(t=-1,b=(f=(j=b.$split(l.LINE_SPLIT)).$map,f._p=(k=function(a){var b,d,e,f=k._s||this;return null==a&&(a=c),r=r["$+"](1),(b=(d=a).$gsub,b._p=(e=function(){var a,b,d,f=(e._s||this,c);return f=h["~"],f["$[]"](1)["$=="]("\\")?f["$[]"](0).$sub("\\",""):((a=r,b=q,(d=b["$[]"](a))!==!1&&d!==c?d:b["$[]="](a,[]))["$<<"](f["$[]"](3)),t=r,c)},e._s=f,e),b).call(d,l.REGEXP["$[]"]("callout_scan"))},k._s=p,k),f).call(j)["$*"](l.EOL),s=t["$=="](r)),u=c,v=e,"coderay"["$==="](v)?w=(null==(f=a.Object._scope.CodeRay)?a.cm("CodeRay"):f)._scope.Duo["$[]"](p.$attr("language","text").$to_sym(),"html",g(["css","line_numbers","line_number_anchors"],{css:p.document.$attributes().$fetch("coderay-css","class").$to_sym(),line_numbers:u=function(){return(f=p["$attr?"]("linenums"))!==!1&&f!==c?p.document.$attributes().$fetch("coderay-linenums-mode","table").$to_sym():c}(),line_number_anchors:!1})).$highlight(b):"pygments"["$==="](v)&&(x=(null==(f=a.Object._scope.Pygments)?a.cm("Pygments"):f)._scope.Lexer["$[]"](p.$attr("language")),x!==!1&&x!==c?(y=g(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),((f=p.document.$attributes().$fetch("pygments-css","class")["$=="]("class"))===!1||f===c)&&y["$[]="]("noclasses",!0),(f=p["$attr?"]("linenums"))!==!1&&f!==c&&y["$[]="]("linenos",(u=p.document.$attributes().$fetch("pygments-linenums-mode","table").$to_sym()).$to_s()),w=u["$=="]("table")?x.$highlight(b,g(["options"],{options:y})).$sub(/<div class="pyhl">(.*)<\/div>/i,"1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/i,"1"):x.$highlight(b,g(["options"],{options:y})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/i,"1")):w=b),((f=p.passthroughs["$empty?"]())===!1||f===c)&&(w=w.$gsub(l.PASS_PLACEHOLDER["$[]"]("match_syn"),""+l.PASS_PLACEHOLDER["$[]"]("start")+"\\1"+l.PASS_PLACEHOLDER["$[]"]("end"))),n=d,(f=(m=n===c||n===!1)!=!1&&m!==c?m:q["$empty?"]())!==!1&&f!==c?w:(r=0,f=u["$=="]("table"),z=f===c||f===!1,(f=(m=w.$split(l.LINE_SPLIT)).$map,f._p=(o=function(a){var b,d,e,f,h=o._s||this,j=c,k=c,m=c,n=c;if(null==h.document&&(h.document=c),null==a&&(a=c),(b=z)===!1||b===c){if((b=a["$include?"]('<td class="code">'))===!1||b===c)return a;z=!0}return r=r["$+"](1),(b=j=q.$delete(r))!==!1&&b!==c?(k=c,d=(e=s!==!1&&s!==c)?q["$empty?"]():e,(b=d!==!1&&d!==c?m=a.$index("</pre>"):d)!==!1&&b!==c&&(k=a["$[]"](i(m,-1,!1)),a=a["$[]"](i(0,m,!0))),j.$size()["$=="](1)?""+a+l.Inline.$new(h,"callout",j.$first(),g(["id"],{id:h.document.$callouts().$read_next_id()})).$render()+k:(n=(b=(d=j).$map,b._p=(f=function(a){var b=f._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),l.Inline.$new(b,"callout",a,g(["id"],{id:b.document.$callouts().$read_next_id()})).$render()},f._s=h,f),b).call(d)["$*"](" "),""+a+n+k)):a},o._s=p,o),f).call(m)["$*"](l.EOL))},k.$lock_in_subs=function(){var a,b,d,e,f,g,h=this,i=c,j=c,k=c,m=c;if(null==h.content_model&&(h.content_model=c),null==h.context&&(h.context=c),null==h.attributes&&(h.attributes=c),null==h.style&&(h.style=c),null==h.document&&(h.document=c),null==h.subs&&(h.subs=c),i=[],j=h.content_model,"simple"["$==="](j))i=l.SUBS["$[]"]("normal");else if("verbatim"["$==="](j))i=l.SUBS["$[]"]((a=(b=h.context["$=="]("listing"))!==!1&&b!==c?b:(d=h.context["$=="]("literal"))?(e=h["$option?"]("listparagraph"),e===c||e===!1):d)!==!1&&a!==c?"verbatim":h.context["$=="]("verse")?"normal":"basic");else{if(!"raw"["$==="](j))return c;i=l.SUBS["$[]"]("pass")}return h.subs=(a=k=h.attributes["$[]"]("subs"))!==!1&&a!==c?h.$resolve_block_subs(k,i,h.context):i.$dup(),e=(f=h.context["$=="]("listing"))?h.style["$=="]("source"):f,d=e!==!1&&e!==c?h.document["$basebackend?"]("html"):e,b=d!==!1&&d!==c?(e=(m=h.document.$attributes()["$[]"]("source-highlighter"))["$=="]("coderay"))!==!1&&e!==c?e:m["$=="]("pygments"):d,(a=b!==!1&&b!==c?h["$attr?"]("language"):b)!==!1&&a!==c?h.subs=(a=(b=h.subs).$map,a._p=(g=function(a){g._s||this;return null==a&&(a=c),a["$=="]("specialcharacters")?"highlight":a},g._s=h,g),a).call(b):c},a.donate(j,["$apply_subs","$apply_normal_subs","$apply_title_subs","$apply_header_subs","$extract_passthroughs","$restore_passthroughs","$sub_specialcharacters","$sub_specialchars","$sub_quotes","$sub_replacements","$do_replacement","$sub_attributes","$sub_macros","$sub_inline_anchors","$sub_inline_xrefs","$sub_callouts","$sub_post_replacements","$transform_quoted_text","$parse_quoted_text_attributes","$parse_attributes","$unescape_bracketed_text","$normalize_string","$unescape_brackets","$split_simple_csv","$resolve_subs","$resolve_block_subs","$resolve_pass_subs","$highlight_source","$lock_in_subs"])}(j)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2,g=a.range;return function(a){{var b=d(a,"Asciidoctor");b._proto,b._scope}!function(a,b){function d(){}var h=d=e(a,b,"AbstractNode",d),i=d._proto,j=d._scope;return i.document=i.attributes=i.style=c,h.$include(j.Substitutors),h.$attr_reader("parent"),h.$attr_reader("document"),h.$attr_reader("context"),h.$attr_accessor("id"),h.$attr_reader("attributes"),i.$initialize=function(a,b){var d,e=this;return b["$=="]("document")?(e.parent=c,e.document=a):(e.parent=a,e.document=function(){return(d=a["$nil?"]())!==!1&&d!==c?c:a.$document()}()),e.context=b,e.attributes=f([],{}),e.passthroughs=[]},i["$parent="]=function(a){var b=this;return b.parent=a,b.document=a.$document(),c},i.$attr=function(a,b,d){var e,f,g=this;return null==b&&(b=c),null==d&&(d=!0),(e=a["$is_a?"](j.Symbol))!==!1&&e!==c&&(a=a.$to_s()),g["$=="](g.document)&&(d=!1),d!==!1&&d!==c?(e=(f=g.attributes["$[]"](a))!==!1&&f!==c?f:g.document.$attributes()["$[]"](a))!==!1&&e!==c?e:b:(e=g.attributes["$[]"](a))!==!1&&e!==c?e:b},i["$attr?"]=function(a,b,d){var e,f,g=this;return null==b&&(b=c),null==d&&(d=!0),(e=a["$is_a?"](j.Symbol))!==!1&&e!==c&&(a=a.$to_s()),g["$=="](g.document)&&(d=!1),(e=b["$nil?"]())!==!1&&e!==c?(e=g.attributes["$has_key?"](a))!==!1&&e!==c?e:(f=d!==!1&&d!==c)?g.document.$attributes()["$has_key?"](a):f:b["$=="](d!==!1&&d!==c?(e=g.attributes["$[]"](a))!==!1&&e!==c?e:g.document.$attributes()["$[]"](a):g.attributes["$[]"](a))},i.$set_attr=function(a,b,d){var e,f,g=this;return null==d&&(d=c),(e=d["$nil?"]())!==!1&&e!==c?(g.attributes["$[]="](a,b),!0):(e=(f=d)!==!1&&f!==c?f:g.attributes["$has_key?"](a))!==!1&&e!==c?(g.attributes["$[]="](a,b),!0):!1},i.$set_option=function(a){var b,d=this;return(b=d.attributes["$has_key?"]("options"))!==!1&&b!==c?d.attributes["$[]="]("options",""+d.attributes["$[]"]("options")+","+a):d.attributes["$[]="]("options",a),d.attributes["$[]="](""+a+"-option","")},i["$option?"]=function(a){var b=this;return b.attributes["$has_key?"](""+a+"-option")},i.$get_binding=function(){var a=this;return a.$binding()},i.$update_attributes=function(a){var b=this;return b.attributes.$update(a),c},i.$renderer=function(){var a=this;return a.document.$renderer()},i["$role?"]=function(a){var b,d=this;return null==a&&(a=c),(b=a["$nil?"]())!==!1&&b!==c?(b=d.attributes["$has_key?"]("role"))!==!1&&b!==c?b:d.document.$attributes()["$has_key?"]("role"):a["$=="]((b=d.attributes["$[]"]("role"))!==!1&&b!==c?b:d.document.$attributes()["$[]"]("role"))},i.$role=function(){var a,b=this;return(a=b.attributes["$[]"]("role"))!==!1&&a!==c?a:b.document.$attributes()["$[]"]("role")},i["$has_role?"]=function(a){var b,d,e=this,f=c;return(b=f=(d=e.attributes["$[]"]("role"))!==!1&&d!==c?d:e.document.$attributes()["$[]"]("role"))!==!1&&b!==c?f.$split(" ")["$include?"](a):!1},i.$roles=function(){var a,b,d=this,e=c;return(a=e=(b=d.attributes["$[]"]("role"))!==!1&&b!==c?b:d.document.$attributes()["$[]"]("role"))!==!1&&a!==c?e.$split(" "):[]},i["$reftext?"]=function(){var a,b=this;return(a=b.attributes["$has_key?"]("reftext"))!==!1&&a!==c?a:b.document.$attributes()["$has_key?"]("reftext")},i.$reftext=function(){var a,b=this;return(a=b.attributes["$[]"]("reftext"))!==!1&&a!==c?a:b.document.$attributes()["$[]"]("reftext")},i.$short_tag_slash=function(){var a=this;return a.document.$attributes()["$[]"]("htmlsyntax")["$=="]("xml")?"/":c},i.$icon_uri=function(a){var b,d=this;return(b=d["$attr?"]("icon"))!==!1&&b!==c?d.$image_uri(d.$attr("icon"),c):d.$image_uri(""+a+"."+d.document.$attr("icontype","png"),"iconsdir")},i.$media_uri=function(a,b){var d,e,f=this;return null==b&&(b="imagesdir"),e=a["$include?"](":"),(d=e!==!1&&e!==c?a.$match(j.Asciidoctor._scope.REGEXP["$[]"]("uri_sniff")):e)!==!1&&d!==c?a:(d=(e=b!==!1&&b!==c)?f["$attr?"](b):e)!==!1&&d!==c?f.$normalize_web_path(a,f.document.$attr(b)):f.$normalize_web_path(a)},i.$image_uri=function(a,b){var d,e,f=this;return null==b&&(b="imagesdir"),e=a["$include?"](":"),(d=e!==!1&&e!==c?a.$match(j.Asciidoctor._scope.REGEXP["$[]"]("uri_sniff")):e)!==!1&&d!==c?a:(d=(e=f.document.$safe()["$<"](j.Asciidoctor._scope.SafeMode._scope.SECURE))?f.document["$attr?"]("data-uri"):e)!==!1&&d!==c?f.$generate_data_uri(a,b):(d=(e=b!==!1&&b!==c)?f["$attr?"](b):e)!==!1&&d!==c?f.$normalize_web_path(a,f.document.$attr(b)):f.$normalize_web_path(a)},i.$generate_data_uri=function(a,b){var d,e,h,i=this,k=c,l=c,m=c,n=c;return null==b&&(b=c),k=j.File.$extname(a)["$[]"](g(1,-1,!1)),l="image/"["$+"](k),k["$=="]("svg")&&(l=""+l+"+xml"),m=b!==!1&&b!==c?i.$normalize_system_path(a,i.document.$attr(b),c,f(["target_name"],{target_name:"image"})):i.$normalize_system_path(a),e=j.File["$readable?"](m),(d=e===c||e===!1)!=!1&&d!==c?(i.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+m),"data:"+l+":base64,"):(n=c,n=(d=j.IO["$respond_to?"]("binread"))!==!1&&d!==c?j.IO.$binread(m):(d=(e=j.File).$open,d._p=(h=function(a){h._s||this;return null==a&&(a=c),a.$read()},h._s=i,h),d).call(e,m,"rb"),"data:"+l+";base64,"+j.Base64.$encode64(n).$delete("\n"))},i.$read_asset=function(a,b){var d,e=this;return null==b&&(b=!1),(d=j.File["$readable?"](a))!==!1&&d!==c?j.File.$read(a).$chomp():(b!==!1&&b!==c&&e.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+a),c)},i.$normalize_web_path=function(a,b){return null==b&&(b=c),j.PathResolver.$new().$web_path(a,b)},i.$normalize_system_path=function(a,b,d,e){var g,h,i=this;return null==b&&(b=c),null==d&&(d=c),null==e&&(e=f([],{})),(g=b["$nil?"]())!==!1&&g!==c&&(b=i.document.$base_dir()),h=d["$nil?"](),(g=h!==!1&&h!==c?i.document.$safe()["$>="](j.SafeMode._scope.SAFE):h)!==!1&&g!==c&&(d=i.document.$base_dir()),j.PathResolver.$new().$system_path(a,b,d,e)},i.$normalize_asset_path=function(a,b,d){var e=this;return null==b&&(b="path"),null==d&&(d=!0),e.$normalize_system_path(a,e.document.$base_dir(),c,f(["target_name","recover"],{target_name:b,recover:d}))},i.$relative_path=function(a){var b=this;return j.PathResolver.$new().$relative_path(a,b.document.$base_dir())},i.$list_marker_keyword=function(a){var b,d=this;return null==a&&(a=c),j.ORDERED_LIST_KEYWORDS["$[]"]((b=a)!==!1&&b!==c?b:d.style)},c}(b,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass;return function(b){var f=d(b,"Asciidoctor"),g=(f._proto,f._scope);!function(b,d){function f(){}var g,h=f=e(b,d,"AbstractBlock",f),i=f._proto,j=f._scope;return i.context=i.document=i.attributes=i.template_name=i.blocks=i.subs=i.title=i.subbed_title=i.caption=i.next_section_index=i.next_section_number=c,h.$attr_accessor("content_model"),h.$attr_reader("subs"),h.$attr_accessor("template_name"),h.$attr_reader("blocks"),h.$attr_accessor("level"),h.$attr_writer("title"),h.$attr_accessor("style"),h.$attr_accessor("caption"),i.$initialize=g=function(b,d){{var e,f,h,i=this;g._p}return g._p=null,a.find_super_dispatcher(i,"initialize",g,null).apply(i,[b,d]),i.content_model="compound",i.subs=[],i.template_name="block_"+d,i.blocks=[],i.id=c,i.title=c,i.caption=c,i.style=c,d["$=="]("document")?i.level=0:(h=b["$nil?"](),f=h===c||h===!1,i.level=(e=f!==!1&&f!==c?(h=i.context["$=="]("section"),h===c||h===!1):f)!==!1&&e!==c?b.$level():c),i.next_section_index=0,i.next_section_number=1},i["$context="]=function(a){var b=this;return b.context=a,b.template_name="block_"+a},i.$render=function(){var a=this;return a.document.$playback_attributes(a.attributes),a.$renderer().$render(a.template_name,a)},i.$content=function(){var a,b,d,e=this;return(a=(b=e.blocks).$map,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$render()},d._s=e,d),a).call(b)["$*"](j.EOL)},i["$sub?"]=function(a){var b=this;return b.subs["$include?"](a)},i["$title?"]=function(){var a,b=this;return a=b.title.$to_s()["$empty?"](),a===c||a===!1},i.$title=function(){var a,b,d=this;return b=d.subbed_title,(a=null!=b&&b!==c?"instance-variable":c)!==!1&&a!==c?d.subbed_title:(a=d.title)!==!1&&a!==c?d.subbed_title=d.$apply_title_subs(d.title):d.title},i.$captioned_title=function(){var a=this;return""+a.caption+a.$title()},i["$blocks?"]=function(){var a,b=this;return a=b.blocks["$empty?"](),a===c||a===!1},i["$<<"]=function(a){var b=this;return b.blocks["$<<"](a)},i.$sections=function(){var a,b,d,e=this;return(a=(b=e.blocks).$opalInject,a._p=(d=function(a,b){d._s||this;return null==a&&(a=c),null==b&&(b=c),b.$context()["$=="]("section")&&a["$<<"](b),a},d._s=e,d),a).call(b,[])},i.$remove_sub=function(a){var b=this;return b.subs.$delete(a),c},i.$assign_caption=function(a,b){var d,e,f=this,g=c,h=c,i=c;return null==a&&(a=c),null==b&&(b=c),(d=(e=f["$title?"]())!==!1&&e!==c?e:f.caption["$nil?"]())===!1||d===c?c:((d=a["$nil?"]())!==!1&&d!==c?(d=f.document.$attributes()["$has_key?"]("caption"))!==!1&&d!==c?f.caption=f.document.$attributes()["$[]"]("caption"):(d=f["$title?"]())!==!1&&d!==c?((d=b)!==!1&&d!==c?d:b=f.context.$to_s(),g=""+b+"-caption",(d=f.document.$attributes()["$has_key?"](g))!==!1&&d!==c&&(h=f.document.$attributes()["$[]"](""+b+"-caption"),i=f.document.$counter_increment(""+b+"-number",f),f.caption=""+h+" "+i+". ")):f.caption=a:f.caption=a,c)},i.$assign_index=function(a){var b,d,e,f,g=this,h=c,i=c;return a["$index="](g.next_section_index),g.next_section_index=g.next_section_index["$+"](1),a.$sectname()["$=="]("appendix")?(h=g.document.$counter("appendix-number","A"),(b=a.$numbered())!==!1&&b!==c&&a["$number="](h),d=(i=g.document.$attr("appendix-caption",""))["$=="](""),a["$caption="]((b=d===c||d===!1)!=!1&&b!==c?""+i+" "+h+": ":""+h+". ")):(b=a.$numbered())!==!1&&b!==c?(d=(e=a.$level()["$=="](1))!==!1&&e!==c?e:(f=a.$level()["$=="](0))?a.$special():f,(b=d!==!1&&d!==c?g.document.$doctype()["$=="]("book"):d)!==!1&&b!==c?a["$number="](g.document.$counter("chapter-number",1)):(a["$number="](g.next_section_number),g.next_section_number=g.next_section_number["$+"](1))):c},i.$reindex_sections=function(){var a,b,d,e=this;return e.next_section_index=0,e.next_section_number=0,(a=(b=e.blocks).$each,a._p=(d=function(a){var b=d._s||this;return null==a&&(a=c),a.$context()["$=="]("section")?(b.$assign_index(a),a.$reindex_sections()):c},d._s=e,d),a).call(b)},c}(f,g.AbstractNode)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b,d){function g(){}var h=g=e(b,d,"AttributeList",g),i=g._proto,j=g._scope;return i.attributes=i.scanner=i.quotes=i.delimiter=i.block=i.escape_char=c,a.cdecl(j,"BOUNDARY_PATTERNS",f(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/})),a.cdecl(j,"UNESCAPE_PATTERNS",f(['\\"',"\\'"],{'\\"':/\\"/,"\\'":/\\'/})),a.cdecl(j,"SKIP_PATTERNS",f(["blank",","],{blank:/[ \t]+/,",":/[ \t]*(,|$)/})),a.cdecl(j,"NAME_PATTERN",/[A-Za-z:_][A-Za-z:_\-\.]*/),i.$initialize=function(b,d,e,f,g){var h,i=this;return null==d&&(d=c),null==e&&(e=["'",'"']),null==f&&(f=","),null==g&&(g="\\"),i.scanner=(null==(h=a.Object._scope.StringScanner)?a.cm("StringScanner"):h).$new(b),i.block=d,i.quotes=e,i.escape_char=g,i.delimiter=f,i.attributes=c},i.$parse_into=function(a,b){var c=this;return null==b&&(b=[]),a.$update(c.$parse(b))},i.$parse=function(a){var b,d,e=this,g=c;if(null==a&&(a=[]),(b=e.attributes["$nil?"]())===!1||b===c)return e.attributes;for(e.attributes=f([],{}),g=0;(d=e.$parse_attribute(g,a))!==!1&&d!==c&&((d=e.scanner["$eos?"]())===!1||d===c);)e.$skip_delimiter(),g=g["$+"](1);return e.attributes},i.$rekey=function(a){var b=this;return j.AttributeList.$rekey(b.attributes,a)},a.defs(h,"$rekey",function(a,b){var d,e,f,g=this;return(d=(e=b).$each_with_index,d._p=(f=function(b,d){var e,g=(f._s||this,c),h=c;return null==b&&(b=c),null==d&&(d=c),(e=b["$nil?"]())!==!1&&e!==c?c:(g=d["$+"](1),(e=(h=a["$[]"](g))["$nil?"]())!==!1&&e!==c?c:a["$[]="](b,h))},f._s=g,f),d).call(e),a}),i.$parse_attribute=function(a,b){var d,e,f,g,h,i=this,j=c,k=c,l=c,m=c,n=c,o=c,p=c,q=c,r=c,s=c;if(null==a&&(a=0),null==b&&(b=[]),j=!1,i.$skip_blank(),k=i.scanner.$peek(1),(d=i.quotes["$include?"](k))!==!1&&d!==c)l=c,m=i.$parse_attribute_value(i.scanner.$get_byte()),k["$=="]("'")&&(j=!0);else{if(m=i.$scan_name(),n=0,o=c,(d=i.scanner["$eos?"]())!==!1&&d!==c){if((d=m["$nil?"]())!==!1&&d!==c)return!1}else n=(d=i.$skip_blank())!==!1&&d!==c?d:0,o=i.scanner.$get_byte();(d=(e=o["$nil?"]())!==!1&&e!==c?e:o["$=="](i.delimiter))!==!1&&d!==c?l=c:(f=o["$=="]("="),(d=(e=f===c||f===!1)!=!1&&e!==c?e:m["$nil?"]())!==!1&&d!==c?(p=i.$scan_to_delimiter(),(d=m["$nil?"]())!==!1&&d!==c&&(m=""),m=m["$+"](" "["$*"](n)["$+"](o)),((d=p["$nil?"]())===!1||d===c)&&(m=m["$+"](p)),l=c):(i.$skip_blank(),i.scanner.$peek(1)["$=="](i.delimiter)?l=c:(o=i.scanner.$get_byte(),(d=i.quotes["$include?"](o))!==!1&&d!==c?(l=i.$parse_attribute_value(o),o["$=="]("'")&&(j=!0)):(e=o["$nil?"](),(d=e===c||e===!1)!=!1&&d!==c&&(l=o["$+"](i.$scan_to_delimiter()))))))}return(d=l["$nil?"]())!==!1&&d!==c?(q=function(){return(d=(e=j!==!1&&j!==c)?(f=i.block["$nil?"](),f===c||f===!1):e)!==!1&&d!==c?i.block.$apply_normal_subs(m):m}(),e=(r=b["$[]"](a))["$nil?"](),(d=e===c||e===!1)!=!1&&d!==c&&i.attributes["$[]="](r,q),i.attributes["$[]="](a["$+"](1),q)):(s=l,(d=(e=m["$=="]("options"))!==!1&&e!==c?e:m["$=="]("opts"))!==!1&&d!==c?(m="options",(d=(e=s.$split(",")).$each,d._p=(g=function(a){var b=g._s||this;return null==b.attributes&&(b.attributes=c),null==a&&(a=c),b.attributes["$[]="](""+a.$strip()+"-option","")},g._s=i,g),d).call(e)):(d=(f=j!==!1&&j!==c)?(h=i.block["$nil?"](),h===c||h===!1):f)!==!1&&d!==c&&(s=i.block.$apply_normal_subs(l)),i.attributes["$[]="](m,s)),!0},i.$parse_attribute_value=function(a){var b,d=this,e=c;return d.scanner.$peek(1)["$=="](a)?(d.scanner.$get_byte(),""):(e=d.$scan_to_quote(a),(b=e["$nil?"]())!==!1&&b!==c?a["$+"](d.$scan_to_delimiter()):(d.scanner.$get_byte(),e.$gsub(j.UNESCAPE_PATTERNS["$[]"](d.escape_char["$+"](a)),a)))},i.$skip_blank=function(){var a=this;return a.scanner.$skip(j.SKIP_PATTERNS["$[]"]("blank"))},i.$skip_delimiter=function(){var a=this;return a.scanner.$skip(j.SKIP_PATTERNS["$[]"](a.delimiter))},i.$scan_name=function(){var a=this;return a.scanner.$scan(j.NAME_PATTERN)},i.$scan_to_delimiter=function(){var a=this;return a.scanner.$scan(j.BOUNDARY_PATTERNS["$[]"](a.delimiter))},i.$scan_to_quote=function(a){var b=this;return b.scanner.$scan(j.BOUNDARY_PATTERNS["$[]"](a))},c}(g,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.hash2;return function(b){var h=e(b,"Asciidoctor"),i=(h._proto,h._scope);!function(b,e){function h(){}var i,j,k=h=f(b,e,"Block",h),l=h._proto,m=h._scope;return l.content_model=l.lines=l.subs=l.blocks=l.context=l.style=c,a.defn(k,"$blockname",l.$context),k.$attr_accessor("lines"),l.$initialize=i=function(b,d,e){var f,h=this,j=(i._p,c);return null==e&&(e=g([],{})),i._p=null,a.find_super_dispatcher(h,"initialize",i,null).apply(h,[b,d]),h.content_model=(f=e.$fetch("content_model",c))!==!1&&f!==c?f:"simple",h.attributes=(f=e.$fetch("attributes",c))!==!1&&f!==c?f:g([],{}),(f=e["$has_key?"]("subs"))!==!1&&f!==c&&(h.subs=e["$[]"]("subs")),j=(f=e.$fetch("source",c))!==!1&&f!==c?f:c,h.lines=(f=j["$nil?"]())!==!1&&f!==c?[]:j.$class()["$=="](null==(f=a.Object._scope.String)?a.cm("String"):f)?m.Helpers.$normalize_lines_from_string(j):j.$dup()},l.$content=j=function(){var b,e,f,g,h=d.call(arguments,0),i=this,k=j._p,l=c,n=c,o=c,p=c;return j._p=null,function(){if(l=i.content_model,"compound"["$==="](l))return a.find_super_dispatcher(i,"content",j,k).apply(i,h);if("simple"["$==="](l))return i.$apply_subs(i.lines.$join(m.EOL),i.subs);if("verbatim"["$==="](l)||"raw"["$==="](l)){if(n=i.$apply_subs(i.lines,i.subs),n.$size()["$<"](2))return(b=n.$first())!==!1&&b!==c?b:"";for(;g=(o=n.$first())["$nil?"](),f=g===c||g===!1,(e=f!==!1&&f!==c?o.$rstrip()["$empty?"]():f)!==!1&&e!==c;)n.$shift();for(;g=(p=n.$last())["$nil?"](),f=g===c||g===!1,(e=f!==!1&&f!==c?p.$rstrip()["$empty?"]():f)!==!1&&e!==c;)n.$pop();return n.$join(m.EOL)}return((b=i.content_model["$=="]("empty"))===!1||b===c)&&i.$warn("Unknown content model '"+i.content_model+"' for block: "+i.$to_s()),c}()},l.$source=function(){var a=this;return a.lines["$*"](m.EOL)},l.$to_s=function(){var a,b=this,d=c;return d=function(){return b.content_model["$=="]("compound")?"# of blocks = "+b.blocks.$size():"# of lines = "+b.lines.$size()}(),"Block[@context: :"+b.context+", @content_model: :"+b.content_model+", @style: "+((a=b.style)!==!1&&a!==c?a:"nil")+", "+d+"]"},c}(h,i.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(a){{var b=d(a,"Asciidoctor");b._proto,b._scope}!function(a,b){function d(){}{var g=(d=e(a,b,"Callouts",d),d._proto);d._scope}return g.co_index=g.lists=g.list_index=c,g.$initialize=function(){var a=this;return a.lists=[],a.list_index=0,a.$next_list()},g.$register=function(a){var b=this,d=c;return b.$current_list()["$<<"](f(["ordinal","id"],{ordinal:a.$to_i(),id:d=b.$generate_next_callout_id()})),b.co_index=b.co_index["$+"](1),d
},g.$read_next_id=function(){var a=this,b=c,d=c;return b=c,d=a.$current_list(),a.co_index["$<="](d.$size())&&(b=d["$[]"](a.co_index["$-"](1))["$[]"]("id")),a.co_index=a.co_index["$+"](1),b},g.$callout_ids=function(a){var b,d,e,f=this;return(b=(d=f.$current_list()).$opalInject,b._p=(e=function(b,d){e._s||this;return null==b&&(b=c),null==d&&(d=c),d["$[]"]("ordinal")["$=="](a)&&b["$<<"](d["$[]"]("id")),b},e._s=f,e),b).call(d,[])["$*"](" ")},g.$current_list=function(){var a=this;return a.lists["$[]"](a.list_index["$-"](1))},g.$next_list=function(){var a=this;return a.list_index=a.list_index["$+"](1),a.lists.$size()["$<"](a.list_index)&&a.lists["$<<"]([]),a.co_index=1,c},g.$rewind=function(){var a=this;return a.list_index=1,a.co_index=1,c},g.$generate_next_callout_id=function(){var a=this;return a.$generate_callout_id(a.list_index,a.co_index)},g.$generate_callout_id=function(a,b){return"CO"+a+"-"+b},c}(b,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.hash2,h=a.range,i=a.gvars;return function(b){var j=e(b,"Asciidoctor"),k=(j._proto,j._scope);!function(b,e){function j(){}var k,l,m,n,o=j=f(b,e,"Document",j),p=j._proto,q=j._scope;return p.parent_document=p.safe=p.options=p.attributes=p.attribute_overrides=p.base_dir=p.extensions=p.reader=p.callouts=p.counters=p.references=p.header=p.blocks=p.attributes_modified=p.id=p.original_attributes=p.renderer=c,a.cdecl(q,"Footnote",q.Struct.$new("index","id","text")),function(a,b){function d(){}{var e=d=f(a,b,"AttributeEntry",d),g=d._proto;d._scope}return e.$attr_reader("name","value","negate"),g.$initialize=function(a,b,d){var e,f=this;return null==d&&(d=c),f.name=a,f.value=b,f.negate=function(){return(e=d["$nil?"]())!==!1&&e!==c?b["$nil?"]():d}()},g.$save_to=function(a){var b,d,e,f=this;return(b="attribute_entries",d=a,(e=d["$[]"](b))!==!1&&e!==c?e:d["$[]="](b,[]))["$<<"](f)},c}(o,null),o.$attr_reader("safe"),o.$attr_reader("references"),o.$attr_reader("counters"),o.$attr_reader("callouts"),o.$attr_reader("header"),o.$attr_reader("base_dir"),o.$attr_reader("parent_document"),o.$attr_reader("extensions"),p.$initialize=k=function(b,d){var e,f,i,j,l,m,n,o,p,r,s,t,u,v,w,x=this,y=(k._p,c),z=c,A=c,B=c;if(null==b&&(b=[]),null==d&&(d=g([],{})),k._p=null,a.find_super_dispatcher(x,"initialize",k,null).apply(x,[x,"document"]),(e=d["$[]"]("parent"))!==!1&&e!==c?(x.parent_document=d.$delete("parent"),e="base_dir",f=d,(i=f["$[]"](e))!==!1&&i!==c?i:f["$[]="](e,x.parent_document.$base_dir()),x.references=(e=(f=x.parent_document.$references()).$opalInject,e._p=(j=function(a,b){j._s||this;return null==a&&(a=c),key=b[0],ref=b[1],key["$=="]("footnotes")?a["$[]="]("footnotes",[]):a["$[]="](key,ref),a},j._s=x,j),e).call(f,g([],{})),x.attribute_overrides=x.parent_document.$attributes().$dup(),x.safe=x.parent_document.$safe(),x.renderer=x.parent_document.$renderer(),y=!1,x.extensions=x.parent_document.$extensions()):(x.parent_document=c,x.references=g(["ids","footnotes","links","images","indexterms","includes"],{ids:g([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:q.Set.$new()}),x.attribute_overrides=(e=(i=(m=d["$[]"]("attributes"))!==!1&&m!==c?m:g([],{})).$opalInject,e._p=(l=function(a,b){var d,e=(l._s||this,c),f=c;return null==a&&(a=c),e=b[0],f=b[1],(d=e["$start_with?"]("!"))!==!1&&d!==c?(e=e["$[]"](h(1,-1,!1)),f=c):(d=e["$end_with?"]("!"))!==!1&&d!==c&&(e=e["$[]"](h(0,-2,!1)),f=c),a["$[]="](e.$downcase(),f),a},l._s=x,l),e).call(i,g([],{})),x.safe=c,x.renderer=c,e=q.Asciidoctor["$const_defined?"]("Extensions"),y=e!==!1&&e!==c?q.Asciidoctor.$const_get("Extensions")["$=="]((null==(m=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):m)._scope.Extensions):e,x.extensions=c),x.header=c,x.counters=g([],{}),x.callouts=q.Callouts.$new(),x.attributes_modified=q.Set.$new(),x.options=d,(e=x.parent_document)===!1||e===c)if(m=x.safe["$nil?"](),(e=m!==!1&&m!==c?(n=z=x.options["$[]"]("safe"),n===c||n===!1):m)!==!1&&e!==c)x.safe=q.SafeMode._scope.SECURE;else if((e=z["$is_a?"](q.Fixnum))!==!1&&e!==c)x.safe=z;else try{x.safe=q.SafeMode.$const_get(z.$to_s().$upcase()).$to_i()}catch(C){x.safe=q.SafeMode._scope.SECURE.$to_i()}return x.options["$[]="]("header_footer",x.options.$fetch("header_footer",!1)),x.attributes["$[]="]("encoding","UTF-8"),x.attributes["$[]="]("sectids",""),((e=x.options["$[]"]("header_footer"))===!1||e===c)&&x.attributes["$[]="]("notitle",""),x.attributes["$[]="]("toc-placement","auto"),x.attributes["$[]="]("stylesheet",""),(e=x.options["$[]"]("header_footer"))!==!1&&e!==c&&x.attributes["$[]="]("copycss",""),x.attributes["$[]="]("prewrap",""),x.attributes["$[]="]("attribute-undefined",q.Compliance.$attribute_undefined()),x.attributes["$[]="]("attribute-missing",q.Compliance.$attribute_missing()),x.attributes["$[]="]("caution-caption","Caution"),x.attributes["$[]="]("important-caption","Important"),x.attributes["$[]="]("note-caption","Note"),x.attributes["$[]="]("tip-caption","Tip"),x.attributes["$[]="]("warning-caption","Warning"),x.attributes["$[]="]("appendix-caption","Appendix"),x.attributes["$[]="]("example-caption","Example"),x.attributes["$[]="]("figure-caption","Figure"),x.attributes["$[]="]("table-caption","Table"),x.attributes["$[]="]("toc-title","Table of Contents"),x.attributes["$[]="]("manname-title","NAME"),x.attributes["$[]="]("untitled-label","Untitled"),x.attributes["$[]="]("version-label","Version"),x.attributes["$[]="]("last-update-label","Last updated"),x.attribute_overrides["$[]="]("asciidoctor",""),x.attribute_overrides["$[]="]("asciidoctor-version",q.VERSION),A=(e=(m=q.SafeMode.$constants()).$detect,e._p=(o=function(a){var b=o._s||this;return null==b.safe&&(b.safe=c),null==a&&(a=c),q.SafeMode.$const_get(a)["$=="](b.safe)},o._s=x,o),e).call(m).$to_s().$downcase(),x.attribute_overrides["$[]="]("safe-mode-name",A),x.attribute_overrides["$[]="]("safe-mode-"+A,""),x.attribute_overrides["$[]="]("safe-mode-level",x.safe),x.attribute_overrides["$[]="]("embedded",function(){return(e=x.options["$[]"]("header_footer"))!==!1&&e!==c?c:""}()),e="max-include-depth",n=x.attribute_overrides,(p=n["$[]"](e))!==!1&&p!==c?p:n["$[]="](e,64),n=x.attribute_overrides["$[]"]("allow-uri-read")["$nil?"](),((e=n===c||n===!1)==!1||e===c)&&x.attribute_overrides["$[]="]("allow-uri-read",c),x.attribute_overrides["$[]="]("user-home",q.USER_HOME),x.base_dir=(e=x.options["$[]"]("base_dir")["$nil?"]())!==!1&&e!==c?(e=x.attribute_overrides["$[]"]("docdir"))!==!1&&e!==c?x.attribute_overrides["$[]="]("docdir",q.File.$expand_path(x.attribute_overrides["$[]"]("docdir"))):x.attribute_overrides["$[]="]("docdir",q.File.$expand_path(q.Dir.$pwd())):x.attribute_overrides["$[]="]("docdir",q.File.$expand_path(x.options["$[]"]("base_dir"))),((e=x.options["$[]"]("backend")["$nil?"]())===!1||e===c)&&x.attribute_overrides["$[]="]("backend",x.options["$[]"]("backend").$to_s()),((e=x.options["$[]"]("doctype")["$nil?"]())===!1||e===c)&&x.attribute_overrides["$[]="]("doctype",x.options["$[]"]("doctype").$to_s()),x.safe["$>="](q.SafeMode._scope.SERVER)&&(e="copycss",n=x.attribute_overrides,(p=n["$[]"](e))!==!1&&p!==c?p:n["$[]="](e,c),e="source-highlighter",n=x.attribute_overrides,(p=n["$[]"](e))!==!1&&p!==c?p:n["$[]="](e,c),e="backend",n=x.attribute_overrides,(p=n["$[]"](e))!==!1&&p!==c?p:n["$[]="](e,q.DEFAULT_BACKEND),p=x.parent_document,n=p===c||p===!1,(e=n!==!1&&n!==c?x.attribute_overrides["$has_key?"]("docfile"):n)!==!1&&e!==c&&x.attribute_overrides["$[]="]("docfile",x.attribute_overrides["$[]"]("docfile")["$[]"](h(x.attribute_overrides["$[]"]("docdir").$length()["$+"](1),-1,!1))),x.attribute_overrides["$[]="]("docdir",""),x.attribute_overrides["$[]="]("user-home","."),x.safe["$>="](q.SafeMode._scope.SECURE)&&(((e=x.attribute_overrides.$fetch("linkcss","")["$nil?"]())===!1||e===c)&&x.attribute_overrides["$[]="]("linkcss",""),e="icons",n=x.attribute_overrides,(p=n["$[]"](e))!==!1&&p!==c?p:n["$[]="](e,c))),(e=(n=x.attribute_overrides).$delete_if,e._p=(r=function(a,b){var d,e,f=r._s||this,g=c;return null==f.attributes&&(f.attributes=c),null==a&&(a=c),null==b&&(b=c),g=!1,(d=b["$nil?"]())!==!1&&d!==c?f.attributes.$delete(a):(e=b["$is_a?"](q.String),(d=e!==!1&&e!==c?b["$end_with?"]("@"):e)!==!1&&d!==c&&(b=b.$chop(),g=!0),f.attributes["$[]="](a,b)),g},r._s=x,r),e).call(n),p=x.parent_document,(e=p===c||p===!1)!=!1&&e!==c?(e="backend",p=x.attributes,(s=p["$[]"](e))!==!1&&s!==c?s:p["$[]="](e,q.DEFAULT_BACKEND),e="doctype",p=x.attributes,(s=p["$[]"](e))!==!1&&s!==c?s:p["$[]="](e,q.DEFAULT_DOCTYPE),x.$update_backend_attributes(),B=q.Time.$new(),e="localdate",p=x.attributes,(s=p["$[]"](e))!==!1&&s!==c?s:p["$[]="](e,B.$strftime("%Y-%m-%d")),e="localtime",p=x.attributes,(s=p["$[]"](e))!==!1&&s!==c?s:p["$[]="](e,B.$strftime("%H:%M:%S %Z")),e="localdatetime",p=x.attributes,(s=p["$[]"](e))!==!1&&s!==c?s:p["$[]="](e,""+x.attributes["$[]"]("localdate")+" "+x.attributes["$[]"]("localtime")),e="docdate",p=x.attributes,(s=p["$[]"](e))!==!1&&s!==c?s:p["$[]="](e,x.attributes["$[]"]("localdate")),e="doctime",p=x.attributes,(s=p["$[]"](e))!==!1&&s!==c?s:p["$[]="](e,x.attributes["$[]"]("localtime")),e="docdatetime",p=x.attributes,(s=p["$[]"](e))!==!1&&s!==c?s:p["$[]="](e,x.attributes["$[]"]("localdatetime")),e="stylesdir",p=x.attributes,(s=p["$[]"](e))!==!1&&s!==c?s:p["$[]="](e,"."),e="iconsdir",p=x.attributes,(s=p["$[]"](e))!==!1&&s!==c?s:p["$[]="](e,q.File.$join(x.attributes.$fetch("imagesdir","./images"),"icons")),x.extensions=function(){return y!==!1&&y!==c?q.Extensions._scope.Registry.$new(x):c}(),x.reader=q.PreprocessorReader.$new(x,b,q.Asciidoctor._scope.Reader._scope.Cursor.$new(x.attributes["$[]"]("docfile"),x.base_dir)),p=x.extensions,(e=p!==!1&&p!==c?x.extensions["$preprocessors?"]():p)!==!1&&e!==c&&(e=(p=x.extensions.$load_preprocessors(x)).$each,e._p=(t=function(a){var b,d=t._s||this;return null==d.reader&&(d.reader=c),null==a&&(a=c),d.reader=(b=a.$process(d.reader,d.reader.$lines()))!==!1&&b!==c?b:d.reader},t._s=x,t),e).call(p)):x.reader=q.Reader.$new(b,d["$[]"]("cursor")),q.Lexer.$parse(x.reader,x,g(["header_only"],{header_only:x.options.$fetch("parse_header_only",!1)})),x.callouts.$rewind(),v=x.parent_document,u=v===c||v===!1,s=u!==!1&&u!==c?x.extensions:u,(e=s!==!1&&s!==c?x.extensions["$treeprocessors?"]():s)!==!1&&e!==c?(e=(s=x.extensions.$load_treeprocessors(x)).$each,e._p=(w=function(a){w._s||this;return null==a&&(a=c),a.$process()},w._s=x,w),e).call(s):c},p.$counter=function(a,b){var d,e,f=this;return null==b&&(b=c),e=f.counters["$has_key?"](a),(d=e===c||e===!1)!=!1&&d!==c?((d=b["$nil?"]())!==!1&&d!==c?b=f.$nextval(function(){return(d=f.attributes["$has_key?"](a))!==!1&&d!==c?f.attributes["$[]"](a):0}()):b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()),f.counters["$[]="](a,b)):f.counters["$[]="](a,f.$nextval(f.counters["$[]"](a))),f.attributes["$[]="](a,f.counters["$[]"](a))},p.$counter_increment=function(a,b){var d=this,e=c;return e=d.$counter(a),q.AttributeEntry.$new(a,e).$save_to(b.$attributes()),e},p.$nextval=function(a){var b,d,e=c;return(b=a["$is_a?"](q.Integer))!==!1&&b!==c?a["$+"](1):(e=a.$to_i(),d=e.$to_s()["$=="](a.$to_s()),(b=d===c||d===!1)!=!1&&b!==c?a["$[]"](0).$ord()["$+"](1).$chr():e["$+"](1))},p.$register=function(a,b){var d,e=this,f=c;return function(){return f=a,"ids"["$==="](f)?(d=b["$is_a?"](q.Array))!==!1&&d!==c?e.references["$[]"]("ids")["$[]="](b["$[]"](0),(d=b["$[]"](1))!==!1&&d!==c?d:"["["$+"](b["$[]"](0))["$+"]("]")):e.references["$[]"]("ids")["$[]="](b,"["["$+"](b)["$+"]("]")):"footnotes"["$==="](f)||"indexterms"["$==="](f)?e.references["$[]"](a)["$<<"](b):(d=e.options["$[]"]("catalog_assets"))!==!1&&d!==c?e.references["$[]"](a)["$<<"](b):c}()},p["$footnotes?"]=function(){var a,b=this;return a=b.references["$[]"]("footnotes")["$empty?"](),a===c||a===!1},p.$footnotes=function(){var a=this;return a.references["$[]"]("footnotes")},p["$nested?"]=function(){var a,b=this;return(a=b.parent_document)!==!1&&a!==c?!0:!1},p["$embedded?"]=function(){var a=this;return a.attributes["$has_key?"]("embedded")},p["$extensions?"]=function(){var a,b=this;return(a=b.extensions)!==!1&&a!==c?!0:!1},p.$source=function(){var a,b=this;return(a=b.reader)!==!1&&a!==c?b.reader.$source():c},p.$source_lines=function(){var a,b=this;return(a=b.reader)!==!1&&a!==c?b.reader.$source_lines():c},p.$doctype=function(){var a=this;return a.attributes["$[]"]("doctype")},p.$backend=function(){var a=this;return a.attributes["$[]"]("backend")},p["$basebackend?"]=function(a){var b=this;return b.attributes["$[]"]("basebackend")["$=="](a)},p.$title=function(){var a=this;return a.attributes["$[]"]("title")},p["$title="]=function(a){var b,d=this;return(b=d.header)!==!1&&b!==c?b:d.header=q.Section.$new(d,0),d.header["$title="](a)},p.$doctitle=function(a){var b,d,e,f=this,h=c,i=c;if(null==a&&(a=g([],{})),d=(h=f.attributes.$fetch("title",""))["$empty?"](),(b=d===c||d===!1)!=!1&&b!==c)h=f.$title();else{if(e=(i=f.$first_section())["$nil?"](),d=e===c||e===!1,(b=d!==!1&&d!==c?i["$title?"]():d)===!1||b===c)return c;h=i.$title()}return d=a["$[]"]("sanitize"),(b=d!==!1&&d!==c?h["$include?"]("<"):d)!==!1&&b!==c?h.$gsub(/<[^>]+>/,"").$tr_s(" "," ").$strip():h},a.defn(o,"$name",p.$doctitle),p.$author=function(){var a=this;return a.attributes["$[]"]("author")},p.$revdate=function(){var a=this;return a.attributes["$[]"]("revdate")},p.$notitle=function(){var a,b,d=this;return b=d.attributes["$has_key?"]("showtitle"),a=b===c||b===!1,a!==!1&&a!==c?d.attributes["$has_key?"]("notitle"):a},p.$noheader=function(){var a=this;return a.attributes["$has_key?"]("noheader")},p.$nofooter=function(){var a=this;return a.attributes["$has_key?"]("nofooter")},p.$first_section=function(){var a,b,d,e,f=this;return(a=f["$has_header?"]())!==!1&&a!==c?f.header:(a=(b=(e=f.blocks)!==!1&&e!==c?e:[]).$detect,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$context()["$=="]("section")},d._s=f,d),a).call(b)},p["$has_header?"]=function(){var a,b=this;return(a=b.header)!==!1&&a!==c?!0:!1},p["$<<"]=l=function(b){var e=d.call(arguments,0),f=this,g=l._p;return l._p=null,a.find_super_dispatcher(f,"<<",l,g).apply(f,e),b.$context()["$=="]("section")?f.$assign_index(b):c},p.$finalize_header=function(a,b){var d,e=this;return null==b&&(b=!0),e.$clear_playback_attributes(a),e.$save_attributes(),((d=b)===!1||d===c)&&a["$[]="]("invalid-header",!0),a},p.$save_attributes=function(){var a,b,d,e,f,g,h,i=this,j=c,k=c,l=c,m=c,n=c,o=c,p=c,r=c;return i.attributes["$[]"]("basebackend")["$=="]("docbook")&&(((a=(b=i["$attribute_locked?"]("toc"))!==!1&&b!==c?b:i.attributes_modified["$include?"]("toc"))===!1||a===c)&&i.attributes["$[]="]("toc",""),((a=(b=i["$attribute_locked?"]("numbered"))!==!1&&b!==c?b:i.attributes_modified["$include?"]("numbered"))===!1||a===c)&&i.attributes["$[]="]("numbered","")),((a=(b=i.attributes["$has_key?"]("doctitle"))!==!1&&b!==c?b:(j=i.$doctitle())["$nil?"]())===!1||a===c)&&i.attributes["$[]="]("doctitle",j),d=i.id,b=d===c||d===!1,(a=b!==!1&&b!==c?i.attributes["$has_key?"]("css-signature"):b)!==!1&&a!==c&&(i.id=i.attributes["$[]"]("css-signature")),k=i.attributes["$[]"]("toc"),l=i.attributes["$[]"]("toc2"),m=i.attributes["$[]"]("toc-position"),e=k["$nil?"](),d=e===c||e===!1,(a=(b=d!==!1&&d!==c?(f=k["$=="](""),(e=f===c||f===!1)!=!1&&e!==c?e:(f=m.$to_s()["$=="](""),f===c||f===!1)):d)!==!1&&b!==c?b:(d=l["$nil?"](),d===c||d===!1))!==!1&&a!==c&&(n="left",o="toc2",p=(a=(b=[m,l,k]).$find,a._p=(g=function(a){{var b;g._s||this}return null==a&&(a=c),b=a.$to_s()["$=="](""),b===c||b===!1},g._s=i,g),a).call(b),e=p,d=e===c||e===!1,(a=d!==!1&&d!==c?(e=l["$nil?"](),e===c||e===!1):d)!==!1&&a!==c&&(p=n),i.attributes["$[]="]("toc",""),r=p,"left"["$==="](r)||"<"["$==="](r)||"&lt;"["$==="](r)?i.attributes["$[]="]("toc-position","left"):"right"["$==="](r)||">"["$==="](r)||"&gt;"["$==="](r)?i.attributes["$[]="]("toc-position","right"):"top"["$==="](r)||"^"["$==="](r)?i.attributes["$[]="]("toc-position","top"):"bottom"["$==="](r)||"v"["$==="](r)?i.attributes["$[]="]("toc-position","bottom"):"center"["$==="](r)&&(i.attributes.$delete("toc2"),o=c,n="center"),o!==!1&&o!==c&&(a="toc-class",d=i.attributes,(e=d["$[]"](a))!==!1&&e!==c?e:d["$[]="](a,o)),n!==!1&&n!==c&&(a="toc-position",d=i.attributes,(e=d["$[]"](a))!==!1&&e!==c?e:d["$[]="](a,n))),i.original_attributes=i.attributes.$dup(),(a=i["$nested?"]())!==!1&&a!==c?c:(a=(d=q.FLEXIBLE_ATTRIBUTES).$each,a._p=(h=function(a){var b,d,e,f=h._s||this;return null==f.attribute_overrides&&(f.attribute_overrides=c),null==a&&(a=c),d=f.attribute_overrides["$has_key?"](a),(b=d!==!1&&d!==c?(e=f.attribute_overrides["$[]"](a)["$nil?"](),e===c||e===!1):d)!==!1&&b!==c?f.attribute_overrides.$delete(a):c},h._s=i,h),a).call(d)},p.$restore_attributes=function(){var a=this;return a.attributes=a.original_attributes},p.$clear_playback_attributes=function(a){return a.$delete("attribute_entries")},p.$playback_attributes=function(a){var b,d,e,f=this;return(b=a["$has_key?"]("attribute_entries"))!==!1&&b!==c?(b=(d=a["$[]"]("attribute_entries")).$each,b._p=(e=function(a){var b,d=e._s||this;return null==d.attributes&&(d.attributes=c),null==a&&(a=c),(b=a.$negate())!==!1&&b!==c?d.attributes.$delete(a.$name()):d.attributes["$[]="](a.$name(),a.$value())},e._s=f,e),b).call(d):c},p.$set_attribute=function(a,b){var d,e=this;return(d=e["$attribute_locked?"](a))!==!1&&d!==c?!1:(e.attributes["$[]="](a,e.$apply_attribute_value_subs(b)),e.attributes_modified["$<<"](a),a["$=="]("backend")&&e.$update_backend_attributes(),!0)},p.$delete_attribute=function(a){var b,d=this;return(b=d["$attribute_locked?"](a))!==!1&&b!==c?!1:(d.attributes.$delete(a),d.attributes_modified["$<<"](a),!0)},p["$attribute_locked?"]=function(a){var b=this;return b.attribute_overrides["$has_key?"](a)},p.$apply_attribute_value_subs=function(a){var b,d,e=this,f=c,g=c;return(b=a.$match(q.REGEXP["$[]"]("pass_macro_basic")))!==!1&&b!==c?(f=i["~"],d=f["$[]"](1)["$empty?"](),(b=d===c||d===!1)!=!1&&b!==c?(g=e.$resolve_pass_subs(f["$[]"](1)),(b=g["$empty?"]())!==!1&&b!==c?f["$[]"](2):e.$apply_subs(f["$[]"](2),g)):f["$[]"](2)):e.$apply_header_subs(a)},p.$update_backend_attributes=function(){var a,b=this,d=c,e=c,f=c,g=c,i=c;return d=b.attributes["$[]"]("backend"),(a=d["$start_with?"]("xhtml"))!==!1&&a!==c?(b.attributes["$[]="]("htmlsyntax","xml"),d=b.attributes["$[]="]("backend",d["$[]"](h(1,-1,!1)))):(a=d["$start_with?"]("html"))!==!1&&a!==c&&b.attributes["$[]="]("htmlsyntax","html"),(a=q.BACKEND_ALIASES["$has_key?"](d))!==!1&&a!==c&&(d=b.attributes["$[]="]("backend",q.BACKEND_ALIASES["$[]"](d))),e=d.$sub(q.REGEXP["$[]"]("trailing_digit"),""),f=q.DEFAULT_PAGE_WIDTHS["$[]"](e),f!==!1&&f!==c?b.attributes["$[]="]("pagewidth",f):b.attributes.$delete("pagewidth"),b.attributes["$[]="]("backend-"+d,""),b.attributes["$[]="]("basebackend",e),b.attributes["$[]="]("basebackend-"+e,""),b.attributes["$[]="](""+d+"-"+b.attributes["$[]"]("doctype"),""),b.attributes["$[]="](""+e+"-"+b.attributes["$[]"]("doctype"),""),g=(a=q.DEFAULT_EXTENSIONS["$[]"](e))!==!1&&a!==c?a:".html",b.attributes["$[]="]("outfilesuffix",g),i=g["$[]"](h(1,-1,!1)),b.attributes["$[]="]("filetype",i),b.attributes["$[]="]("filetype-"+i,"")},p.$renderer=function(a){var b,d=this,e=c;return null==a&&(a=g([],{})),(b=d.renderer)!==!1&&b!==c?d.renderer:(e=g([],{}),(b=d.options["$has_key?"]("template_dir"))!==!1&&b!==c?e["$[]="]("template_dirs",[d.options["$[]"]("template_dir")]):(b=d.options["$has_key?"]("template_dirs"))!==!1&&b!==c&&e["$[]="]("template_dirs",d.options["$[]"]("template_dirs")),e["$[]="]("template_cache",d.options.$fetch("template_cache",!0)),e["$[]="]("backend",d.attributes.$fetch("backend","html5")),e["$[]="]("htmlsyntax",d.attributes["$[]"]("htmlsyntax")),e["$[]="]("template_engine",d.options["$[]"]("template_engine")),e["$[]="]("eruby",d.options.$fetch("eruby","erb")),e["$[]="]("compact",d.options.$fetch("compact",!1)),e["$merge!"](a),d.renderer=q.Renderer.$new(e))},p.$render=function(a){var b,d,e,f,h=this,i=c,j=c,k=c;return null==a&&(a=g([],{})),h.$restore_attributes(),i=h.$renderer(a),h.$doctype()["$=="]("inline")?(e=(j=h.blocks.$first())["$nil?"](),d=e===c||e===!1,k=(b=d!==!1&&d!==c?(e=j.$content_model()["$=="]("compound"),e===c||e===!1):d)!==!1&&b!==c?j.$content():""):k=function(){return(b=h.options.$merge(a)["$[]"]("header_footer"))!==!1&&b!==c?i.$render("document",h).$strip():i.$render("embedded",h)}(),e=h.parent_document,d=e===c||e===!1,(b=d!==!1&&d!==c?h.extensions:d)!==!1&&b!==c&&((b=h.extensions["$postprocessors?"]())!==!1&&b!==c&&(b=(d=h.extensions.$load_postprocessors(h)).$each,b._p=(f=function(a){f._s||this;return null==a&&(a=c),k=a.$process(k)},f._s=h,f),b).call(d),h.extensions.$reset()),k},p.$content=m=function(){var b=d.call(arguments,0),c=this,e=m._p;return m._p=null,c.attributes.$delete("title"),a.find_super_dispatcher(c,"content",m,e).apply(c,b)},p.$docinfo=function(b,d){var e,f,g,h=this,i=c,j=c,k=c,l=c,m=c,n=c,o=c,p=c,r=c;return null==b&&(b="header"),null==d&&(d=c),h.$safe()["$>="](q.SafeMode._scope.SECURE)?"":(i=b,j="footer"["$==="](i)?"-footer":c,(e=d["$nil?"]())!==!1&&e!==c&&(d=h.attributes["$[]"]("outfilesuffix")),k=c,l=h.attributes["$has_key?"]("docinfo"),m=h.attributes["$has_key?"]("docinfo1"),n=h.attributes["$has_key?"]("docinfo2"),o="docinfo"+j+d,(e=(f=m)!==!1&&f!==c?f:n)!==!1&&e!==c&&(p=h.$normalize_system_path(o),k=h.$read_asset(p),((e=k["$nil?"]())===!1||e===c)&&((e=q.FORCE_ENCODING)!==!1&&e!==c&&k.$force_encoding((null==(e=a.Object._scope.Encoding)?a.cm("Encoding"):e)._scope.UTF_8),k=h.$sub_attributes(k.$split(q.LINE_SPLIT))["$*"](q.EOL))),f=(g=l)!==!1&&g!==c?g:n,(e=f!==!1&&f!==c?h.attributes["$has_key?"]("docname"):f)!==!1&&e!==c&&(p=h.$normalize_system_path(""+h.attributes["$[]"]("docname")+"-"+o),r=h.$read_asset(p),((e=r["$nil?"]())===!1||e===c)&&((e=q.FORCE_ENCODING)!==!1&&e!==c&&r.$force_encoding((null==(e=a.Object._scope.Encoding)?a.cm("Encoding"):e)._scope.UTF_8),r=h.$sub_attributes(r.$split(q.LINE_SPLIT))["$*"](q.EOL),k=function(){return(e=k["$nil?"]())!==!1&&e!==c?r:""+k+q.EOL+r}())),k.$to_s())},p.$to_s=n=function(){var b=d.call(arguments,0),c=this,e=n._p;return n._p=null,""+a.find_super_dispatcher(c,"to_s",n,e).apply(c,b).$to_s()+" - "+c.$doctitle()},c}(j,k.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){var g=d(b,"Asciidoctor"),h=(g._proto,g._scope);!function(b,d){function g(){}var h,i=g=e(b,d,"Inline",g),j=g._proto,k=g._scope;return j.template_name=c,i.$attr_accessor("template_name"),i.$attr_reader("text"),i.$attr_reader("type"),i.$attr_accessor("target"),j.$initialize=h=function(b,d,e,g){var i,j,l=this,m=(h._p,c);return null==e&&(e=c),null==g&&(g=f([],{})),h._p=null,a.find_super_dispatcher(l,"initialize",h,null).apply(l,[b,d]),l.template_name="inline_"+d,l.text=e,l.id=g["$[]"]("id"),l.type=g["$[]"]("type"),l.target=g["$[]"]("target"),j=g["$has_key?"]("attributes"),(i=j!==!1&&j!==c?(m=g["$[]"]("attributes"))["$is_a?"](k.Hash):j)!==!1&&i!==c?(i=m["$empty?"]())!==!1&&i!==c?c:l.$update_attributes(g["$[]"]("attributes")):c},j.$render=function(){var a=this;return a.$renderer().$render(a.template_name,a).$chomp()},c}(g,h.AbstractNode)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=(a.slice,a.module),f=a.klass,g=a.hash2,h=a.range,i=a.gvars;return function(b){{var j=e(b,"Asciidoctor");j._proto,j._scope}!function(b,e){function j(){}var k=j=f(b,e,"Lexer",j),l=j._proto,m=j._scope;return a.cdecl(m,"BlockMatchData",m.Struct.$new("context","masq","tip","terminator")),l.$initialize=function(){var a=this;return a.$raise("Au contraire, mon frere. No lexer instances will be running around.")},a.defs(k,"$parse",function(b,d,e){var f,h,i=this,j=c,k=c;if(null==e&&(e=g([],{})),j=i.$parse_document_header(b,d),(f=e["$[]"]("header_only"))===!1||f===c)for(;(h=b["$has_more_lines?"]())!==!1&&h!==c;)h=a.to_ary(i.$next_section(b,d,j)),k=null==h[0]?c:h[0],j=null==h[1]?c:h[1],((h=k["$nil?"]())===!1||h===c)&&d["$<<"](k);return d}),a.defs(k,"$parse_document_header",function(b,d){var e,f,g,h=this,i=c,j=c,k=c,l=c,m=c,n=c;return i=h.$parse_block_metadata_lines(b,d),(e=i["$has_key?"]("title"))!==!1&&e!==c?d.$finalize_header(i,!1):(j=c,((e=(k=d.$attributes().$fetch("doctitle",""))["$empty?"]())===!1||e===c)&&(d["$title="](k),j=k),l=c,(e=h["$is_next_line_document_title?"](b,i))!==!1&&e!==c&&(e=a.to_ary(h.$parse_section_title(b,d)),d["$id="](null==e[0]?c:e[0]),m=null==e[1]?c:e[1],n=null==e[2]?c:e[2],m=null==e[3]?c:e[3],m=null==e[4]?c:e[4],((e=j)===!1||e===c)&&(d["$title="](n),j=n),d.$attributes()["$[]="]("doctitle",l=n),f=d.$id()["$nil?"](),(e=f!==!1&&f!==c?i["$has_key?"]("id"):f)!==!1&&e!==c&&d["$id="](i.$delete("id")),h.$parse_header_metadata(b,d)),g=(k=d.$attributes().$fetch("doctitle",""))["$empty?"](),f=g===c||g===!1,(e=f!==!1&&f!==c?(g=k["$=="](l),g===c||g===!1):f)!==!1&&e!==c&&(d["$title="](k),j=k),j!==!1&&j!==c&&d.$attributes()["$[]="]("doctitle",j),d.$doctype()["$=="]("manpage")&&h.$parse_manpage_header(b,d),d.$finalize_header(i))}),a.defs(k,"$parse_manpage_header",function(a,b){var d,e=this,f=c,h=c,i=c;return(d=f=b.$attributes()["$[]"]("doctitle").$match(m.REGEXP["$[]"]("mantitle_manvolnum")))!==!1&&d!==c?(b.$attributes()["$[]="]("mantitle",b.$sub_attributes(f["$[]"](1).$rstrip().$downcase())),b.$attributes()["$[]="]("manvolnum",f["$[]"](2).$strip())):e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),a.$skip_blank_lines(),(d=e["$is_next_line_section?"](a,g([],{})))!==!1&&d!==c?(h=e.$initialize_section(a,b,g([],{})),h.$level()["$=="](1)?(i=a.$read_lines_until(g(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," "),(d=f=i.$match(m.REGEXP["$[]"]("manname_manpurpose")))!==!1&&d!==c?(b.$attributes()["$[]="]("manname",f["$[]"](1)),b.$attributes()["$[]="]("manpurpose",f["$[]"](2)),b.$backend()["$=="]("manpage")?(b.$attributes()["$[]="]("docname",b.$attributes()["$[]"]("manname")),b.$attributes()["$[]="]("outfilesuffix","."+b.$attributes()["$[]"]("manvolnum"))):c):e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body")):e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")):e.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected")}),a.defs(k,"$next_section",function(b,d,e){var f,h,i,j,k,l,n=this,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c,B=c;for(null==e&&(e=g([],{})),o=!1,p=!1,q=!1,h=(i=d.$context()["$=="]("document"))?d.$blocks()["$empty?"]():i,(f=h!==!1&&h!==c?(i=(j=d["$has_header?"]())!==!1&&j!==c?j:e.$delete("invalid-header"))!==!1&&i!==c?i:(j=n["$is_next_line_section?"](b,e),j===c||j===!1):h)!==!1&&f!==c?(r=d.$doctype(),(f=d["$has_header?"]())!==!1&&f!==c&&(o=q=m.Block.$new(d,"preamble",g(["content_model"],{content_model:"compound"})),d["$<<"](o)),s=d,t=0,u=(f=d.$attributes()["$has_key?"]("fragment"))!==!1&&f!==c?c:r["$=="]("book")?[0,1]:[1]):(r=d.$document().$doctype(),s=n.$initialize_section(b,d,e),e=(f=(h=e).$delete_if,f._p=(k=function(a,b){{var d;k._s||this}return null==a&&(a=c),null==b&&(b=c),d=a["$=="]("title"),d===c||d===!1},k._s=n,k),f).call(h),t=s.$level(),(f=(i=t["$=="](0))?r["$=="]("book"):i)!==!1&&f!==c?(f=s.$special(),p=f===c||f===!1,i=s.$special(),u=(f=i!==!1&&i!==c?["preface","appendix"]["$include?"](s.$sectname()):i)!==!1&&f!==c?[t["$+"](2)]:[t["$+"](1)]):u=[t["$+"](1)]),b.$skip_blank_lines();(i=b["$has_more_lines?"]())!==!1&&i!==c;){if(n.$parse_block_metadata_lines(b,s,e),v=n["$is_next_line_section?"](b,e),v!==!1&&v!==c){if(v=v["$+"](s.$document().$attr("leveloffset",0).$to_i()),(i=(j=v["$>"](t))!==!1&&j!==c?j:(l=s.$context()["$=="]("document"))?v["$=="](0):l)===!1||i===c){(i=(j=v["$=="](0))?(l=r["$=="]("book"),l===c||l===!1):j)!==!1&&i!==c&&n.$warn("asciidoctor: ERROR: "+b.$line_info()+": only book doctypes can contain level 0 sections");break}(i=(j=v["$=="](0))?(l=r["$=="]("book"),l===c||l===!1):j)!==!1&&i!==c?n.$warn("asciidoctor: ERROR: "+b.$line_info()+": only book doctypes can contain level 0 sections"):(l=u["$nil?"](),j=l===c||l===!1,(i=j!==!1&&j!==c?(l=u["$include?"](v),l===c||l===!1):j)!==!1&&i!==c&&n.$warn(("asciidoctor: WARNING: "+b.$line_info()+": section title out of sequence: ")["$+"]("expected "+function(){return u.$size()["$>"](1)?"levels":"level"}()+" "+u["$*"](" or ")+", ")["$+"]("got level "+v))),i=a.to_ary(n.$next_section(b,s,e)),w=null==i[0]?c:i[0],e=null==i[1]?c:i[1],s["$<<"](w)}else x=b.$line_info(),y=n.$next_block(b,(i=q)!==!1&&i!==c?i:s,e,g(["parse_metadata"],{parse_metadata:!1})),j=y["$nil?"](),(i=j===c||j===!1)!=!1&&i!==c&&(p!==!1&&p!==c&&(j=s["$blocks?"](),(i=j===c||j===!1)!=!1&&i!==c?(j=y.$style()["$=="]("partintro"),(i=j===c||j===!1)!=!1&&i!==c&&(y.$context()["$=="]("paragraph")?(y["$context="]("open"),y["$style="]("partintro")):(q=m.Block.$new(s,"open",g(["content_model"],{content_model:"compound"})),q["$style="]("partintro"),y["$parent="](q),s["$<<"](q)))):s.$blocks().$size()["$=="](1)&&(z=s.$blocks().$first(),l=q,j=l===c||l===!1,(i=j!==!1&&j!==c?z.$content_model()["$=="]("compound"):j)!==!1&&i!==c?n.$warn("asciidoctor: ERROR: "+x+": illegal block content outside of partintro block"):(j=z.$content_model()["$=="]("compound"),(i=j===c||j===!1)!=!1&&i!==c&&(q=m.Block.$new(s,"open",g(["content_model"],{content_model:"compound"})),q["$style="]("partintro"),s.$blocks().$shift(),z.$style()["$=="]("partintro")&&(z["$context="]("paragraph"),z["$style="](c)),z["$parent="](q),q["$<<"](z),y["$parent="](q),s["$<<"](q))))),((i=q)!==!1&&i!==c?i:s)["$<<"](y),e=g([],{}));b.$skip_blank_lines()}if(p!==!1&&p!==c)i=s["$blocks?"](),((f=i!==!1&&i!==c?s.$blocks().$last().$context()["$=="]("section"):i)===!1||f===c)&&n.$warn("asciidoctor: ERROR: "+b.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(o!==!1&&o!==c)if(A=d,(f=o["$blocks?"]())!==!1&&f!==c){if(j=m.Compliance.$unwrap_standalone_preamble(),i=j!==!1&&j!==c?A.$blocks().$size()["$=="](1):j,(f=i!==!1&&i!==c?(l=r["$=="]("book"),(j=l===c||l===!1)!=!1&&j!==c?j:(l=o.$blocks().$first().$style()["$=="]("abstract"),l===c||l===!1)):i)!==!1&&f!==c)for(A.$blocks().$shift();(i=B=o.$blocks().$shift())!==!1&&i!==c;)B["$parent="](A),A["$<<"](B)}else A.$blocks().$shift();return[function(){return i=s["$=="](d),(f=i===c||i===!1)!=!1&&f!==c?s:c}(),e.$dup()]}),a.defs(k,"$next_block",function(b,d,e,f){var i,j,k,l,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D=this,E=c,F=c,G=c,H=c,I=c,J=c,K=c,L=c,M=c,N=c,O=c,P=c,Q=c,R=c,S=c,T=c,U=c,V=c,W=c,X=c,Y=c,Z=c,$=c,_=c,ab=c,bb=c,cb=c,db=c,eb=c,fb=c,gb=c,hb=c,ib=c,jb=c,kb=c,lb=c,mb=c,nb=c,ob=c,pb=c,qb=c,rb=c,sb=c,tb=c,ub=c,vb=c,wb=c,xb=c,yb=c,zb=c,Ab=c,Bb=c,Cb=c;if(null==e&&(e=g([],{})),null==f&&(f=g([],{})),E=b.$skip_blank_lines(),(i=b["$has_more_lines?"]())===!1||i===c)return c;for(F=f["$[]"]("text"),(i=(j=F!==!1&&F!==c)?E["$>"](0):j)!==!1&&i!==c&&(f.$delete("text"),F=!1),G=f.$fetch("parse_metadata",!0),H=d.$document(),(i=I=H.$extensions())!==!1&&i!==c?(J=I["$blocks?"](),K=I["$block_macros?"]()):J=K=!1,L=d["$is_a?"](m.List),M=c,N=c,O=c;k=b["$has_more_lines?"](),(j=k!==!1&&k!==c?M["$nil?"]():k)!==!1&&j!==c;)if((j=(k=G!==!1&&G!==c)?D.$parse_block_metadata_line(b,H,e,f):k)===!1||j===c){if(P=b.$read_line(),Q=!1,R=c,S=c,T=c,(j=e["$[]"](1))!==!1&&j!==c&&(j=a.to_ary(D.$parse_style_attribute(e,b)),N=null==j[0]?c:j[0],O=null==j[1]?c:j[1]),(j=U=D["$is_delimited_block?"](P,!0))!==!1&&j!==c&&(Q=!0,R=S=U.$context(),T=U.$terminator(),k=N,(j=k===c||k===!1)!=!1&&j!==c?N=e["$[]="]("style",R.$to_s()):(k=N["$=="](R.$to_s()),(j=k===c||k===!1)!=!1&&j!==c&&((j=U.$masq()["$include?"](N))!==!1&&j!==c?R=N.$to_sym():(k=U.$masq()["$include?"]("admonition"),(j=k!==!1&&k!==c?m.ADMONITION_STYLES["$include?"](N):k)!==!1&&j!==c?R="admonition":(j=(k=J!==!1&&J!==c)?I["$processor_registered_for_block?"](N,R):k)!==!1&&j!==c?R=N.$to_sym():(D.$warn("asciidoctor: WARNING: "+b.$prev_line_info()+": invalid style for "+R+" block: "+N),N=R.$to_s()))))),k=Q,(j=k===c||k===!1)!=!1&&j!==c)for(;(k=!0)!=!1&&k!==c;){if(o=N["$nil?"](),n=o===c||o===!1,l=n!==!1&&n!==c?m.Compliance.$strict_verbatim_paragraphs():n,(k=l!==!1&&l!==c?m.VERBATIM_STYLES["$include?"](N):l)!==!1&&k!==c){R=N.$to_sym(),b.$unshift_line(P);
break}if((k=F)===!1||k===c){if(V=function(){return(k=m.Compliance.$markdown_syntax())!==!1&&k!==c?P.$lstrip()["$[]"](h(0,0,!1)):P["$[]"](h(0,0,!1))}(),n=m.BREAK_LINES["$has_key?"](V),l=n!==!1&&n!==c?P.$length()["$>="](3):n,(k=l!==!1&&l!==c?W=P.$match(function(){return m.REGEXP["$[]"]((n=m.Compliance.$markdown_syntax())!==!1&&n!==c?"break_line_plus":"break_line")}()):l)!==!1&&k!==c){M=m.Block.$new(d,m.BREAK_LINES["$[]"](V),g(["content_model"],{content_model:"empty"}));break}if((k=W=P.$match(m.REGEXP["$[]"]("media_blk_macro")))!==!1&&k!==c){if(X=W["$[]"](1).$to_sym(),M=m.Block.$new(d,X,g(["content_model"],{content_model:"empty"})),Y=X["$=="]("image")?["alt","width","height"]:X["$=="]("video")?["poster","width","height"]:[],((k=(l=N["$nil?"]())!==!1&&l!==c?l:O)===!1||k===c)&&(X["$=="]("image")&&e["$[]="]("alt",N),e.$delete("style"),N=c),M.$parse_attributes(W["$[]"](3),Y,g(["unescape_input","sub_input","sub_result","into"],{unescape_input:X["$=="]("image"),sub_input:!0,sub_result:!1,into:e})),Z=M.$sub_attributes(W["$[]"](2),g(["attribute_missing"],{attribute_missing:"drop-line"})),(k=Z["$empty?"]())!==!1&&k!==c)return H.$attributes().$fetch("attribute-missing",m.Compliance.$attribute_missing())["$=="]("skip")?m.Block.$new(d,"paragraph",g(["source"],{source:[P]})):c;e["$[]="]("target",Z),(k=e["$has_key?"]("title"))!==!1&&k!==c&&M["$title="](e.$delete("title")),X["$=="]("image")&&((k=e["$has_key?"]("scaledwidth"))!==!1&&k!==c&&(k=h(48,57,!1)["$include?"](((l=e["$[]"]("scaledwidth")["$[]"](-1))!==!1&&l!==c?l:0).$ord()))!==!1&&k!==c&&e["$[]="]("scaledwidth",""+e["$[]"]("scaledwidth")+"%"),H.$register("images",Z),k="alt",l=e,(n=l["$[]"](k))!==!1&&n!==c?n:l["$[]="](k,m.File.$basename(Z,m.File.$extname(Z)).$tr("_-"," ")),M.$assign_caption(e.$delete("caption"),"figure"));break}if((k=(l=V["$=="]("t"))?W=P.$match(m.REGEXP["$[]"]("toc")):l)!==!1&&k!==c){M=m.Block.$new(d,"toc",g(["content_model"],{content_model:"empty"})),M.$parse_attributes(W["$[]"](1),[],g(["sub_result","into"],{sub_result:!1,into:e}));break}if(l=(n=K!==!1&&K!==c)?W=P.$match(m.REGEXP["$[]"]("generic_blk_macro")):n,(k=l!==!1&&l!==c?I["$processor_registered_for_block_macro?"](W["$[]"](1)):l)!==!1&&k!==c){if($=W["$[]"](1),Z=W["$[]"](2),_=W["$[]"](3),ab=I.$load_block_macro_processor($,H),((k=_["$empty?"]())===!1||k===c)&&H.$parse_attributes(_,ab.$options().$fetch("pos_attrs",[]),g(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:e})),l=(bb=ab.$options().$fetch("default_attrs",g([],{})))["$empty?"](),(k=l===c||l===!1)!=!1&&k!==c&&(k=(l=bb).$each,k._p=(p=function(a,b){{var d,f,g;p._s||this}return null==a&&(a=c),null==b&&(b=c),d=a,f=e,(g=f["$[]"](d))!==!1&&g!==c?g:f["$[]="](d,b)},p._s=D,p),k).call(l),M=ab.$process(d,Z,e),(k=M["$nil?"]())!==!1&&k!==c)return c;break}}if((k=W=P.$match(m.REGEXP["$[]"]("colist")))!==!1&&k!==c){for(M=m.List.$new(d,"colist"),e["$[]="]("style","arabic"),b.$unshift_line(P),cb=1;o=b["$has_more_lines?"](),(n=o!==!1&&o!==c?W=b.$peek_line().$match(m.REGEXP["$[]"]("colist")):o)!==!1&&n!==c;)o=W["$[]"](1).$to_i()["$=="](cb),(n=o===c||o===!1)!=!1&&n!==c&&D.$warn("asciidoctor: WARNING: "+b.$path()+": line "+b.$lineno()["$-"](2)+": callout list item index: expected "+cb+" got "+W["$[]"](1)),db=D.$next_list_item(b,M,W),cb=cb["$+"](1),o=db["$nil?"](),(n=o===c||o===!1)!=!1&&n!==c&&(M["$<<"](db),eb=H.$callouts().$callout_ids(M.$items().$size()),o=eb["$empty?"](),(n=o===c||o===!1)!=!1&&n!==c?db.$attributes()["$[]="]("coids",eb):D.$warn("asciidoctor: WARNING: "+b.$path()+": line "+b.$lineno()["$-"](2)+": no callouts refer to list item "+M.$items().$size()));H.$callouts().$next_list();break}if((k=W=P.$match(m.REGEXP["$[]"]("ulist")))!==!1&&k!==c){b.$unshift_line(P),M=D.$next_outline_list(b,"ulist",d);break}if((k=W=P.$match(m.REGEXP["$[]"]("olist")))!==!1&&k!==c){b.$unshift_line(P),M=D.$next_outline_list(b,"olist",d),o=e["$[]"]("style"),n=o===c||o===!1,(k=n!==!1&&n!==c?(o=M.$attributes()["$[]"]("style"),o===c||o===!1):n)!==!1&&k!==c&&(fb=M.$items().$first().$marker(),(k=fb["$start_with?"]("."))!==!1&&k!==c?e["$[]="]("style",((k=m.ORDERED_LIST_STYLES["$[]"](fb.$length()["$-"](1)))!==!1&&k!==c?k:m.ORDERED_LIST_STYLES.$first()).$to_s()):(N=(k=(n=m.ORDERED_LIST_STYLES).$detect,k._p=(q=function(a){q._s||this;return null==a&&(a=c),fb.$match(m.ORDERED_LIST_MARKER_PATTERNS["$[]"](a))},q._s=D,q),k).call(n),e["$[]="]("style",((k=N)!==!1&&k!==c?k:m.ORDERED_LIST_STYLES.$first()).$to_s())));break}if((k=W=P.$match(m.REGEXP["$[]"]("dlist")))!==!1&&k!==c){b.$unshift_line(P),M=D.$next_labeled_list(b,W,d);break}if(o=(r=N["$=="]("float"))!==!1&&r!==c?r:N["$=="]("discrete"),(k=o!==!1&&o!==c?D["$is_section_title?"](P,function(){return(r=m.Compliance.$underline_style_section_titles())!==!1&&r!==c?b.$peek_line(!0):c}()):o)!==!1&&k!==c){b.$unshift_line(P),k=a.to_ary(D.$parse_section_title(b,H)),gb=null==k[0]?c:k[0],hb=null==k[1]?c:k[1],ib=null==k[2]?c:k[2],jb=null==k[3]?c:k[3],kb=null==k[4]?c:k[4],hb!==!1&&hb!==c&&e["$[]="]("reftext",hb),(k=e["$has_key?"]("id"))!==!1&&k!==c&&((k=gb)!==!1&&k!==c?k:gb=e["$[]"]("id")),M=m.Block.$new(d,"floating_title",g(["content_model"],{content_model:"empty"})),(k=(o=gb["$nil?"]())!==!1&&o!==c?o:gb["$empty?"]())!==!1&&k!==c?(lb=m.Section.$new(d),lb["$title="](ib),M["$id="](lb.$generate_id())):M["$id="](gb),M["$level="](jb),M["$title="](ib);break}if(r=N["$nil?"](),o=r===c||r===!1,(k=o!==!1&&o!==c?(r=N["$=="]("normal"),r===c||r===!1):o)!==!1&&k!==c){if((k=m.PARAGRAPH_STYLES["$include?"](N))!==!1&&k!==c){R=N.$to_sym(),S="paragraph",b.$unshift_line(P);break}if((k=m.ADMONITION_STYLES["$include?"](N))!==!1&&k!==c){R="admonition",S="paragraph",b.$unshift_line(P);break}if((k=(o=J!==!1&&J!==c)?I["$processor_registered_for_block?"](N,"paragraph"):o)!==!1&&k!==c){R=N.$to_sym(),S="paragraph",b.$unshift_line(P);break}D.$warn("asciidoctor: WARNING: "+b.$prev_line_info()+": invalid style for paragraph: "+N),N=c}if(mb=(k=E["$=="](0))?L:k,r=N["$=="]("normal"),o=r===c||r===!1,(k=o!==!1&&o!==c?P.$match(m.REGEXP["$[]"]("lit_par")):o)!==!1&&k!==c)b.$unshift_line(P),nb=(k=(o=b).$read_lines_until,k._p=(s=function(a){var b,d,e,f=s._s||this;return null==a&&(a=c),(b=(d=mb!==!1&&mb!==c)?a.$match(m.REGEXP["$[]"]("any_list")):d)!==!1&&b!==c?b:(d=m.Compliance.$block_terminates_paragraph(),d!==!1&&d!==c?(e=f["$is_delimited_block?"](a))!==!1&&e!==c?e:a.$match(m.REGEXP["$[]"]("attr_line")):d)},s._s=D,s),k).call(o,g(["break_on_blank_lines","break_on_list_continuation","preserve_last_line"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0})),D["$reset_block_indent!"](nb),M=m.Block.$new(d,"literal",g(["content_model","source","attributes"],{content_model:"verbatim",source:nb,attributes:e})),L!==!1&&L!==c&&M.$set_option("listparagraph");else{if(b.$unshift_line(P),nb=(k=(r=b).$read_lines_until,k._p=(t=function(a){var b,d,e,f=t._s||this;return null==a&&(a=c),(b=(d=mb!==!1&&mb!==c)?a.$match(m.REGEXP["$[]"]("any_list")):d)!==!1&&b!==c?b:(d=m.Compliance.$block_terminates_paragraph(),d!==!1&&d!==c?(e=f["$is_delimited_block?"](a))!==!1&&e!==c?e:a.$match(m.REGEXP["$[]"]("attr_line")):d)},t._s=D,t),k).call(r,g(["break_on_blank_lines","break_on_list_continuation","preserve_last_line","skip_line_comments"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0,skip_line_comments:!0})),(k=nb["$empty?"]())!==!1&&k!==c)return b.$advance(),c;if(D.$catalog_inline_anchors(nb.$join(m.EOL),H),ob=nb.$first(),v=F,u=v===c||v===!1,(k=u!==!1&&u!==c?pb=ob.$match(m.REGEXP["$[]"]("admonition_inline")):u)!==!1&&k!==c)nb["$[]="](0,pb.$post_match().$lstrip()),e["$[]="]("style",pb["$[]"](1)),e["$[]="]("name",qb=pb["$[]"](1).$downcase()),k="caption",u=e,(v=u["$[]"](k))!==!1&&v!==c?v:u["$[]="](k,H.$attributes()["$[]"](""+qb+"-caption")),M=m.Block.$new(d,"admonition",g(["source","attributes"],{source:nb,attributes:e}));else if(w=F,v=w===c||w===!1,u=v!==!1&&v!==c?m.Compliance.$markdown_syntax():v,(k=u!==!1&&u!==c?ob["$start_with?"]("> "):u)!==!1&&k!==c){if((k=(u=nb)["$map!"],k._p=(x=function(a){{var b;x._s||this}return null==a&&(a=c),a["$=="](">")?a["$[]"](h(1,-1,!1)):(b=a["$start_with?"]("> "))!==!1&&b!==c?a["$[]"](h(2,-1,!1)):a},x._s=D,x),k).call(u),(k=nb.$last()["$start_with?"]("-- "))!==!1&&k!==c)for(k=a.to_ary(nb.$pop()["$[]"](h(3,-1,!1)).$split(", ",2)),rb=null==k[0]?c:k[0],sb=null==k[1]?c:k[1];(v=nb.$last()["$empty?"]())!==!1&&v!==c;)nb.$pop();else k=a.to_ary(c),rb=null==k[0]?c:k[0],sb=null==k[1]?c:k[1];e["$[]="]("style","quote"),((k=rb["$nil?"]())===!1||k===c)&&e["$[]="]("attribution",rb),((k=sb["$nil?"]())===!1||k===c)&&e["$[]="]("citetitle",sb),M=D.$build_block("quote","compound",!1,d,m.Reader.$new(nb),e)}else if(A=F,z=A===c||A===!1,y=z!==!1&&z!==c?nb.$size()["$>"](1):z,w=y!==!1&&y!==c?ob["$start_with?"]('"'):y,v=w!==!1&&w!==c?nb.$last()["$start_with?"]("-- "):w,(k=v!==!1&&v!==c?nb["$[]"](-2)["$end_with?"]('"'):v)!==!1&&k!==c){for(nb["$[]="](0,ob["$[]"](h(1,-1,!1))),k=a.to_ary(nb.$pop()["$[]"](h(3,-1,!1)).$split(", ",2)),rb=null==k[0]?c:k[0],sb=null==k[1]?c:k[1];(v=nb.$last()["$empty?"]())!==!1&&v!==c;)nb.$pop();nb["$[]="](-1,nb.$last().$chop()),e["$[]="]("style","quote"),((k=rb["$nil?"]())===!1||k===c)&&e["$[]="]("attribution",rb),((k=sb["$nil?"]())===!1||k===c)&&e["$[]="]("citetitle",sb),M=m.Block.$new(d,"quote",g(["source","attributes"],{source:nb,attributes:e}))}else(k=(v=N["$=="]("normal"))?(w=(V=nb.$first()["$[]"](h(0,0,!1)))["$=="](" "))!==!1&&w!==c?w:V["$=="]("	"):v)!==!1&&k!==c&&(ob=nb.$first(),tb=ob.$lstrip(),ub=D.$line_length(ob)["$-"](D.$line_length(tb)),nb["$[]="](0,tb),(k=(v=nb.$size()).$times,k._p=(B=function(a){B._s||this;return null==a&&(a=c),a["$>"](0)?nb["$[]="](a,nb["$[]"](a)["$[]"](h(ub,-1,!1))):c},B._s=D,B),k).call(v)),M=m.Block.$new(d,"paragraph",g(["source","attributes"],{source:nb,attributes:e}))}break}if(k=M["$nil?"](),(j=k!==!1&&k!==c?(w=R["$nil?"](),w===c||w===!1):k)!==!1&&j!==c)if((j=(k=R["$=="]("abstract"))!==!1&&k!==c?k:R["$=="]("partintro"))!==!1&&j!==c&&(R="open"),vb=R,"admonition"["$==="](vb))e["$[]="]("name",qb=N.$downcase()),j="caption",k=e,(w=k["$[]"](j))!==!1&&w!==c?w:k["$[]="](j,H.$attributes()["$[]"](""+qb+"-caption")),M=D.$build_block(R,"compound",T,d,b,e);else{if("comment"["$==="](vb))return D.$build_block(R,"skip",T,d,b,e),c;if("example"["$==="](vb))M=D.$build_block(R,"compound",T,d,b,e,g(["supports_caption"],{supports_caption:!0}));else if("listing"["$==="](vb)||"fenced_code"["$==="](vb)||"source"["$==="](vb))R["$=="]("fenced_code")?(N=e["$[]="]("style","source"),j=a.to_ary(P["$[]"](h(3,-1,!1)).$split(",",2)),wb=null==j[0]?c:j[0],xb=null==j[1]?c:j[1],(j=(k=wb!==!1&&wb!==c)?(w=(wb=wb.$strip())["$empty?"](),w===c||w===!1):k)!==!1&&j!==c&&(e["$[]="]("language",wb),(j=(k=xb!==!1&&xb!==c)?(w=xb.$strip()["$empty?"](),w===c||w===!1):k)!==!1&&j!==c&&e["$[]="]("linenums","")),T=T["$[]"](h(0,2,!1))):R["$=="]("source")&&m.AttributeList.$rekey(e,[c,"language","linenums"]),M=D.$build_block("listing","verbatim",T,d,b,e,g(["supports_caption"],{supports_caption:!0}));else if("literal"["$==="](vb))M=D.$build_block(R,"verbatim",T,d,b,e);else if("pass"["$==="](vb))M=D.$build_block(R,"raw",T,d,b,e);else if("math"["$==="](vb)||"latexmath"["$==="](vb)||"asciimath"["$==="](vb))R["$=="]("math")&&e["$[]="]("style",function(){return(yb=H.$attributes()["$[]"]("math").$to_s())["$=="]("")?"asciimath":yb}()),M=D.$build_block("math","raw",T,d,b,e);else if("open"["$==="](vb)||"sidebar"["$==="](vb))M=D.$build_block(R,"compound",T,d,b,e);else if("table"["$==="](vb))zb=b.$cursor(),Ab=m.Reader.$new(b.$read_lines_until(g(["terminator","skip_line_comments"],{terminator:T,skip_line_comments:!0})),zb),vb=T["$[]"](h(0,0,!1)),","["$==="](vb)?e["$[]="]("format","csv"):":"["$==="](vb)&&e["$[]="]("format","dsv"),M=D.$next_table(Ab,d,e);else if("quote"["$==="](vb)||"verse"["$==="](vb))m.AttributeList.$rekey(e,[c,"attribution","citetitle"]),M=D.$build_block(R,function(){return R["$=="]("verse")?"verbatim":"compound"}(),T,d,b,e);else if((j=(k=J!==!1&&J!==c)?I["$processor_registered_for_block?"](R,S):k)!==!1&&j!==c){if(ab=I.$load_block_processor(R,H),k=(Bb=ab.$options()["$[]"]("content_model"))["$=="]("skip"),(j=k===c||k===!1)!=!1&&j!==c&&(k=(Cb=ab.$options().$fetch("pos_attrs",[]))["$empty?"](),(j=k===c||k===!1)!=!1&&j!==c&&m.AttributeList.$rekey(e,[c].$concat(Cb)),k=(bb=ab.$options().$fetch("default_attrs",g([],{})))["$empty?"](),(j=k===c||k===!1)!=!1&&j!==c&&(j=(k=bb).$each,j._p=(C=function(a,b){{var d,f,g;C._s||this}return null==a&&(a=c),null==b&&(b=c),d=a,f=e,(g=f["$[]"](d))!==!1&&g!==c?g:f["$[]="](d,b)},C._s=D,C),j).call(k)),M=D.$build_block(R,Bb,T,d,b,e,g(["processor"],{processor:ab})),(j=M["$nil?"]())!==!1&&j!==c)return c}else D.$raise("Unsupported block type "+R+" at "+b.$line_info())}}else b.$advance();return j=M["$nil?"](),(i=j===c||j===!1)!=!1&&i!==c&&((i=e["$has_key?"]("id"))!==!1&&i!==c&&(i=M,(j=i.$id())!==!1&&j!==c?j:i["$id="](e["$[]"]("id"))),((i=M["$title?"]())===!1||i===c)&&M["$title="](e["$[]"]("title")),i=M,(j=i.$caption())!==!1&&j!==c?j:i["$caption="](e.$delete("caption")),M["$style="](e["$[]"]("style")),(i=M.$id())!==!1&&i!==c&&H.$register("ids",[M.$id(),(i=e["$[]"]("reftext"))!==!1&&i!==c?i:function(){return(j=M["$title?"]())!==!1&&j!==c?M.$title():c}()]),M.$update_attributes(e),M.$lock_in_subs(),(i=M["$sub?"]("callouts"))!==!1&&i!==c&&(j=D.$catalog_callouts(M.$source(),H),(i=j===c||j===!1)!=!1&&i!==c&&M.$remove_sub("callouts"))),M}),a.defs(k,"$is_delimited_block?",function(a,b){var d,e,f,g=c,i=c,j=c,k=c,l=c,n=c,o=c;if(null==b&&(b=!1),(d=(e=(g=a.$length())["$>"](1))?m.DELIMITED_BLOCK_LEADERS["$include?"](a["$[]"](h(0,1,!1))):e)===!1||d===c)return c;if(g["$=="](2))i=a,j=2;else{if(g["$<="](4)?(i=a,j=g):(i=a["$[]"](h(0,3,!1)),j=4),k=!1,(d=m.Compliance.$markdown_syntax())!==!1&&d!==c)if(l=function(){return j["$=="](4)?i.$chop():i}(),l["$=="]("```")){if((d=(e=j["$=="](4))?i["$end_with?"]("`"):e)!==!1&&d!==c)return c;i=l,j=3,k=!0}else if(l["$=="]("~~~")){if((d=(e=j["$=="](4))?i["$end_with?"]("~"):e)!==!1&&d!==c)return c;i=l,j=3,k=!0}if((d=(e=j["$=="](3))?(f=k,f===c||f===!1):e)!==!1&&d!==c)return c}return(d=m.DELIMITED_BLOCKS["$has_key?"](i))!==!1&&d!==c?(d=(e=j["$<"](4))!==!1&&e!==c?e:j["$=="](g))!==!1&&d!==c?b!==!1&&b!==c?((d=m.DELIMITED_BLOCKS["$[]"](i)).$to_a?d=d.$to_a():d._isArray?d:d=[d],n=null==d[0]?c:d[0],o=null==d[1]?c:d[1],m.BlockMatchData.$new(n,o,i,i)):!0:(""+i+i["$[]"](h(-1,-1,!1))["$*"](g["$-"](j)))["$=="](a)?b!==!1&&b!==c?((d=m.DELIMITED_BLOCKS["$[]"](i)).$to_a?d=d.$to_a():d._isArray?d:d=[d],n=null==d[0]?c:d[0],o=null==d[1]?c:d[1],m.BlockMatchData.$new(n,o,i,a)):!0:c:c}),a.defs(k,"$build_block",function(a,b,d,e,f,h,i){var j,k,l,n,o=this,p=c,q=c,r=c,s=c,t=c,u=c,v=c;return null==i&&(i=g([],{})),(j=(k=b["$=="]("skip"))!==!1&&k!==c?k:b["$=="]("raw"))!==!1&&j!==c?(p=b["$=="]("skip"),q="simple"):(p=!1,q=b),(j=d["$nil?"]())!==!1&&j!==c?(q["$=="]("verbatim")?r=f.$read_lines_until(g(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),r=(j=(k=f).$read_lines_until,j._p=(l=function(a){var b,d,e=l._s||this;return null==a&&(a=c),b=m.Compliance.$block_terminates_paragraph(),b!==!1&&b!==c?(d=e["$is_delimited_block?"](a))!==!1&&d!==c?d:a.$match(m.REGEXP["$[]"]("attr_line")):b},l._s=o,l),j).call(k,g(["break_on_blank_lines","break_on_list_continuation","preserve_last_line","skip_line_comments","skip_processing"],{break_on_blank_lines:!0,break_on_list_continuation:!0,preserve_last_line:!0,skip_line_comments:!0,skip_processing:p}))),s=c):(n=q["$=="]("compound"),(j=n===c||n===!1)!=!1&&j!==c?(r=f.$read_lines_until(g(["terminator","skip_processing"],{terminator:d,skip_processing:p})),s=c):d["$=="](!1)?(r=c,s=f):(r=c,t=f.$cursor(),s=m.Reader.$new(f.$read_lines_until(g(["terminator","skip_processing"],{terminator:d,skip_processing:p})),t))),b["$=="]("skip")?(h.$clear(),r):((j=(n=b["$=="]("verbatim"))?h["$has_key?"]("indent"):n)!==!1&&j!==c&&o["$reset_block_indent!"](r,h["$[]"]("indent").$to_i()),(j=u=i["$[]"]("processor"))!==!1&&j!==c?(h.$delete("style"),u.$options()["$[]="]("content_model",b),v=u.$process(e,(j=s)!==!1&&j!==c?j:m.Reader.$new(r),h)):v=m.Block.$new(e,a,g(["content_model","attributes","source"],{content_model:b,attributes:h,source:r})),(j=i.$fetch("supports_caption",!1))!==!1&&j!==c&&((j=h["$has_key?"]("title"))!==!1&&j!==c&&v["$title="](h.$delete("title")),v.$assign_caption(h.$delete("caption"))),b["$=="]("compound")&&o.$parse_blocks(s,v),v)}),a.defs(k,"$parse_blocks",function(a,b){for(var d,e=c;(d=a["$has_more_lines?"]())!==!1&&d!==c;)e=m.Lexer.$next_block(a,b),((d=e["$nil?"]())===!1||d===c)&&b["$<<"](e)}),a.defs(k,"$next_outline_list",function(a,b,d){var e,f,g,h=this,i=c,j=c,k=c,l=c,n=c,o=c;for(i=m.List.$new(d,b),i["$level="](d.$context()["$=="](b)?d.$level()["$+"](1):1);f=a["$has_more_lines?"](),(e=f!==!1&&f!==c?j=a.$peek_line().$match(m.REGEXP["$[]"](b)):f)!==!1&&e!==c;){if(k=h.$resolve_list_marker(b,j["$[]"](1)),f=i["$items?"](),(e=f!==!1&&f!==c?(g=k["$=="](i.$items().$first().$marker()),g===c||g===!1):f)!==!1&&e!==c)for(l=i.$level()["$+"](1),n=d;n.$context()["$=="](b);){if(k["$=="](n.$items().$first().$marker())){l=n.$level();break}n=n.$parent()}else l=i.$level();if(g=i["$items?"](),(e=(f=g===c||g===!1)!=!1&&f!==c?f:l["$=="](i.$level()))!==!1&&e!==c)o=h.$next_list_item(a,i,j);else{if(l["$<"](i.$level()))break;l["$>"](i.$level())&&i.$items().$last()["$<<"](h.$next_block(a,i))}((e=o["$nil?"]())===!1||e===c)&&i["$<<"](o),o=c,a.$skip_blank_lines()}return i}),a.defs(k,"$catalog_callouts",function(a,b){var d,e,f,g=this,j=c;return j=!1,(d=a["$include?"]("<"))!==!1&&d!==c&&(d=(e=a).$scan,d._p=(f=function(){var a,d,e=(f._s||this,c);return e=i["~"],d=e["$[]"](0)["$[]"](h(0,0,!1))["$=="]("\\"),(a=d===c||d===!1)!=!1&&a!==c&&b.$callouts().$register(e["$[]"](2)),j=!0},f._s=g,f),d).call(e,m.REGEXP["$[]"]("callout_quick_scan")),j}),a.defs(k,"$catalog_inline_anchors",function(a,b){var d,e,f,g=this;return(d=a["$include?"]("["))!==!1&&d!==c&&(d=(e=a).$scan,d._p=(f=function(){var a,d=(f._s||this,c),e=c,g=c;return d=i["~"],(a=d["$[]"](0)["$start_with?"]("\\"))!==!1&&a!==c?c:(e=(a=d["$[]"](1))!==!1&&a!==c?a:d["$[]"](3),g=(a=d["$[]"](2))!==!1&&a!==c?a:d["$[]"](4),b.$register("ids",[e,g]))},f._s=g,f),d).call(e,m.REGEXP["$[]"]("anchor_macro")),c}),a.defs(k,"$next_labeled_list",function(b,d,e){var f,g,h,i=this,j=c,k=c,l=c,n=c,o=c;for(j=m.List.$new(e,"dlist"),k=c,l=m.REGEXP["$[]"]("dlist_siblings")["$[]"](d["$[]"](2));g=b["$has_more_lines?"](),(f=g!==!1&&g!==c?d=b.$peek_line().$match(l):g)!==!1&&f!==c;)f=a.to_ary(i.$next_list_item(b,j,d,l)),n=null==f[0]?c:f[0],o=null==f[1]?c:f[1],h=k["$nil?"](),g=h===c||h===!1,(f=g!==!1&&g!==c?k.$last()["$nil?"]():g)!==!1&&f!==c?(k.$pop(),k["$[]"](0)["$<<"](n),k["$<<"](o)):j.$items()["$<<"](k=[[n],o]);return j}),a.defs(k,"$next_list_item",function(a,b,d,e){var f,i,j,k=this,l=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c;if(null==e&&(e=c),l=b.$context(),l["$=="]("dlist")?(n=m.ListItem.$new(b,d["$[]"](1)),o=m.ListItem.$new(b,d["$[]"](3)),f=d["$[]"](3).$to_s()["$empty?"](),p=f===c||f===!1):(q=d["$[]"](2),r=!1,(f=(i=l["$=="]("ulist"))?q["$start_with?"]("["):i)!==!1&&f!==c&&((f=q["$start_with?"]("[ ] "))!==!1&&f!==c?(r=!0,s=!1,q=q["$[]"](h(3,-1,!1)).$lstrip()):(f=(i=q["$start_with?"]("[*] "))!==!1&&i!==c?i:q["$start_with?"]("[x] "))!==!1&&f!==c&&(r=!0,s=!0,q=q["$[]"](h(3,-1,!1)).$lstrip())),o=m.ListItem.$new(b,q),r!==!1&&r!==c&&(b.$attributes()["$[]="]("checklist-option",""),o.$attributes()["$[]="]("checkbox",""),s!==!1&&s!==c&&o.$attributes()["$[]="]("checked","")),i=e,(f=i===c||i===!1)!=!1&&f!==c&&(e=k.$resolve_list_marker(l,d["$[]"](1),b.$items().$size(),!0,a)),o["$marker="](e),p=!0),a.$advance(),t=a.$cursor(),u=m.Reader.$new(k.$read_lines_for_list_item(a,l,e,p),t),(f=u["$has_more_lines?"]())!==!1&&f!==c){for(v=u.$skip_line_comments(),w=u.$peek_line(),((f=v["$empty?"]())===!1||f===c)&&u.$unshift_lines(v),i=w["$nil?"](),(f=i===c||i===!1)!=!1&&f!==c?(x=w["$empty?"](),j=x,i=j===c||j===!1,(f=i!==!1&&i!==c?(j=l["$=="]("dlist"),j===c||j===!1):i)!==!1&&f!==c&&(p=!1),i=x,f=i===c||i===!1,y=f!==!1&&f!==c?(i=w["$empty?"](),i===c||i===!1):f):(x=!1,y=!1),z=g(["text"],{text:(f=p,f===c||f===!1)});(i=u["$has_more_lines?"]())!==!1&&i!==c;)A=k.$next_block(u,b,g([],{}),z),((i=A["$nil?"]())===!1||i===c)&&o["$<<"](A);o.$fold_first(x,y)}return l["$=="]("dlist")?(((f=(i=o["$text?"]())!==!1&&i!==c?i:o["$blocks?"]())===!1||f===c)&&(o=c),[n,o]):o}),a.defs(k,"$read_lines_for_list_item",function(a,b,d,e){var f,h,j,k,l,n,o,p,q,r,s,t,u,v,w=this,x=c,y=c,z=c,A=c,B=c,C=c,D=c,E=c;for(null==d&&(d=c),null==e&&(e=!0),x=[],y="inactive",z=!1,A=c;(h=a["$has_more_lines?"]())!==!1&&h!==c&&(B=a.$read_line(),(h=w["$is_sibling_list_item?"](B,b,d))===!1||h===c);)if(C=function(){return(h=x["$empty?"]())!==!1&&h!==c?c:x.$last()}(),C["$=="](m.LIST_CONTINUATION)&&(y["$=="]("inactive")&&(y="active",e=!0,((h=z)===!1||h===c)&&x["$[]="](-1,"")),B["$=="](m.LIST_CONTINUATION)))j=y["$=="]("frozen"),(h=j===c||j===!1)!=!1&&h!==c&&(y="frozen",x["$<<"](B)),B=c;else{if((h=D=w["$is_delimited_block?"](B,!0))!==!1&&h!==c){if(!y["$=="]("active"))break;x["$<<"](B),x.$concat(a.$read_lines_until(g(["terminator","read_last_line"],{terminator:D.$terminator(),read_last_line:!0}))),y="inactive"}else{if(j=(k=b["$=="]("dlist"))?(l=y["$=="]("active"),l===c||l===!1):k,(h=j!==!1&&j!==c?B.$match(m.REGEXP["$[]"]("attr_line")):j)!==!1&&h!==c)break;if((h=(j=y["$=="]("active"))?(k=B["$empty?"](),k===c||k===!1):j)!==!1&&h!==c)(h=B.$match(m.REGEXP["$[]"]("lit_par")))!==!1&&h!==c?(a.$unshift_line(B),x.$concat((h=(j=a).$read_lines_until,h._p=(n=function(a){var e,f=n._s||this;return null==a&&(a=c),(e=b["$=="]("dlist"))?f["$is_sibling_list_item?"](a,b,d):e},n._s=w,n),h).call(j,g(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),y="inactive"):(h=(k=(l=B.$match(m.REGEXP["$[]"]("blk_title")))!==!1&&l!==c?l:B.$match(m.REGEXP["$[]"]("attr_line")))!==!1&&k!==c?k:B.$match(m.REGEXP["$[]"]("attr_entry")))!==!1&&h!==c?x["$<<"](B):((h=E=(k=(l=function(){return z!==!1&&z!==c?["dlist"]:m.NESTABLE_LIST_CONTEXTS}()).$detect,k._p=(o=function(a){o._s||this;return null==a&&(a=c),B.$match(m.REGEXP["$[]"](a))},o._s=w,o),k).call(l))!==!1&&h!==c&&(z=!0,(h=(k=E["$=="]("dlist"))?i["~"]["$[]"](3).$to_s()["$empty?"]():k)!==!1&&h!==c&&(e=!1)),x["$<<"](B),y="inactive");else if(p=C["$nil?"](),k=p===c||p===!1,(h=k!==!1&&k!==c?C["$empty?"]():k)!==!1&&h!==c){if((h=B["$empty?"]())!==!1&&h!==c&&(a.$skip_blank_lines(),B=a.$read_line(),(h=(k=B["$nil?"]())!==!1&&k!==c?k:w["$is_sibling_list_item?"](B,b,d))!==!1&&h!==c))break;if(B["$=="](m.LIST_CONTINUATION))A=x.$size(),x["$<<"](B);else if(e!==!1&&e!==c){if((h=w["$is_sibling_list_item?"](B,b,d))!==!1&&h!==c)break;if((h=E=(k=(p=m.NESTABLE_LIST_CONTEXTS).$detect,k._p=(q=function(a){q._s||this;return null==a&&(a=c),B.$match(m.REGEXP["$[]"](a))},q._s=w,q),k).call(p))!==!1&&h!==c)x["$<<"](B),z=!0,(h=(k=E["$=="]("dlist"))?i["~"]["$[]"](3).$to_s()["$empty?"]():k)!==!1&&h!==c&&(e=!1);else{if((h=B.$match(m.REGEXP["$[]"]("lit_par")))===!1||h===c)break;a.$unshift_line(B),x.$concat((h=(k=a).$read_lines_until,h._p=(r=function(a){var e,f=r._s||this;return null==a&&(a=c),(e=b["$=="]("dlist"))?f["$is_sibling_list_item?"](a,b,d):e},r._s=w,r),h).call(k,g(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})))}}else((h=z)===!1||h===c)&&x.$pop(),x["$<<"](B),e=!0}else s=B["$empty?"](),(h=s===c||s===!1)!=!1&&h!==c&&(e=!0),(h=E=(s=(t=function(){return z!==!1&&z!==c?["dlist"]:m.NESTABLE_LIST_CONTEXTS}()).$detect,s._p=(u=function(a){u._s||this;return null==a&&(a=c),B.$match(m.REGEXP["$[]"](a))},u._s=w,u),s).call(t))!==!1&&h!==c&&(z=!0,(h=(s=E["$=="]("dlist"))?i["~"]["$[]"](3).$to_s()["$empty?"]():s)!==!1&&h!==c&&(e=!1)),x["$<<"](B)}B=c}for(h=B["$nil?"](),(f=h===c||h===!1)!=!1&&f!==c&&a.$unshift_line(B),A!==!1&&A!==c&&x.$delete_at(A);v=x["$empty?"](),s=v===c||v===!1,(h=s!==!1&&s!==c?x.$last()["$empty?"]():s)!==!1&&h!==c;)x.$pop();return s=x["$empty?"](),h=s===c||s===!1,(f=h!==!1&&h!==c?x.$last()["$=="](m.LIST_CONTINUATION):h)!==!1&&f!==c&&x.$pop(),x}),a.defs(k,"$initialize_section",function(b,d,e){var f,h,i=this,j=c,k=c,l=c,n=c,o=c,p=c,q=c,r=c;return null==e&&(e=g([],{})),j=d.$document(),f=a.to_ary(i.$parse_section_title(b,j)),k=null==f[0]?c:f[0],l=null==f[1]?c:f[1],n=null==f[2]?c:f[2],o=null==f[3]?c:f[3],p=null==f[4]?c:f[4],l!==!1&&l!==c&&e["$[]="]("reftext",l),q=m.Section.$new(d,o,j.$attributes()["$has_key?"]("numbered")),q["$id="](k),q["$title="](n),(f=e["$[]"](1))!==!1&&f!==c?(f=a.to_ary(i.$parse_style_attribute(e,b)),q["$sectname="](null==f[0]?c:f[0]),p=null==f[1]?c:f[1],q["$special="](!0),(f=(h=q.$sectname()["$=="]("abstract"))?j.$doctype()["$=="]("book"):h)!==!1&&f!==c&&(q["$sectname="]("sect1"),q["$special="](!1),q["$level="](1))):(f=(h=n.$downcase()["$=="]("synopsis"))?j.$doctype()["$=="]("manpage"):h)!==!1&&f!==c?(q["$special="](!0),q["$sectname="]("synopsis")):q["$sectname="]("sect"+q.$level()),h=q.$id()["$nil?"](),(f=h!==!1&&h!==c?r=e["$[]"]("id"):h)!==!1&&f!==c?q["$id="](r):(f=q,(h=f.$id())!==!1&&h!==c?h:f["$id="](q.$generate_id())),(f=q.$id())!==!1&&f!==c&&q.$document().$register("ids",[q.$id(),(f=e["$[]"]("reftext"))!==!1&&f!==c?f:q.$title()]),q.$update_attributes(e),b.$skip_blank_lines(),q}),a.defs(k,"$section_level",function(a){return m.SECTION_LEVELS["$[]"](a["$[]"](h(0,0,!1)))}),a.defs(k,"$single_line_section_level",function(a){return a.$length()["$-"](1)}),a.defs(k,"$is_next_line_section?",function(a,b){var d,e,f,g,h=this,i=c,j=c;return g=(i=b["$[]"](1))["$nil?"](),f=g===c||g===!1,e=f!==!1&&f!==c?(g=(j=i["$[]"](0).$ord())["$=="](100))!==!1&&g!==c?g:j["$=="](102):f,(d=e!==!1&&e!==c?i.$match(m.REGEXP["$[]"]("section_float_style")):e)!==!1&&d!==c?!1:(e=a["$has_more_lines?"](),(d=e===c||e===!1)!=!1&&d!==c?!1:(d=m.Compliance.$underline_style_section_titles())!==!1&&d!==c?(d=h)["$is_section_title?"].apply(d,[].concat(a.$peek_lines(2))):h["$is_section_title?"](a.$peek_line()))}),a.defs(k,"$is_next_line_document_title?",function(a,b){var c=this;return c["$is_next_line_section?"](a,b)["$=="](0)}),a.defs(k,"$is_section_title?",function(a,b){var d,e,f=this,g=c;return null==b&&(b=c),(d=g=f["$is_single_line_section_title?"](a))!==!1&&d!==c?g:(d=(e=b!==!1&&b!==c)?g=f["$is_two_line_section_title?"](a,b):e)!==!1&&d!==c?g:!1}),a.defs(k,"$is_single_line_section_title?",function(a){var b,d,e,f,g=this,i=c,j=c;return i=function(){return(b=a["$nil?"]())!==!1&&b!==c?c:a["$[]"](h(0,0,!1))}(),d=(e=i["$=="]("="))!==!1&&e!==c?e:(f=m.Compliance.$markdown_syntax(),f!==!1&&f!==c?i["$=="]("#"):f),(b=d!==!1&&d!==c?j=a.$match(m.REGEXP["$[]"]("section_title")):d)!==!1&&b!==c?g.$single_line_section_level(j["$[]"](1)):!1}),a.defs(k,"$is_two_line_section_title?",function(a,b){var d,e,f,g,i,j,k,l=this;return k=a["$nil?"](),j=k===c||k===!1,i=j!==!1&&j!==c?(k=b["$nil?"](),k===c||k===!1):j,g=i!==!1&&i!==c?m.SECTION_LEVELS["$has_key?"](b["$[]"](h(0,0,!1))):i,f=g!==!1&&g!==c?b.$match(m.REGEXP["$[]"]("section_underline")):g,e=f!==!1&&f!==c?a.$match(m.REGEXP["$[]"]("section_name")):f,(d=e!==!1&&e!==c?l.$line_length(a)["$-"](l.$line_length(b)).$abs()["$<="](1):e)!==!1&&d!==c?l.$section_level(b):!1}),a.defs(k,"$parse_section_title",function(a,b){var d,e,f,g,i,j,k=this,l=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c;return l=a.$read_line(),n=c,o=c,p=-1,q=c,r=!0,s=l["$[]"](h(0,0,!1)),e=(f=s["$=="]("="))!==!1&&f!==c?f:(g=m.Compliance.$markdown_syntax(),g!==!1&&g!==c?s["$=="]("#"):g),(d=e!==!1&&e!==c?t=l.$match(m.REGEXP["$[]"]("section_title")):e)!==!1&&d!==c?(p=k.$single_line_section_level(t["$[]"](1)),o=t["$[]"](2),e=o["$end_with?"]("]]"),(d=e!==!1&&e!==c?u=o.$match(m.REGEXP["$[]"]("anchor_embedded")):e)!==!1&&d!==c&&(d=u["$[]"](2)["$nil?"]())!==!1&&d!==c&&(o=u["$[]"](1),n=u["$[]"](3),q=u["$[]"](4))):(d=m.Compliance.$underline_style_section_titles())!==!1&&d!==c&&(v=a.$peek_line(!0),j=v["$nil?"](),i=j===c||j===!1,g=i!==!1&&i!==c?m.SECTION_LEVELS["$has_key?"](v["$[]"](h(0,0,!1))):i,f=g!==!1&&g!==c?v.$match(m.REGEXP["$[]"]("section_underline")):g,e=f!==!1&&f!==c?w=l.$match(m.REGEXP["$[]"]("section_name")):f,(d=e!==!1&&e!==c?k.$line_length(l)["$-"](k.$line_length(v)).$abs()["$<="](1):e)!==!1&&d!==c&&(o=w["$[]"](1),e=o["$end_with?"]("]]"),(d=e!==!1&&e!==c?u=o.$match(m.REGEXP["$[]"]("anchor_embedded")):e)!==!1&&d!==c&&(d=u["$[]"](2)["$nil?"]())!==!1&&d!==c&&(o=u["$[]"](1),n=u["$[]"](3),q=u["$[]"](4)),p=k.$section_level(v),r=!1,a.$advance())),p["$>="](0)&&(p=p["$+"](b.$attr("leveloffset",0).$to_i())),[n,q,o,p,r]}),a.defs(k,"$line_length",function(a){var b;return(b=m.FORCE_UNICODE_LINE_LENGTH)!==!1&&b!==c?a.$scan(/./i).$length():a.$length()}),a.defs(k,"$parse_header_metadata",function(a,b){var d,e,f,h,i,j,k,l=this,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c;if(null==b&&(b=c),l.$process_attribute_entries(a,b),n=g([],{}),o=c,p=c,e=a["$has_more_lines?"](),(d=e!==!1&&e!==c?(f=a["$next_line_empty?"](),f===c||f===!1):e)!==!1&&d!==c&&(q=l.$process_authors(a.$read_line()),((d=q["$empty?"]())===!1||d===c)&&(e=b["$nil?"](),(d=e===c||e===!1)!=!1&&d!==c&&((d=(e=q).$each,d._p=(h=function(a,d){{var e;h._s||this}return null==a&&(a=c),null==d&&(d=c),(e=b.$attributes()["$has_key?"](a))!==!1&&e!==c?c:b.$attributes()["$[]="](a,function(){return(e=d["$is_a?"](m.String))!==!1&&e!==c?b.$apply_header_subs(d):d}())},h._s=l,h),d).call(e),o=b.$attributes()["$[]"]("author"),p=b.$attributes()["$[]"]("authors")),n=q),l.$process_attribute_entries(a,b),r=g([],{}),f=a["$has_more_lines?"](),(d=f!==!1&&f!==c?(i=a["$next_line_empty?"](),i===c||i===!1):f)!==!1&&d!==c&&(s=a.$read_line(),(d=t=s.$match(m.REGEXP["$[]"]("revision_info")))!==!1&&d!==c?(r["$[]="]("revdate",t["$[]"](2).$strip()),((d=t["$[]"](1)["$nil?"]())===!1||d===c)&&r["$[]="]("revnumber",t["$[]"](1).$rstrip()),((d=t["$[]"](3)["$nil?"]())===!1||d===c)&&r["$[]="]("revremark",t["$[]"](3).$rstrip())):a.$unshift_line(s)),((d=r["$empty?"]())===!1||d===c)&&(f=b["$nil?"](),(d=f===c||f===!1)!=!1&&d!==c&&(d=(f=r).$each,d._p=(j=function(a,d){{var e;j._s||this}return null==a&&(a=c),null==d&&(d=c),(e=b.$attributes()["$has_key?"](a))!==!1&&e!==c?c:b.$attributes()["$[]="](a,b.$apply_header_subs(d))},j._s=l,j),d).call(f),n.$update(r)),l.$process_attribute_entries(a,b),a.$skip_blank_lines()),i=b["$nil?"](),(d=i===c||i===!1)!=!1&&d!==c){if(q=c,i=b.$attributes()["$has_key?"]("author"),(d=i!==!1&&i!==c?(k=(u=b.$attributes()["$[]"]("author"))["$=="](o),k===c||k===!1):i)!==!1&&d!==c)q=l.$process_authors(u,!0,!1);else if(i=b.$attributes()["$has_key?"]("authors"),(d=i!==!1&&i!==c?(k=(u=b.$attributes()["$[]"]("authors"))["$=="](p),k===c||k===!1):i)!==!1&&d!==c)q=l.$process_authors(u,!0);else{for(v=[],w="author_"+v.$size()["$+"](1);(i=b.$attributes()["$has_key?"](w))!==!1&&i!==c;)v["$<<"](b.$attributes()["$[]"](w)),w="author_"+v.$size()["$+"](1);v.$size()["$=="](1)?q=l.$process_authors(v.$first(),!0,!1):v.$size()["$>"](1)&&(q=l.$process_authors(v.$join("; "),!0))}((d=q["$nil?"]())===!1||d===c)&&(b.$attributes().$update(q),k=b.$attributes()["$has_key?"]("email"),i=k===c||k===!1,(d=i!==!1&&i!==c?b.$attributes()["$has_key?"]("email_1"):i)!==!1&&d!==c&&b.$attributes()["$[]="]("email",b.$attributes()["$[]"]("email_1")))}return n}),a.defs(k,"$process_authors",function(a,b,d){var e,f,h,i,j=this,k=c,l=c,n=c;return null==b&&(b=!1),null==d&&(d=!0),k=g([],{}),l=["author","authorinitials","firstname","middlename","lastname","email"],n=function(){return d!==!1&&d!==c?(e=(f=a.$split(";")).$map,e._p="strip".$to_proc(),e).call(f):[a]}(),(e=(h=n).$each_with_index,e._p=(i=function(a,d){var e,f,h,j,n,o,p,q,r=i._s||this,s=c,t=c,u=c,v=c,w=c,x=c;return null==a&&(a=c),null==d&&(d=c),(e=a["$empty?"]())!==!1&&e!==c?c:(s=g([],{}),(e=d["$zero?"]())!==!1&&e!==c?(e=(f=l).$each,e._p=(h=function(a){h._s||this;return null==a&&(a=c),s["$[]="](a.$to_sym(),a)},h._s=r,h),e).call(f):(e=(j=l).$each,e._p=(n=function(a){n._s||this;return null==a&&(a=c),s["$[]="](a.$to_sym(),""+a+"_"+d["$+"](1))
},n._s=r,n),e).call(j),t=c,b!==!1&&b!==c?t=a.$split(" ",3):(e=u=a.$match(m.REGEXP["$[]"]("author_info")))!==!1&&e!==c&&(t=u.$to_a(),t.$shift()),(e=t["$nil?"]())!==!1&&e!==c?(k["$[]="](s["$[]"]("author"),k["$[]="](s["$[]"]("firstname"),v=a.$strip().$tr_s(" "," "))),k["$[]="](s["$[]"]("authorinitials"),v["$[]"](0,1))):(k["$[]="](s["$[]"]("firstname"),v=t["$[]"](0).$tr("_"," ")),k["$[]="](s["$[]"]("author"),v),k["$[]="](s["$[]"]("authorinitials"),v["$[]"](0,1)),p=t["$[]"](1)["$nil?"](),o=p===c||p===!1,(e=o!==!1&&o!==c?(p=t["$[]"](2)["$nil?"](),p===c||p===!1):o)!==!1&&e!==c?(k["$[]="](s["$[]"]("middlename"),w=t["$[]"](1).$tr("_"," ")),k["$[]="](s["$[]"]("lastname"),x=t["$[]"](2).$tr("_"," ")),k["$[]="](s["$[]"]("author"),[v,w,x].$join(" ")),k["$[]="](s["$[]"]("authorinitials"),[v["$[]"](0,1),w["$[]"](0,1),x["$[]"](0,1)].$join())):(o=t["$[]"](1)["$nil?"](),(e=o===c||o===!1)!=!1&&e!==c&&(k["$[]="](s["$[]"]("lastname"),x=t["$[]"](1).$tr("_"," ")),k["$[]="](s["$[]"]("author"),[v,x].$join(" ")),k["$[]="](s["$[]"]("authorinitials"),[v["$[]"](0,1),x["$[]"](0,1)].$join()))),((e=(o=b)!==!1&&o!==c?o:t["$[]"](3)["$nil?"]())===!1||e===c)&&k["$[]="](s["$[]"]("email"),t["$[]"](3))),k["$[]="]("authorcount",d["$+"](1)),d["$=="](1)&&(e=(o=l).$each,e._p=(q=function(a){{var b;q._s||this}return null==a&&(a=c),(b=k["$has_key?"](a))!==!1&&b!==c?k["$[]="](""+a+"_1",k["$[]"](a)):c},q._s=r,q),e).call(o),(e=d["$zero?"]())!==!1&&e!==c?k["$[]="]("authors",k["$[]"](s["$[]"]("author"))):k["$[]="]("authors",""+k["$[]"]("authors")+", "+k["$[]"](s["$[]"]("author"))))},i._s=j,i),e).call(h),k}),a.defs(k,"$parse_block_metadata_lines",function(a,b,d,e){var f,h=this;for(null==d&&(d=g([],{})),null==e&&(e=g([],{}));(f=h.$parse_block_metadata_line(a,b,d,e))!==!1&&f!==c;)a.$advance(),a.$skip_blank_lines();return d}),a.defs(k,"$parse_block_metadata_line",function(a,b,d,e){var f,h,i,j=this,k=c,l=c,n=c,o=c;if(null==e&&(e=g([],{})),h=a["$has_more_lines?"](),(f=h===c||h===!1)!=!1&&f!==c)return!1;if(k=a.$peek_line(),h=l=k["$start_with?"]("//"),(f=h!==!1&&h!==c?n=k.$match(m.REGEXP["$[]"]("comment_blk")):h)!==!1&&f!==c)o=n["$[]"](0),a.$read_lines_until(g(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:o,skip_processing:!0}));else if((f=(h=l!==!1&&l!==c)?k.$match(m.REGEXP["$[]"]("comment")):h)===!1||f===c)if(i=e["$[]"]("text"),h=i===c||i===!1,(f=h!==!1&&h!==c?n=k.$match(m.REGEXP["$[]"]("attr_entry")):h)!==!1&&f!==c)j.$process_attribute_entry(a,b,d,n);else if((f=n=k.$match(m.REGEXP["$[]"]("anchor")))!==!1&&f!==c)((f=n["$[]"](1)["$=="](""))===!1||f===c)&&(d["$[]="]("id",n["$[]"](1)),((f=n["$[]"](2)["$nil?"]())===!1||f===c)&&d["$[]="]("reftext",n["$[]"](2)));else if((f=n=k.$match(m.REGEXP["$[]"]("blk_attr_list")))!==!1&&f!==c)b.$document().$parse_attributes(n["$[]"](1),[],g(["sub_input","into"],{sub_input:!0,into:d}));else{if(i=e["$[]"]("text"),h=i===c||i===!1,(f=h!==!1&&h!==c?n=k.$match(m.REGEXP["$[]"]("blk_title")):h)===!1||f===c)return!1;d["$[]="]("title",n["$[]"](1))}return!0}),a.defs(k,"$process_attribute_entries",function(a,b,d){var e,f=this;for(null==d&&(d=c),a.$skip_comment_lines();(e=f.$process_attribute_entry(a,b,d))!==!1&&e!==c;)a.$advance(),a.$skip_comment_lines()}),a.defs(k,"$process_attribute_entry",function(a,b,d,e){var f,g,h=this,i=c,j=c,k=c;if(null==d&&(d=c),null==e&&(e=c),(f=e)!==!1&&f!==c?f:e=function(){return(g=a["$has_more_lines?"]())!==!1&&g!==c?a.$peek_line().$match(m.REGEXP["$[]"]("attr_entry")):c}(),e!==!1&&e!==c){if(i=e["$[]"](1),j=function(){return(f=e["$[]"](2)["$nil?"]())!==!1&&f!==c?"":e["$[]"](2)}(),(f=j["$end_with?"](m.LINE_BREAK))!==!1&&f!==c)for(j=j.$chop().$rstrip();(g=a.$advance())!==!1&&g!==c&&(k=a.$peek_line().$strip(),(g=k["$empty?"]())===!1||g===c);){if((g=k["$end_with?"](m.LINE_BREAK))===!1||g===c){j=""+j+" "+k;break}j=""+j+" "+k.$chop().$rstrip()}return h.$store_attribute(i,j,function(){return(f=b["$nil?"]())!==!1&&f!==c?c:b.$document()}(),d),!0}return!1}),a.defs(k,"$store_attribute",function(a,b,d,e){var f,g,i,j=this,k=c;return null==d&&(d=c),null==e&&(e=c),(f=a["$end_with?"]("!"))!==!1&&f!==c?(b=c,a=a.$chop()):(f=a["$start_with?"]("!"))!==!1&&f!==c&&(b=c,a=a["$[]"](h(1,-1,!1))),a=j.$sanitize_attribute_name(a),k=!0,((f=d["$nil?"]())===!1||f===c)&&(k=function(){return(f=b["$nil?"]())!==!1&&f!==c?d.$delete_attribute(a):d.$set_attribute(a,b)}()),i=k,((f=(g=i===c||i===!1)!=!1&&g!==c?g:e["$nil?"]())===!1||f===c)&&m.Document._scope.AttributeEntry.$new(a,b).$save_to(e),[a,b]}),a.defs(k,"$resolve_list_marker",function(a,b,d,e,f){var g,h,i,j=this;return null==d&&(d=0),null==e&&(e=!1),null==f&&(f=c),(g=(h=a["$=="]("olist"))?(i=b["$start_with?"]("."),i===c||i===!1):h)!==!1&&g!==c?j.$resolve_ordered_list_marker(b,d,e,f):a["$=="]("colist")?"<1>":b}),a.defs(k,"$resolve_ordered_list_marker",function(a,b,d,e){var f,g,h,i,j,k=this,l=c,n=c,o=c,p=c;return null==b&&(b=0),null==d&&(d=!1),null==e&&(e=c),l=(f=(g=m.ORDERED_LIST_STYLES).$detect,f._p=(h=function(b){h._s||this;return null==b&&(b=c),a.$match(m.ORDERED_LIST_MARKER_PATTERNS["$[]"](b))},h._s=k,h),f).call(g),n=o=c,p=l,"arabic"["$==="](p)?(d!==!1&&d!==c&&(n=b["$+"](1),o=a.$to_i()),a="1."):"loweralpha"["$==="](p)?(d!==!1&&d!==c&&(n="a"["$[]"](0).$ord()["$+"](b).$chr(),o=a.$chomp(".")),a="a."):"upperalpha"["$==="](p)?(d!==!1&&d!==c&&(n="A"["$[]"](0).$ord()["$+"](b).$chr(),o=a.$chomp(".")),a="A."):"lowerroman"["$==="](p)?(d!==!1&&d!==c&&(n=b["$+"](1),o=k.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](p)&&(d!==!1&&d!==c&&(n=b["$+"](1),o=k.$roman_numeral_to_int(a.$chomp(")"))),a="I)"),(f=(i=d!==!1&&d!==c)?(j=n["$=="](o),j===c||j===!1):i)!==!1&&f!==c&&k.$warn("asciidoctor: WARNING: "+e.$line_info()+": list item index: expected "+n+", got "+o),a}),a.defs(k,"$is_sibling_list_item?",function(a,b,d){var e,f=this,g=c,h=c,i=c;return(e=d["$is_a?"](m.Regexp))!==!1&&e!==c?(g=d,h=!1):(g=m.REGEXP["$[]"](b),h=d),(e=i=a.$match(g))!==!1&&e!==c?h!==!1&&h!==c?h["$=="](f.$resolve_list_marker(b,i["$[]"](1))):!0:!1}),a.defs(k,"$next_table",function(b,d,e){var f,g,i,j,k,l,n,o=this,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c;for(p=m.Table.$new(d,e),(f=e["$has_key?"]("title"))!==!1&&f!==c&&p["$title="](e.$delete("title")),p.$assign_caption(e.$delete("caption")),(f=e["$has_key?"]("cols"))!==!1&&f!==c?(p.$create_columns(o.$parse_col_specs(e["$[]"]("cols"))),q=!0):q=!1,r=b.$skip_blank_lines(),s=m.Table._scope.ParserContext.$new(b,p,e),t=-1;(g=b["$has_more_lines?"]())!==!1&&g!==c;){for(t=t["$+"](1),u=b.$read_line(),k=(l=r["$=="](0))?t["$zero?"]():l,j=k!==!1&&k!==c?(l=e["$has_key?"]("options"),l===c||l===!1):k,i=j!==!1&&j!==c?(k=(v=b.$peek_line())["$nil?"](),k===c||k===!1):j,(g=i!==!1&&i!==c?v["$empty?"]():i)!==!1&&g!==c&&(p["$has_header_option="](!0),p.$set_option("header")),s.$format()["$=="]("psv")&&((g=s["$starts_with_delimiter?"](u))!==!1&&g!==c?(u=u["$[]"](h(1,-1,!1)),s.$close_open_cell()):(g=a.to_ary(o.$parse_cell_spec(u,"start")),w=null==g[0]?c:g[0],u=null==g[1]?c:g[1],i=w["$nil?"](),(g=i===c||i===!1)!=!1&&g!==c&&s.$close_open_cell(w))),x=!1;k=x,(i=(j=k===c||k===!1)!=!1&&j!==c?j:(k=u["$empty?"](),k===c||k===!1))!==!1&&i!==c;)if(x=!0,(i=y=s.$match_delimiter(u))!==!1&&i!==c){if(s.$format()["$=="]("csv")){if((i=s["$buffer_has_unclosed_quotes?"](y.$pre_match()))!==!1&&i!==c){u=s.$skip_matched_delimiter(y);continue}}else if((i=y.$pre_match()["$end_with?"]("\\"))!==!1&&i!==c){u=s.$skip_matched_delimiter(y,!0);continue}s.$format()["$=="]("psv")?(i=a.to_ary(o.$parse_cell_spec(y.$pre_match(),"end")),w=null==i[0]?c:i[0],z=null==i[1]?c:i[1],s.$push_cell_spec(w),s["$buffer="](""+s.$buffer()+z)):s["$buffer="](""+s.$buffer()+y.$pre_match()),u=y.$post_match(),s.$close_cell()}else s["$buffer="](""+s.$buffer()+u+m.EOL),s.$format()["$=="]("csv")&&s["$buffer="](""+s.$buffer().$rstrip()+" "),u="",(i=(j=s.$format()["$=="]("psv"))!==!1&&j!==c?j:(k=s.$format()["$=="]("csv"))?s["$buffer_has_unclosed_quotes?"]():k)!==!1&&i!==c?s.$keep_cell_open():s.$close_cell(!0);((g=s["$cell_open?"]())===!1||g===c)&&(r=b.$skip_blank_lines()),i=b["$has_more_lines?"](),(g=i===c||i===!1)!=!1&&g!==c&&s.$close_cell(!0)}return f="colcount",g=p.$attributes(),(i=g["$[]"](f))!==!1&&i!==c?i:g["$[]="](f,s.$col_count()),g=q,(f=g===c||g===!1)!=!1&&f!==c&&(A=100["$/"](s.$col_count()).$floor(),(f=(g=p.$columns()).$each,f._p=(n=function(a){n._s||this;return null==a&&(a=c),a.$assign_width(0,A)},n._s=o,n),f).call(g)),p.$partition_header_footer(e),p}),a.defs(k,"$parse_col_specs",function(b){var d,e,f,h,i,j=this,k=c,l=c;return k=[],(d=l=b.$match(m.REGEXP["$[]"]("digits")))!==!1&&d!==c?((d=(e=1).$upto,d._p=(f=function(){f._s||this;return k["$<<"](g(["width"],{width:1}))},f._s=j,f),d).call(e,l["$[]"](0).$to_i()),k):((d=(h=b.$split(",")).$each,d._p=(i=function(b){var d,e,f,h,j=i._s||this,n=c,o=c,p=c,q=c;return null==b&&(b=c),(d=l=b.$match(m.REGEXP["$[]"]("table_colspec")))!==!1&&d!==c?(n=g([],{}),(d=l["$[]"](2))!==!1&&d!==c&&(d=a.to_ary(l["$[]"](2).$split(".")),o=null==d[0]?c:d[0],p=null==d[1]?c:d[1],f=o.$to_s()["$empty?"](),e=f===c||f===!1,(d=e!==!1&&e!==c?m.Table._scope.ALIGNMENTS["$[]"]("h")["$has_key?"](o):e)!==!1&&d!==c&&n["$[]="]("halign",m.Table._scope.ALIGNMENTS["$[]"]("h")["$[]"](o)),f=p.$to_s()["$empty?"](),e=f===c||f===!1,(d=e!==!1&&e!==c?m.Table._scope.ALIGNMENTS["$[]"]("v")["$has_key?"](p):e)!==!1&&d!==c&&n["$[]="]("valign",m.Table._scope.ALIGNMENTS["$[]"]("v")["$[]"](p))),n["$[]="]("width",function(){return e=l["$[]"](3)["$nil?"](),(d=e===c||e===!1)!=!1&&d!==c?l["$[]"](3).$to_i():1}()),e=l["$[]"](4),(d=e!==!1&&e!==c?m.Table._scope.TEXT_STYLES["$has_key?"](l["$[]"](4)):e)!==!1&&d!==c&&n["$[]="]("style",m.Table._scope.TEXT_STYLES["$[]"](l["$[]"](4))),q=function(){return e=l["$[]"](1)["$nil?"](),(d=e===c||e===!1)!=!1&&d!==c?l["$[]"](1).$to_i():1}(),(d=(e=1).$upto,d._p=(h=function(){h._s||this;return k["$<<"](n.$dup())},h._s=j,h),d).call(e,q)):c},i._s=j,i),d).call(h),k)}),a.defs(k,"$parse_cell_spec",function(b,d){var e,f,h,i=c,j=c,k=c,l=c,n=c;if(null==d&&(d="start"),i=function(){return d["$=="]("end")?g([],{}):c}(),j=b,(e=k=b.$match(m.REGEXP["$[]"]("table_cellspec")["$[]"](d)))!==!1&&e!==c){if(i=g([],{}),(e=k["$[]"](0)["$empty?"]())!==!1&&e!==c)return[i,b];j=function(){return d["$=="]("start")?k.$post_match():k.$pre_match()}(),(e=k["$[]"](1))!==!1&&e!==c&&(e=a.to_ary(k["$[]"](1).$split(".")),l=null==e[0]?c:e[0],n=null==e[1]?c:e[1],l=function(){return(e=l.$to_s()["$empty?"]())!==!1&&e!==c?1:l.$to_i()}(),n=function(){return(e=n.$to_s()["$empty?"]())!==!1&&e!==c?1:n.$to_i()}(),k["$[]"](2)["$=="]("+")?(((e=l["$=="](1))===!1||e===c)&&i["$[]="]("colspan",l),((e=n["$=="](1))===!1||e===c)&&i["$[]="]("rowspan",n)):k["$[]"](2)["$=="]("*")&&((e=l["$=="](1))===!1||e===c)&&i["$[]="]("repeatcol",l)),(e=k["$[]"](3))!==!1&&e!==c&&(e=a.to_ary(k["$[]"](3).$split(".")),l=null==e[0]?c:e[0],n=null==e[1]?c:e[1],h=l.$to_s()["$empty?"](),f=h===c||h===!1,(e=f!==!1&&f!==c?m.Table._scope.ALIGNMENTS["$[]"]("h")["$has_key?"](l):f)!==!1&&e!==c&&i["$[]="]("halign",m.Table._scope.ALIGNMENTS["$[]"]("h")["$[]"](l)),h=n.$to_s()["$empty?"](),f=h===c||h===!1,(e=f!==!1&&f!==c?m.Table._scope.ALIGNMENTS["$[]"]("v")["$has_key?"](n):f)!==!1&&e!==c&&i["$[]="]("valign",m.Table._scope.ALIGNMENTS["$[]"]("v")["$[]"](n))),f=k["$[]"](4),(e=f!==!1&&f!==c?m.Table._scope.TEXT_STYLES["$has_key?"](k["$[]"](4)):f)!==!1&&e!==c&&i["$[]="]("style",m.Table._scope.TEXT_STYLES["$[]"](k["$[]"](4)))}return[i,j]}),a.defs(k,"$parse_style_attribute",function(a,b){var d,e,f,h,i,j,k,l=this,m=c,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c;return null==b&&(b=c),m=a["$[]"]("style"),n=a["$[]"](1),f=n,(d=(e=f===c||f===!1)!=!1&&e!==c?e:n["$include?"](" "))!==!1&&d!==c?(a["$[]="]("style",n),[n,m]):(o="style",p=[],q=g([],{}),r=(d=(e=l).$lambda,d._p=(h=function(){var a,d,e,f=h._s||this,g=c;return(a=p["$empty?"]())!==!1&&a!==c?(d=o["$=="]("style"),(a=d===c||d===!1)!=!1&&a!==c?f.$warn("asciidoctor: WARNING:"+function(){return(a=b["$nil?"]())!==!1&&a!==c?c:" "+b.$prev_line_info()+":"}()+" invalid empty "+o+" detected in style attribute"):c):(g=o,"role"["$==="](g)||"option"["$==="](g)?(a=o,d=q,(e=d["$[]"](a))!==!1&&e!==c?e:d["$[]="](a,[]),q["$[]"](o).$push(p.$join())):"id"["$==="](g)?((a=q["$has_key?"]("id"))!==!1&&a!==c&&f.$warn("asciidoctor: WARNING:"+function(){return(a=b["$nil?"]())!==!1&&a!==c?c:" "+b.$prev_line_info()+":"}()+" multiple ids detected in style attribute"),q["$[]="](o,p.$join())):q["$[]="](o,p.$join()),p=[])},h._s=l,h),d).call(e),(d=(f=n).$each_char,d._p=(i=function(a){var b,d,e,f=(i._s||this,c);return null==a&&(a=c),(b=(d=(e=a["$=="]("."))!==!1&&e!==c?e:a["$=="]("#"))!==!1&&d!==c?d:a["$=="]("%"))!==!1&&b!==c?(r.$call(),function(){return f=a,"."["$==="](f)?o="role":"#"["$==="](f)?o="id":"%"["$==="](f)?o="option":c}()):p.$push(a)},i._s=l,i),d).call(f),o["$=="]("style")?s=a["$[]="]("style",n):(r.$call(),s=(d=q["$has_key?"]("style"))!==!1&&d!==c?a["$[]="]("style",q["$[]"]("style")):c,(d=q["$has_key?"]("id"))!==!1&&d!==c&&a["$[]="]("id",q["$[]"]("id")),(d=q["$has_key?"]("role"))!==!1&&d!==c&&a["$[]="]("role",q["$[]"]("role")["$*"](" ")),(d=q["$has_key?"]("option"))!==!1&&d!==c&&((d=(j=t=q["$[]"]("option")).$each,d._p=(k=function(b){k._s||this;return null==b&&(b=c),a["$[]="](""+b+"-option","")},k._s=l,k),d).call(j),(d=u=a["$[]"]("options"))!==!1&&d!==c?a["$[]="]("options",t["$+"](u.$split(","))["$*"](",")):a["$[]="]("options",t["$*"](",")))),[s,m])}),a.defs(k,"$reset_block_indent!",function(a,b){var e,f,g,i,j,k,l,m=this,n=c,o=c,p=c,q=c,r=c;return null==b&&(b=0),(e=(f=b["$nil?"]())!==!1&&f!==c?f:a["$empty?"]())!==!1&&e!==c?c:(n=!1,o="    ",p=(e=(f=a).$map,e._p=(g=function(a){var b,e=(g._s||this,c),f=c;return null==a&&(a=c),(b=a["$[]"](h(0,0,!1)).$lstrip()["$empty?"]())===!1||b===c?(d.$v=[],d):((b=a["$include?"]("	"))!==!1&&b!==c&&(n=!0,a=a.$gsub("	",o)),(b=(e=a.$lstrip())["$empty?"]())!==!1&&b!==c?c:(f=a.$length()["$-"](e.$length()))["$=="](0)?(d.$v=[],d):f)},g._s=m,g),e).call(f),((e=(i=p["$empty?"]())!==!1&&i!==c?i:(p=p.$compact())["$empty?"]())===!1||e===c)&&(q=p.$min())["$>"](0)&&(e=(i=a)["$map!"],e._p=(j=function(a){j._s||this;return null==a&&(a=c),n!==!1&&n!==c&&(a=a.$gsub("	",o)),a["$[]"](h(q,-1,!1)).$to_s()},j._s=m,j),e).call(i),b["$>"](0)&&(r=" "["$*"](b),(e=(k=a)["$map!"],e._p=(l=function(a){l._s||this;return null==a&&(a=c),""+r+a},l._s=m,l),e).call(k)),c)}),a.defs(k,"$sanitize_attribute_name",function(a){return a.$gsub(m.REGEXP["$[]"]("illegal_attr_name_chars"),"").$downcase()}),a.defs(k,"$roman_numeral_to_int",function(a){var b,d,e,f=this,i=c,j=c;return a=a.$downcase(),i=g(["i","v","x"],{i:1,v:5,x:10}),j=0,(b=(d=h(0,a.$length()["$-"](1),!1)).$each,b._p=(e=function(b){var d,f,g=(e._s||this,c);return null==b&&(b=c),g=i["$[]"](a["$[]"](h(b,b,!1))),j=(d=(f=b["$+"](1)["$<"](a.$length()))?i["$[]"](a["$[]"](h(b["$+"](1),b["$+"](1),!1)))["$>"](g):f)!==!1&&d!==c?j["$-"](g):j["$+"](g)},e._s=f,e),b).call(d),j}),c}(j,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass;return function(b){var g=e(b,"Asciidoctor"),h=(g._proto,g._scope);!function(b,e){function g(){}{var h,i,j=g=f(b,e,"List",g),k=g._proto;g._scope}return k.blocks=k.context=k.document=c,a.defn(j,"$items",k.$blocks),a.defn(j,"$items?",k["$blocks?"]),k.$initialize=h=function(b,c){{var d=this;h._p}return h._p=null,a.find_super_dispatcher(d,"initialize",h,null).apply(d,[b,c])},k.$content=function(){var a=this;return a.blocks},k.$render=i=function(){var b=d.call(arguments,0),e=this,f=i._p,g=c;return i._p=null,g=a.find_super_dispatcher(e,"render",i,f).apply(e,b),e.context["$=="]("colist")&&e.document.$callouts().$next_list(),g},c}(g,h.AbstractBlock),function(b,d){function e(){}var g,h=e=f(b,d,"ListItem",e),i=e._proto,j=e._scope;return i.text=i.blocks=i.context=c,h.$attr_accessor("marker"),i.$initialize=g=function(b,d){{var e=this;g._p}return null==d&&(d=c),g._p=null,a.find_super_dispatcher(e,"initialize",g,null).apply(e,[b,"list_item"]),e.text=d,e.level=b.$level()},i["$text?"]=function(){var a,b=this;return a=b.text.$to_s()["$empty?"](),a===c||a===!1},i.$text=function(){var a=this;return a.$apply_subs(a.text)},i.$fold_first=function(a,b){var d,e,f,g,h,i,k,l=this,m=c,n=c;return null==a&&(a=!1),null==b&&(b=!1),g=(m=l.blocks.$first())["$nil?"](),f=g===c||g===!1,e=f!==!1&&f!==c?m["$is_a?"](j.Block):f,(d=e!==!1&&e!==c?(f=(g=m.$context()["$=="]("paragraph"))?(h=a,h===c||h===!1):g)!==!1&&f!==c?f:(h=(i=b)!==!1&&i!==c?i:(k=a,k===c||k===!1),g=h!==!1&&h!==c?m.$context()["$=="]("literal"):h,g!==!1&&g!==c?m["$option?"]("listparagraph"):g):e)!==!1&&d!==c&&(n=l.$blocks().$shift(),((d=l.text.$to_s()["$empty?"]())===!1||d===c)&&n.$lines().$unshift(l.text),l.text=n.$source()),c},i.$to_s=function(){var a,b=this;return""+b.context+" [text:"+b.text+", blocks:"+((a=b.blocks)!==!1&&a!==c?a:[]).$size()+"]"},c}(g,h.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2,g=a.gvars,h=a.range;return function(b){{var i=d(b,"Asciidoctor");i._proto,i._scope}!function(b,d){function i(){}var j=i=e(b,d,"PathResolver",i),k=i._proto,l=i._scope;return k.file_separator=k.working_dir=c,a.cdecl(l,"DOT","."),a.cdecl(l,"DOT_DOT",".."),a.cdecl(l,"SLASH","/"),a.cdecl(l,"BACKSLASH","\\"),a.cdecl(l,"WIN_ROOT_RE",/^[a-zA-Z]:(?:\\|\/)/),j.$attr_accessor("file_separator"),j.$attr_accessor("working_dir"),k.$initialize=function(a,b){var d,e=this;return null==a&&(a=c),null==b&&(b=c),e.file_separator=function(){return(d=a["$nil?"]())!==!1&&d!==c?(d=l.File._scope.ALT_SEPARATOR)!==!1&&d!==c?d:l.File._scope.SEPARATOR:a}(),e.working_dir=(d=b["$nil?"]())!==!1&&d!==c?l.File.$expand_path(l.Dir.$pwd()):function(){return(d=e["$is_root?"](b))!==!1&&d!==c?b:l.File.$expand_path(b)}()},k["$is_root?"]=function(a){var b,d,e=this;return(b=(d=e.file_separator["$=="](l.BACKSLASH))?a.$match(l.WIN_ROOT_RE):d)!==!1&&b!==c?!0:(b=a["$start_with?"](l.SLASH))!==!1&&b!==c?!0:!1},k["$is_web_root?"]=function(a){return a["$start_with?"](l.SLASH)},k.$posixfy=function(a){var b;return(b=a.$to_s()["$empty?"]())!==!1&&b!==c?"":(b=a["$include?"](l.BACKSLASH))!==!1&&b!==c?a.$tr(l.BACKSLASH,l.SLASH):a},k.$expand_path=function(b){var d,e=this,f=c,g=c,h=c;return d=a.to_ary(e.$partition_path(b)),f=null==d[0]?c:d[0],g=null==d[1]?c:d[1],h=null==d[2]?c:d[2],e.$join_path(f,g)},k.$partition_path=function(a,b){var d=this,e=c,f=c,g=c,h=c;return null==b&&(b=!1),e=d.$posixfy(a),f=function(){return b!==!1&&b!==c?d["$is_web_root?"](e):d["$is_root?"](e)}(),g=e.$tr_s(l.SLASH,l.SLASH).$split(l.SLASH),h=function(){return g.$first()["$=="](l.DOT)?l.DOT:c}(),g.$delete(l.DOT),h=function(){return f!==!1&&f!==c?g.$shift():h}(),[g,h,e]},k.$join_path=function(a,b){return null==b&&(b=c),b!==!1&&b!==c?""+b+l.SLASH+a["$*"](l.SLASH):a["$*"](l.SLASH)},k.$system_path=function(b,d,e,g){var h,i,j,k,m=this,n=c,o=c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c;if(null==e&&(e=c),null==g&&(g=f([],{})),n=g.$fetch("recover",!0),((h=e["$nil?"]())===!1||h===c)&&(((h=m["$is_root?"](e))===!1||h===c)&&m.$raise(l.SecurityError,"Jail is not an absolute path: "+e),e=m.$posixfy(e)),(h=b.$to_s()["$empty?"]())!==!1&&h!==c?o=[]:(h=a.to_ary(m.$partition_path(b)),o=null==h[0]?c:h[0],p=null==h[1]?c:h[1],q=null==h[2]?c:h[2]),(h=o["$empty?"]())!==!1&&h!==c){if((h=d.$to_s()["$empty?"]())!==!1&&h!==c)return function(){return(h=e["$nil?"]())!==!1&&h!==c?m.working_dir:e}();if((h=m["$is_root?"](d))===!1||h===c)return m.$system_path(d,e,e);if((h=e["$nil?"]())!==!1&&h!==c)return m.$expand_path(d)}return(h=(i=p!==!1&&p!==c)?(j=p["$=="](l.DOT),j===c||j===!1):i)!==!1&&h!==c&&(r=m.$join_path(o,p),(h=(i=e["$nil?"]())!==!1&&i!==c?i:r["$start_with?"](e))!==!1&&h!==c)?r:(d=(h=d.$to_s()["$empty?"]())!==!1&&h!==c?function(){return(h=e["$nil?"]())!==!1&&h!==c?m.working_dir:e}():(h=m["$is_root?"](d))!==!1&&h!==c?m.$posixfy(d):m.$system_path(d,e,e),e["$=="](d)?(h=a.to_ary(m.$partition_path(e)),s=null==h[0]?c:h[0],t=null==h[1]?c:h[1],q=null==h[2]?c:h[2],u=s.$dup()):(i=e["$nil?"](),(h=i===c||i===!1)!=!1&&h!==c?(i=d["$start_with?"](e),(h=i===c||i===!1)!=!1&&h!==c&&m.$raise(l.SecurityError,""+((h=g["$[]"]("target_name"))!==!1&&h!==c?h:"Start path")+" "+d+" is outside of jail: "+e+" (disallowed in safe mode)"),h=a.to_ary(m.$partition_path(d)),u=null==h[0]?c:h[0],v=null==h[1]?c:h[1],q=null==h[2]?c:h[2],h=a.to_ary(m.$partition_path(e)),s=null==h[0]?c:h[0],t=null==h[1]?c:h[1],q=null==h[2]?c:h[2]):(h=a.to_ary(m.$partition_path(d)),u=null==h[0]?c:h[0],v=null==h[1]?c:h[1],q=null==h[2]?c:h[2],t=v)),w=u.$dup(),x=!1,(h=(i=o).$each,h._p=(k=function(a){var d,f,h=k._s||this;return null==a&&(a=c),a["$=="](l.DOT_DOT)?(f=e["$nil?"](),(d=f===c||f===!1)!=!1&&d!==c?w.$length()["$>"](s.$length())?w.$pop():(f=n,(d=f===c||f===!1)!=!1&&d!==c?h.$raise(l.SecurityError,""+((d=g["$[]"]("target_name"))!==!1&&d!==c?d:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)"):(f=x,(d=f===c||f===!1)!=!1&&d!==c?(h.$warn("asciidoctor: WARNING: "+((d=g["$[]"]("target_name"))!==!1&&d!==c?d:"path")+" has illegal reference to ancestor of jail, auto-recovering"),x=!0):c)):w.$pop()):w.$push(a)},k._s=m,k),h).call(i),m.$join_path(w,t))},k.$web_path=function(b,d){var e,f,i,j=this,k=c,m=c,n=c,o=c,p=c;return null==d&&(d=c),b=j.$posixfy(b),d=j.$posixfy(d),k=c,((e=(f=j["$is_web_root?"](b))!==!1&&f!==c?f:d["$empty?"]())===!1||e===c)&&(b=""+d+l.SLASH+b,f=b["$include?"](":"),(e=f!==!1&&f!==c?b.$match(l.Asciidoctor._scope.REGEXP["$[]"]("uri_sniff")):f)!==!1&&e!==c&&(k=g["~"]["$[]"](0),b=b["$[]"](h(k.$length(),-1,!1)))),e=a.to_ary(j.$partition_path(b,!0)),m=null==e[0]?c:e[0],n=null==e[1]?c:e[1],o=null==e[2]?c:e[2],p=(e=(f=m).$opalInject,e._p=(i=function(a,b){{var d,e,f;i._s||this}return null==a&&(a=c),null==b&&(b=c),b["$=="](l.DOT_DOT)?(d=a["$empty?"]())!==!1&&d!==c?((d=(e=n!==!1&&n!==c)?(f=n["$=="](l.DOT),f===c||f===!1):e)===!1||d===c)&&a.$push(b):a["$[]"](-1)["$=="](l.DOT_DOT)?a.$push(b):a.$pop():a.$push(b),a},i._s=j,i),e).call(f,[]),(e=k["$nil?"]())!==!1&&e!==c?j.$join_path(p,n):""+k+j.$join_path(p,n)},k.$relative_path=function(a,b){var d,e,f=this,g=c;return e=f["$is_root?"](a),(d=e!==!1&&e!==c?f["$is_root?"](b):e)!==!1&&d!==c?(g=b.$chomp(f.file_separator).$length()["$+"](1),a["$[]"](h(g,-1,!1))):a},c}(i,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.klass,h=a.hash2,i=a.range;return function(b){var j=f(b,"Asciidoctor"),k=(j._proto,j._scope);!function(b,e){function f(){}var j,k=f=g(b,e,"Reader",f),l=f._proto,m=f._scope;return l.file=l.dir=l.lines=l.process_lines=l.look_ahead=l.eof=l.unescape_next_line=l.lineno=l.path=l.source_lines=c,function(a,b){function d(){}{var e=d=g(a,b,"Cursor",d),f=d._proto;d._scope}return e.$attr_accessor("file"),e.$attr_accessor("dir"),e.$attr_accessor("path"),e.$attr_accessor("lineno"),f.$initialize=function(a,b,d,e){var f=this;return null==b&&(b=c),null==d&&(d=c),null==e&&(e=c),f.file=a,f.dir=b,f.path=d,f.lineno=e},f.$line_info=function(){var a=this;return""+a.$path()+": line "+a.$lineno()},c}(k,null),k.$attr_reader("file"),k.$attr_reader("dir"),k.$attr_reader("path"),k.$attr_reader("lineno"),k.$attr_reader("source_lines"),k.$attr_accessor("process_lines"),l.$initialize=function(a,b,d){var e,f=this;return null==a&&(a=c),null==b&&(b=c),null==d&&(d=h(["normalize"],{normalize:!1})),(e=b["$nil?"]())!==!1&&e!==c?(f.file=f.dir=c,f.path="<stdin>",f.lineno=1):(e=b["$is_a?"](m.String))!==!1&&e!==c?(f.file=b,f.dir=m.File.$dirname(f.file),f.path=m.File.$basename(f.file),f.lineno=1):(f.file=b.$file(),f.dir=b.$dir(),f.path=(e=b.$path())!==!1&&e!==c?e:"<stdin>",((e=f.file["$nil?"]())===!1||e===c)&&((e=f.dir["$nil?"]())!==!1&&e!==c&&(f.dir=m.File.$dirname(f.file),f.dir["$=="](".")&&(f.dir=c)),(e=b.$path()["$nil?"]())!==!1&&e!==c&&(f.path=m.File.$basename(f.file))),f.lineno=(e=b.$lineno())!==!1&&e!==c?e:1),f.lines=function(){return(e=a["$nil?"]())!==!1&&e!==c?[]:f.$prepare_lines(a,d)}(),f.source_lines=f.lines.$dup(),f.eof=f.lines["$empty?"](),f.look_ahead=0,f.process_lines=!0,f.unescape_next_line=!1},l.$prepare_lines=function(b,d){var e,f;return null==d&&(d=h([],{})),(e=b["$is_a?"](null==(f=a.Object._scope.String)?a.cm("String"):f))!==!1&&e!==c?(e=d["$[]"]("normalize"))!==!1&&e!==c?m.Helpers.$normalize_lines_from_string(b):b.$each_line().$to_a():(e=d["$[]"]("normalize"))!==!1&&e!==c?m.Helpers.$normalize_lines_array(b):b.$dup()},l.$process_line=function(a){var b,d=this;return(b=d.process_lines)!==!1&&b!==c&&(d.look_ahead=d.look_ahead["$+"](1)),a},l["$has_more_lines?"]=function(){var a,b,d=this;return a=(b=d.eof)!==!1&&b!==c?b:d.eof=d.$peek_line()["$nil?"](),a===c||a===!1},l["$next_line_empty?"]=function(){var a,b=this,d=c;return(a=(d=b.$peek_line())["$nil?"]())!==!1&&a!==c?a:d["$empty?"]()},l.$peek_line=function(a){var b,d,e=this,f=c;return null==a&&(a=!1),(b=(d=a)!==!1&&d!==c?d:e.look_ahead["$>"](0))!==!1&&b!==c?(b=e.unescape_next_line)!==!1&&b!==c?e.lines.$first()["$[]"](i(1,-1,!1)):e.lines.$first():(b=(d=e.eof)!==!1&&d!==c?d:e.lines["$empty?"]())!==!1&&b!==c?(e.eof=!0,e.look_ahead=0,c):(b=(f=e.$process_line(e.lines.$first()))["$nil?"]())!==!1&&b!==c?e.$peek_line():f},l.$peek_lines=function(a,b){var e,f,g,h,j,k=this,l=c,m=c;return null==a&&(a=1),null==b&&(b=!0),l=k.look_ahead,m=[],(e=(f=i(1,a,!1)).$each,e._p=(g=function(){var a,e=g._s||this,f=c;return(a=f=e.$read_line(b))!==!1&&a!==c?m["$<<"](f):(d.$v=c,d)},g._s=k,g),e).call(f),((e=m["$empty?"]())===!1||e===c)&&((e=(h=m).$reverse_each,e._p=(j=function(a){var b=j._s||this;return null==a&&(a=c),b.$unshift(a)},j._s=k,j),e).call(h),b!==!1&&b!==c&&(k.look_ahead=l)),m},l.$read_line=function(a){var b,d,e,f=this;return null==a&&(a=!1),(b=(d=(e=a)!==!1&&e!==c?e:f.look_ahead["$>"](0))!==!1&&d!==c?d:f["$has_more_lines?"]())!==!1&&b!==c?f.$shift():c},l.$read_lines=function(){var a,b=this,d=c;for(d=[];(a=b["$has_more_lines?"]())!==!1&&a!==c;)d["$<<"](b.$read_line());return d},a.defn(k,"$readlines",l.$read_lines),l.$read=function(){var a=this;return a.$read_lines()["$*"](m.EOL)},l.$advance=function(a){var b,d=this;return null==a&&(a=!0),b=d.$read_line(a)["$nil?"](),b===c||b===!1},l.$unshift_line=function(a){var b=this;return b.$unshift(a),c},a.defn(k,"$restore_line",l.$unshift_line),l.$unshift_lines=function(a){var b,d,e,f=this;return(b=(d=a).$reverse_each,b._p=(e=function(a){var b=e._s||this;return null==a&&(a=c),b.$unshift(a)},e._s=f,e),b).call(d),c},a.defn(k,"$restore_lines",l.$unshift_lines),l.$replace_line=function(a){var b=this;return b.$advance(),b.$unshift(a),c},l.$skip_blank_lines=function(){var a,b,d=this,e=c,f=c;if((a=d["$eof?"]())!==!1&&a!==c)return 0;for(e=0;(b=f=d.$peek_line())!==!1&&b!==c;){if((b=f["$empty?"]())===!1||b===c)return e;d.$advance(),e=e["$+"](1)}return e},l.$skip_comment_lines=function(a){var b,d,e,f,g=this,i=c,j=c,k=c,l=c,n=c;if(null==a&&(a=h([],{})),(b=g["$eof?"]())!==!1&&b!==c)return[];for(i=[],j=a["$[]"]("include_blank_lines");(d=k=g.$peek_line())!==!1&&d!==c;)if((d=(e=j!==!1&&j!==c)?k["$empty?"]():e)!==!1&&d!==c)i["$<<"](g.$read_line());else if(e=l=k["$start_with?"]("//"),(d=e!==!1&&e!==c?n=k.$match(m.REGEXP["$[]"]("comment_blk")):e)!==!1&&d!==c)i["$<<"](g.$read_line()),(d=i).$push.apply(d,[].concat(g.$read_lines_until(h(["terminator","read_last_line","skip_processing"],{terminator:n["$[]"](0),read_last_line:!0,skip_processing:!0}))));else{if((e=(f=l!==!1&&l!==c)?k.$match(m.REGEXP["$[]"]("comment")):f)===!1||e===c)break;i["$<<"](g.$read_line())}return i},l.$skip_line_comments=function(){var a,b,d=this,e=c,f=c;if((a=d["$eof?"]())!==!1&&a!==c)return[];for(e=[];(b=f=d.$peek_line())!==!1&&b!==c&&(b=f.$match(m.REGEXP["$[]"]("comment")))!==!1&&b!==c;)e["$<<"](d.$read_line());return e},l.$terminate=function(){var a=this;return a.lineno=a.lineno["$+"](a.lines.$size()),a.lines.$clear(),a.eof=!0,a.look_ahead=0,c},l["$eof?"]=function(){var a,b=this;return a=b["$has_more_lines?"](),a===c||a===!1},a.defn(k,"$empty?",l["$eof?"]),l.$read_lines_until=j=function(b){var e,f,g,i,k,l=this,n=j._p,o=n||c,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c,y=c,z=c;for(null==b&&(b=h([],{})),j._p=null,p=[],(e=b["$[]"]("skip_first_line"))!==!1&&e!==c&&l.$advance(),f=l.process_lines,(e=f!==!1&&f!==c?b["$[]"]("skip_processing"):f)!==!1&&e!==c?(l.process_lines=!1,q=!0):q=!1,r=o!==c,(e=s=b["$[]"]("terminator"))!==!1&&e!==c?(t=!1,u=!1):(t=b["$[]"]("break_on_blank_lines"),u=b["$[]"]("break_on_list_continuation")),v=b["$[]"]("skip_line_comments"),w=!1,x=!1,y=!1;i=y,g=i===c||i===!1,(f=g!==!1&&g!==c?z=l.$read_line():g)!==!1&&f!==c;)y=function(){for(;(g=!0)!=!1&&g!==c;)return(g=(i=s!==!1&&s!==c)?z["$=="](s):i)!==!1&&g!==c?!0:(g=(i=t!==!1&&t!==c)?z["$empty?"]():i)!==!1&&g!==c?!0:(i=(k=u!==!1&&u!==c)?w:k,(g=i!==!1&&i!==c?z["$=="](m.LIST_CONTINUATION):i)!==!1&&g!==c?(b["$[]="]("preserve_last_line",!0),!0):(g=(i=r!==!1&&r!==c)?(k=a.$yield1(o,z))===d?d.$v:k:i)!==!1&&g!==c?!0:!1);return c}(),y!==!1&&y!==c?((f=b["$[]"]("read_last_line"))!==!1&&f!==c&&(p["$<<"](z),w=!0),(f=b["$[]"]("preserve_last_line"))!==!1&&f!==c&&(l.$restore_line(z),x=!0)):(g=(i=v!==!1&&v!==c)?z["$start_with?"]("//"):i,((f=g!==!1&&g!==c?z.$match(m.REGEXP["$[]"]("comment")):g)===!1||f===c)&&(p["$<<"](z),w=!0));return q!==!1&&q!==c&&(l.process_lines=!0,(e=(f=x!==!1&&x!==c)?s["$nil?"]():f)!==!1&&e!==c&&(l.look_ahead=l.look_ahead["$-"](1))),p},l.$shift=function(){var a,b=this;return b.lineno=b.lineno["$+"](1),((a=b.look_ahead["$=="](0))===!1||a===c)&&(b.look_ahead=b.look_ahead["$-"](1)),b.lines.$shift()},l.$unshift=function(a){var b=this;return b.lineno=b.lineno["$-"](1),b.look_ahead=b.look_ahead["$+"](1),b.eof=!1,b.lines.$unshift(a)},l.$cursor=function(){var a=this;return m.Cursor.$new(a.file,a.dir,a.path,a.lineno)},l.$line_info=function(){var a=this;return""+a.path+": line "+a.lineno},a.defn(k,"$next_line_info",l.$line_info),l.$prev_line_info=function(){var a=this;return""+a.path+": line "+a.lineno["$-"](1)},l.$lines=function(){var a=this;return a.lines.$dup()},l.$string=function(){var a=this;return a.lines["$*"](m.EOL)},l.$source=function(){var a=this;return a.source_lines["$*"](m.EOL)},l.$to_s=function(){var a=this;return a.$line_info()},c}(j,null),function(b,f){function j(){}var k,l,m,n,o=j=g(b,f,"PreprocessorReader",j),p=j._proto,q=j._scope;return p.document=p.lineno=p.process_lines=p.look_ahead=p.skipping=p.include_stack=p.conditional_stack=p.include_processors=p.maxdepth=p.dir=p.lines=p.file=p.path=p.includes=p.unescape_next_line=c,o.$attr_reader("include_stack"),o.$attr_reader("includes"),p.$initialize=k=function(b,d,e){var f,g,i,j=this,l=(k._p,c);return null==d&&(d=c),null==e&&(e=c),k._p=null,j.document=b,a.find_super_dispatcher(j,"initialize",k,null).apply(j,[d,e,h(["normalize"],{normalize:!0})]),l=b.$attributes().$fetch("max-include-depth",64).$to_i(),l["$<"](0)&&(l=0),j.maxdepth=h(["abs","rel"],{abs:l,rel:l}),j.include_stack=[],j.includes=(f="includes",g=b.$references(),(i=g["$[]"](f))!==!1&&i!==c?i:g["$[]="](f,[])),j.skipping=!1,j.conditional_stack=[],j.include_processors=c},p.$prepare_lines=l=function(b,d){var f,g,i,j,k=e.call(arguments,0),m=this,n=l._p,o=c,p=c,r=c,s=c,t=c;if(null==d&&(d=h([],{})),l._p=null,o=a.find_super_dispatcher(m,"prepare_lines",l,n).apply(m,k),((f=(g=m.document["$nil?"]())!==!1&&g!==c?g:(i=m.document.$attributes()["$has_key?"]("skip-front-matter"),i===c||i===!1))===!1||f===c)&&(f=p=m["$skip_front_matter!"](o))!==!1&&f!==c&&m.document.$attributes()["$[]="]("front-matter",p["$*"](q.EOL)),(f=d.$fetch("condense",!0))!==!1&&f!==c){for(;j=(r=o.$first())["$nil?"](),i=j===c||j===!1,(g=i!==!1&&i!==c?r["$empty?"]():i)!==!1&&g!==c;)g=o.$shift(),g!==!1&&g!==c?m.lineno=m.lineno["$+"](1):g;for(;j=(s=o.$last())["$nil?"](),i=j===c||j===!1,(g=i!==!1&&i!==c?s["$empty?"]():i)!==!1&&g!==c;)o.$pop()}return(f=t=d.$fetch("indent",c))!==!1&&f!==c&&q.Lexer["$reset_block_indent!"](o,t.$to_i()),o},p.$process_line=function(a){var b,d,e,f,g=this,h=c,j=c;return(b=g.process_lines)===!1||b===c?a:(b=a["$empty?"]())!==!1&&b!==c?(g.look_ahead=g.look_ahead["$+"](1),""):(b=a["$include?"]("::"),h=b!==!1&&b!==c?a["$include?"]("["):b,d=(e=h!==!1&&h!==c)?a["$include?"]("if"):e,(b=d!==!1&&d!==c?j=a.$match(q.REGEXP["$[]"]("ifdef_macro")):d)!==!1&&b!==c?(b=a["$start_with?"]("\\"))!==!1&&b!==c?(g.unescape_next_line=!0,g.look_ahead=g.look_ahead["$+"](1),a["$[]"](i(1,-1,!1))):(b=(d=g).$preprocess_conditional_inclusion.apply(d,[].concat(j.$captures())))!==!1&&b!==c?(g.$advance(),c):(g.look_ahead=g.look_ahead["$+"](1),a):(b=g.skipping)!==!1&&b!==c?(g.$advance(),c):(e=(f=h!==!1&&h!==c)?a["$include?"]("include::"):f,(b=e!==!1&&e!==c?j=a.$match(q.REGEXP["$[]"]("include_macro")):e)!==!1&&b!==c?(b=a["$start_with?"]("\\"))!==!1&&b!==c?(g.unescape_next_line=!0,g.look_ahead=g.look_ahead["$+"](1),a["$[]"](i(1,-1,!1))):(b=g.$preprocess_include(j["$[]"](1),j["$[]"](2).$strip()))!==!1&&b!==c?c:(g.look_ahead=g.look_ahead["$+"](1),a):(g.look_ahead=g.look_ahead["$+"](1),a)))
},p.$peek_line=m=function(b){var d,f=e.call(arguments,0),g=this,h=m._p,i=c;return null==b&&(b=!1),m._p=null,(d=i=a.find_super_dispatcher(g,"peek_line",m,h).apply(g,f))!==!1&&d!==c?i:(d=g.include_stack["$empty?"]())!==!1&&d!==c?c:(g.$pop_include(),g.$peek_line(b))},p.$preprocess_conditional_inclusion=function(a,b,d,e){var f,g,i,j,k,l,m,n,o,p,r,s=this,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c,B=c;if(i=(j=a["$=="]("ifdef"))!==!1&&j!==c?j:a["$=="]("ifndef"),(f=(g=i!==!1&&i!==c?b["$empty?"]():i)!==!1&&g!==c?g:(i=a["$=="]("endif"))?(j=e["$nil?"](),j===c||j===!1):i)!==!1&&f!==c)return!1;if(a["$=="]("endif"))return t=s.conditional_stack.$size(),t["$>"](0)?(u=s.conditional_stack.$last(),(f=(g=b["$empty?"]())!==!1&&g!==c?g:b["$=="](u["$[]"]("target")))!==!1&&f!==c?(s.conditional_stack.$pop(),s.skipping=function(){return(f=s.conditional_stack["$empty?"]())!==!1&&f!==c?!1:s.conditional_stack.$last()["$[]"]("skipping")}()):s.$warn("asciidoctor: ERROR: "+s.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+u["$[]"]("target")+"[]")):s.$warn("asciidoctor: ERROR: "+s.$line_info()+": unmatched macro: endif::"+b+"[]"),!0;if(v=!1,(f=s.skipping)===!1||f===c)if(w=a,"ifdef"["$==="](w))w=d,c["$==="](w)?(f=s.document.$attributes()["$has_key?"](b),v=f===c||f===!1):","["$==="](w)?(f=(g=(i=b.$split(",")).$detect,g._p=(k=function(a){var b=k._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),b.document.$attributes()["$has_key?"](a)},k._s=s,k),g).call(i),v=f===c||f===!1):"+"["$==="](w)&&(v=(f=(g=b.$split("+")).$detect,f._p=(l=function(a){var b,d=l._s||this;return null==d.document&&(d.document=c),null==a&&(a=c),b=d.document.$attributes()["$has_key?"](a),b===c||b===!1},l._s=s,l),f).call(g));else if("ifndef"["$==="](w))w=d,c["$==="](w)?v=s.document.$attributes()["$has_key?"](b):","["$==="](w)?(f=(j=(m=b.$split(",")).$detect,j._p=(n=function(a){var b,d=n._s||this;return null==d.document&&(d.document=c),null==a&&(a=c),b=d.document.$attributes()["$has_key?"](a),b===c||b===!1},n._s=s,n),j).call(m),v=f===c||f===!1):"+"["$==="](w)&&(v=(f=(j=b.$split("+")).$detect,f._p=(o=function(a){var b=o._s||this;return null==b.document&&(b.document=c),null==a&&(a=c),b.document.$attributes()["$has_key?"](a)},o._s=s,o),f).call(j));else if("ifeval"["$==="](w)){if(r=b["$empty?"](),(f=(p=r===c||r===!1)!=!1&&p!==c?p:(r=x=e.$strip().$match(q.REGEXP["$[]"]("eval_expr")),r===c||r===!1))!==!1&&f!==c)return!1;y=s.$resolve_expr_val(x["$[]"](1)),z=x["$[]"](2),A=s.$resolve_expr_val(x["$[]"](3)),f=y.$send(z.$to_sym(),A),v=f===c||f===!1}if((f=(p=a["$=="]("ifeval"))!==!1&&p!==c?p:e["$nil?"]())!==!1&&f!==c)v!==!1&&v!==c&&(s.skipping=!0),s.conditional_stack["$<<"](h(["target","skip","skipping"],{target:b,skip:v,skipping:s.skipping}));else if((f=(p=s.skipping)!==!1&&p!==c?p:v)===!1||f===c)return B=s.$peek_line(!0),s.$replace_line(e.$rstrip()),s.$unshift(B),!0;return!0},p.$preprocess_include=function(b,e){var f,g,i,j,k,l,m,n,o,p,r,s=this,t=c,u=c,v=c,w=c,x=c,y=c,z=c,A=c,B=c,C=c,D=c,E=c,F=c,G=c;if(b=s.document.$sub_attributes(b,h(["attribute_missing"],{attribute_missing:"drop-line"})),(f=b["$empty?"]())!==!1&&f!==c)return s.document.$attributes().$fetch("attribute-missing",q.Compliance.$attribute_missing())["$=="]("skip")?!1:(s.$advance(),!0);if(g=s["$include_processors?"](),(f=g!==!1&&g!==c?t=(i=(j=s.include_processors).$find,i._p=(k=function(a){k._s||this;return null==a&&(a=c),a["$handles?"](b)},k._s=s,k),i).call(j):g)!==!1&&f!==c)return s.$advance(),t.$process(s,b,q.AttributeList.$new(e).$parse()),!0;if(s.document.$safe()["$>="](q.SafeMode._scope.SECURE))return s.$replace_line("link:"+b+"[]"),!0;if((f=(g=(u=s.maxdepth["$[]"]("abs"))["$>"](0))?s.include_stack.$size()["$>="](u):g)!==!1&&f!==c)return s.$warn("asciidoctor: ERROR: "+s.$line_info()+": maximum include depth of "+s.maxdepth["$[]"]("rel")+" exceeded"),!1;if(u["$>"](0)){if(g=b["$include?"](":"),(f=g!==!1&&g!==c?b.$match(q.REGEXP["$[]"]("uri_sniff")):g)!==!1&&f!==c){if((f=s.document.$attributes()["$has_key?"]("allow-uri-read"))===!1||f===c)return s.$replace_line("link:"+b+"[]"),!0;v="uri",w=x=b,(f=s.document.$attributes()["$has_key?"]("cache-uri"))!==!1&&f!==c?q.Helpers.$require_library("open-uri/cached","open-uri-cached"):null==(f=a.Object._scope.OpenURI)?a.cm("OpenURI"):f}else{if(v="file",w=s.document.$normalize_system_path(b,s.dir,c,h(["target_name"],{target_name:"include file"})),g=q.File["$file?"](w),(f=g===c||g===!1)!=!1&&f!==c)return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include file not found: "+w),s.$advance(),!0;x=q.PathResolver.$new().$relative_path(w,s.document.$base_dir())}if(y=c,z=c,A=h([],{}),g=e["$empty?"](),(f=g===c||g===!1)!=!1&&f!==c&&(A=q.AttributeList.$new(e).$parse(),(f=A["$has_key?"]("lines"))!==!1&&f!==c?(y=[],(f=(g=A["$[]"]("lines").$split(q.REGEXP["$[]"]("ssv_or_csv_delim"))).$each,f._p=(l=function(b){var d,e,f,g=(l._s||this,c),h=c;return null==b&&(b=c),(d=b["$include?"](".."))!==!1&&d!==c?(d=a.to_ary((e=(f=b.$split("..")).$map,e._p="to_i".$to_proc(),e).call(f)),g=null==d[0]?c:d[0],h=null==d[1]?c:d[1],h["$=="](-1)?(y["$<<"](g),y["$<<"](1["$/"](0))):y.$concat(q.Range.$new(g,h).$to_a())):y["$<<"](b.$to_i())},l._s=s,l),f).call(g),y=y.$sort().$uniq()):(f=A["$has_key?"]("tag"))!==!1&&f!==c?z=[A["$[]"]("tag")].$to_set():(f=A["$has_key?"]("tags"))!==!1&&f!==c&&(z=A["$[]"]("tags").$split(q.REGEXP["$[]"]("ssv_or_csv_delim")).$uniq().$to_set())),i=y["$nil?"](),(f=i===c||i===!1)!=!1&&f!==c){if(i=y["$empty?"](),(f=i===c||i===!1)!=!1&&f!==c){B=[],C=0,D=0;try{(f=(i=s).$open,f._p=(m=function(a){var b,e,f,g=m._s||this;return null==a&&(a=c),(b=(e=a).$each_line,b._p=(f=function(b){var e,g,h=(f._s||this,c);return null==b&&(b=c),D=D["$+"](1),h=y.$first(),g=h["$is_a?"](q.Float),(e=g!==!1&&g!==c?h["$infinite?"]():g)!==!1&&e!==c?(B.$push(b),C["$=="](0)?C=D:c):(a.$lineno()["$=="](h)&&(B.$push(b),C["$=="](0)&&(C=D),y.$shift()),(e=y["$empty?"]())!==!1&&e!==c?(d.$v=c,d):c)},f._s=g,f),b).call(e)},m._s=s,m),f).call(i,w,"r")}catch(H){return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include "+v+" not readable: "+w),s.$advance(),!0}s.$advance(),s.$push_include(B,w,x,C,A)}}else if(n=z["$nil?"](),(f=n===c||n===!1)!=!1&&f!==c){if(n=z["$empty?"](),(f=n===c||n===!1)!=!1&&f!==c){B=[],C=0,D=0,E=c,F=q.Set.$new();try{(f=(n=s).$open,f._p=(o=function(b){var e,f,g,h=o._s||this;return null==b&&(b=c),(e=(f=b).$each_line,e._p=(g=function(b){var e,f,h,i=g._s||this;return null==b&&(b=c),D=D["$+"](1),(e=q.FORCE_ENCODING)!==!1&&e!==c&&b.$force_encoding((null==(e=a.Object._scope.Encoding)?a.cm("Encoding"):e)._scope.UTF_8),f=E["$nil?"](),(e=f===c||f===!1)!=!1&&e!==c?(e=b["$include?"]("end::"+E+"[]"))!==!1&&e!==c?E=c:(B.$push(b),C["$=="](0)?C=D:c):(e=(f=z).$each,e._p=(h=function(a){{var e;h._s||this}return null==a&&(a=c),(e=b["$include?"]("tag::"+a+"[]"))!==!1&&e!==c?(E=a,F["$<<"](a),d.$v=c,d):c},h._s=i,h),e).call(f)},g._s=h,g),e).call(f)},o._s=s,o),f).call(n,w,"r")}catch(H){return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include "+v+" not readable: "+w),s.$advance(),!0}((f=(G=z["$-"](F))["$empty?"]())===!1||f===c)&&s.$warn("asciidoctor: WARNING: "+s.$line_info()+": tag"+function(){return G.$size()["$>"](1)?"s":c}()+" '"+G.$to_a()["$*"](",")+"' not found in include "+v+": "+w),s.$advance(),s.$push_include(B,w,x,C,A)}}else try{s.$advance(),s.$push_include((f=(p=s).$open,f._p=(r=function(a){r._s||this;return null==a&&(a=c),a.$read()},r._s=s,r),f).call(p,w,"r"),w,x,1,A)}catch(H){return s.$warn("asciidoctor: WARNING: "+s.$line_info()+": include "+v+" not readable: "+w),s.$advance(),!0}return!0}return!1},p.$push_include=function(a,b,d,e,f){var g,i=this,j=c;return null==b&&(b=c),null==d&&(d=c),null==e&&(e=1),null==f&&(f=h([],{})),i.include_stack["$<<"]([i.lines,i.file,i.dir,i.path,i.lineno,i.maxdepth,i.process_lines]),i.includes["$<<"](q.Helpers.$rootname(d)),i.file=b,i.dir=q.File.$dirname(b),i.path=d,i.lineno=e,i.process_lines=q.ASCIIDOC_EXTENSIONS["$[]"](q.File.$extname(i.file)),(g=f["$has_key?"]("depth"))!==!1&&g!==c&&(j=f["$[]"]("depth").$to_i(),j["$<="](0)&&(j=1),i.maxdepth=h(["abs","rel"],{abs:i.include_stack.$size()["$-"](1)["$+"](j),rel:j})),i.lines=i.$prepare_lines(a,h(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:f["$[]"]("indent")})),(g=i.lines["$empty?"]())!==!1&&g!==c?i.$pop_include():(i.eof=!1,i.look_ahead=0),c},p.$pop_include=function(){var b,d=this;return d.include_stack.$size()["$>"](0)&&(b=a.to_ary(d.include_stack.$pop()),d.lines=null==b[0]?c:b[0],d.file=null==b[1]?c:b[1],d.dir=null==b[2]?c:b[2],d.path=null==b[3]?c:b[3],d.lineno=null==b[4]?c:b[4],d.maxdepth=null==b[5]?c:b[5],d.process_lines=null==b[6]?c:b[6],d.eof=d.lines["$empty?"](),d.look_ahead=0),c},p.$include_depth=function(){var a=this;return a.include_stack.$size()},p["$exceeded_max_depth?"]=function(){var a,b,d=this,e=c;return(a=(b=(e=d.maxdepth["$[]"]("abs"))["$>"](0))?d.include_stack.$size()["$>="](e):b)!==!1&&a!==c?d.maxdepth["$[]"]("rel"):!1},p.$shift=n=function(){var b,d=e.call(arguments,0),f=this,g=n._p;return n._p=null,(b=f.unescape_next_line)!==!1&&b!==c?(f.unescape_next_line=!1,a.find_super_dispatcher(f,"shift",n,g).apply(f,d)["$[]"](i(1,-1,!1))):a.find_super_dispatcher(f,"shift",n,g).apply(f,d)},p["$skip_front_matter!"]=function(a,b){var d,e,f,g,h=this,i=c,j=c;if(null==b&&(b=!0),i=c,(d=(e=a.$size()["$>"](0))?a.$first()["$=="]("---"):e)!==!1&&d!==c){for(j=a.$dup(),i=[],a.$shift(),b!==!1&&b!==c&&(h.lineno=h.lineno["$+"](1));g=a["$empty?"](),f=g===c||g===!1,(e=f!==!1&&f!==c?(g=a.$first()["$=="]("---"),g===c||g===!1):f)!==!1&&e!==c;)i.$push(a.$shift()),b!==!1&&b!==c&&(h.lineno=h.lineno["$+"](1));(d=a["$empty?"]())!==!1&&d!==c?((d=a).$unshift.apply(d,[].concat(j)),b!==!1&&b!==c&&(h.lineno=0),i=c):(a.$shift(),b!==!1&&b!==c&&(h.lineno=h.lineno["$+"](1)))}return i},p.$resolve_expr_val=function(a){var b,d,e,f=this,g=c,h=c;return g=a,h=c,e=g["$start_with?"]('"'),(b=(d=e!==!1&&e!==c?g["$end_with?"]('"'):e)!==!1&&d!==c?d:(e=g["$start_with?"]("'"),e!==!1&&e!==c?g["$end_with?"]("'"):e))!==!1&&b!==c&&(h="string",g=g["$[]"](i(1,-1,!0))),(b=g["$include?"]("{"))!==!1&&b!==c&&(g=f.document.$sub_attributes(g)),((b=h["$=="]("string"))===!1||b===c)&&(g=(b=g["$empty?"]())!==!1&&b!==c?c:(b=g.$strip()["$empty?"]())!==!1&&b!==c?" ":g["$=="]("true")?!0:g["$=="]("false")?!1:(b=g["$include?"]("."))!==!1&&b!==c?g.$to_f():g.$to_i()),g},p["$include_processors?"]=function(){var a,b,d=this;return(a=d.include_processors["$nil?"]())!==!1&&a!==c?(b=d.document["$extensions?"](),(a=b!==!1&&b!==c?d.document.$extensions()["$include_processors?"]():b)!==!1&&a!==c?(d.include_processors=d.document.$extensions().$load_include_processors(d.document),!0):(d.include_processors=!1,!1)):(a=d.include_processors["$=="](!1),a===c||a===!1)},p.$to_s=function(){var a,b,d,e=this;return""+e.$class().$name()+" [path: "+e.path+", line #: "+e.lineno+", include depth: "+e.include_stack.$size()+", include stack: ["+(a=(b=e.include_stack).$map,a._p=(d=function(a){d._s||this;return null==a&&(a=c),a.$to_s()},d._s=e,d),a).call(b).$join(", ")+"]]"},c}(j,k.Reader)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.module),e=a.klass,f=a.hash2;return function(b){{var g=d(b,"Asciidoctor");g._proto,g._scope}!function(b,d){function g(){}var h=g=e(b,d,"BaseTemplate",g),i=g._proto,j=g._scope;return i.view=c,h.$attr_reader("view"),h.$attr_reader("backend"),h.$attr_reader("eruby"),i.$initialize=function(a,b,c){var d=this;return d.view=a,d.backend=b,d.eruby=c},a.defs(h,"$inherited",function(a){var b,d=this;return null==d.template_classes&&(d.template_classes=c),d["$=="](j.BaseTemplate)?((b=d.template_classes)!==!1&&b!==c?b:d.template_classes=[],d.template_classes["$<<"](a)):d.$superclass().$inherited(a)}),a.defs(h,"$template_classes",function(){var a=this;return null==a.template_classes&&(a.template_classes=c),a.template_classes}),i.$render=function(a,b){var d,e,g,h,i=this,k=c,l=c,m=c;return null==a&&(a=j.Object.$new()),null==b&&(b=f([],{})),k=i.$template(),l=k,"invoke_result"["$==="](l)?i.$result(a):(m="content"["$==="](l)?a.$content():k.$result(a.$get_binding(i)),g=(h=i.view["$=="]("document"))!==!1&&h!==c?h:i.view["$=="]("embedded"),e=g!==!1&&g!==c?a.$renderer().$compact():g,(d=e!==!1&&e!==c?(g=a.$document()["$nested?"](),g===c||g===!1):e)!==!1&&d!==c?i.$compact(m):m)},i.$compact=function(a){return a.$gsub(j.BLANK_LINE_PATTERN,"").$gsub(j.LINE_FEED_ENTITY,j.EOL)},i.$preserve_endlines=function(a,b){var d;return(d=b.$renderer().$compact())!==!1&&d!==c?a.$gsub(j.EOL,j.LINE_FEED_ENTITY):a},i.$template=function(){var a=this;return a.$raise("You chilluns need to make your own template")},i.$attribute=function(a,b){var d,e=c;return e=function(){return(d=b["$is_a?"](j.Symbol))!==!1&&d!==c?"attr":"var"}(),e["$=="]("attr")?"<% if attr? '"+b+"' %> "+a+"=\"<%= attr '"+b+"' %>\"<% end %>":"<% if "+b+" %> "+a+'="<%= '+b+' %>"<% end %>'},c}(g,null),function(b){{var c=d(b,"EmptyTemplate"),e=c._proto;c._scope}e.$result=function(){return""},e.$template=function(){return"invoke_result"},a.donate(c,["$result","$template"])}(g)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=a.breaker,e=a.slice,f=a.module,g=a.klass,h=a.hash2;return function(b){{var i=f(b,"Asciidoctor");i._proto,i._scope}!function(b,d){function e(){}var f=e=g(b,d,"Renderer",e),i=e._proto,j=e._scope;return i.views=i.chomp_result=c,a.cdecl(j,"RE_ASCIIDOCTOR_NAMESPACE",/^Asciidoctor::/),a.cdecl(j,"RE_TEMPLATE_CLASS_SUFFIX",/Template$/),a.cdecl(j,"RE_CAMELCASE_BOUNDARY_1",/([[:upper:]]+)([[:upper:]][a-zA-Z])/),a.cdecl(j,"RE_CAMELCASE_BOUNDARY_2",/([[:lower:]])([[:upper:]])/),f.$attr_reader("compact"),f.$attr_reader("cache"),a.cvars["@@global_cache"]=c,i.$initialize=function(b){var d,e,f,g,i,k,l,m,n,o=this,p=c,q=c,r=c,s=c,t=c,u=c,v=c,w=c,x=c;return null==b&&(b=h([],{})),o.debug=(e=b["$[]"]("debug"),d=e===c||e===!1,d===c||d===!1),o.views=h([],{}),o.compact=b["$[]"]("compact"),o.cache=c,o.chomp_result=!1,p=b["$[]"]("backend"),(d=null==(e=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):e)!==!1&&d!==c?((d=(e=(null==(g=a.Object._scope.Template)?a.cm("Template"):g).$instance_variable_get("@_cache")).$each,d._p=(f=function(a,b){var d=f._s||this;return null==d.views&&(d.views=c),null==a&&(a=c),null==b&&(b=c),d.views["$[]="](j.File.$basename(a),b)},f._s=o,f),d).call(e),c):(q=p,"html5"["$==="](q)||"docbook45"["$==="](q)||"docbook5"["$==="](q)?(r=o.$load_eruby(b["$[]"]("eruby")),(d=(g=j.BaseTemplate.$template_classes()).$each,d._p=(i=function(b){var d,e=i._s||this,f=c,g=c;return null==e.views&&(e.views=c),null==b&&(b=c),(d=b.$to_s().$downcase()["$include?"]("::"["$+"](p)["$+"]("::")))!==!1&&d!==c?(d=a.to_ary(e.$class().$extract_view_mapping(b)),f=null==d[0]?c:d[0],g=null==d[1]?c:d[1],g["$=="](p)?e.views["$[]="](f,b.$new(f,p,r)):c):c},i._s=o,i),d).call(g)):(d=(k=j.Debug).$debug,d._p=(l=function(){l._s||this;return"No built-in templates for backend: "+p},l._s=o,l),d).call(k),(d=s=b.$delete("template_dirs"))!==!1&&d!==c?(j.Helpers.$require_library("tilt"),o.chomp_result=!0,(d=(t=b["$[]"]("template_cache"))["$==="](!0))!==!1&&d!==c?o.cache=(d=null==(m=a.cvars["@@global_cache"])?c:m)!==!1&&d!==c?d:a.cvars["@@global_cache"]=j.TemplateCache.$new():t!==!1&&t!==c&&(o.cache=t),u=h(["erb","haml","slim"],{erb:h(["trim"],{trim:"<"}),haml:h(["format","attr_wrapper","ugly","escape_attrs"],{format:"xhtml",attr_wrapper:'"',ugly:!0,escape_attrs:!1}),slim:h(["disable_escape","sort_attrs","pretty"],{disable_escape:!0,sort_attrs:!1,pretty:!1})}),b["$[]"]("htmlsyntax")["$=="]("html")&&u["$[]"]("haml")["$[]="]("format",u["$[]"]("slim")["$[]="]("format","html5")),v=!1,w=j.PathResolver.$new(),x=b["$[]"]("template_engine"),(d=(m=s).$each,d._p=(n=function(a){var b,d,e,f,g,i,k=n._s||this,l=c,m=c,o=c;return null==k.cache&&(k.cache=c),null==k.views&&(k.views=c),null==a&&(a=c),a=w.$system_path(a,c),l="*",x!==!1&&x!==c&&(l="*."+x,(b=j.File["$directory?"](j.File.$join(a,x)))!==!1&&b!==c&&(a=j.File.$join(a,x))),(b=j.File["$directory?"](j.File.$join(a,p)))!==!1&&b!==c&&(a=j.File.$join(a,p)),d=k.cache,(b=d!==!1&&d!==c?k.cache["$cached?"]("scan",a,l):d)!==!1&&b!==c?(k.views.$update(k.cache.$fetch("scan",a,l)),c):(m=c,o=h([],{}),(b=(d=(f=(g=j.Dir.$glob(j.File.$join(a,l))).$select,f._p=(i=function(a){i._s||this;return null==a&&(a=c),j.File["$file?"](a)},i._s=k,i),f).call(g)).$each,b._p=(e=function(a){var b,d,f,g,h=e._s||this,i=c,k=c,l=c,n=c,p=c;return null==h.cache&&(h.cache=c),null==h.views&&(h.views=c),null==a&&(a=c),i=j.File.$basename(a),i["$=="]("helpers.rb")?(m=a,c):(k=i.$split("."),k.$size()["$<"](2)?c:(l=k.$first(),n=k.$last(),(b=(d=n["$=="]("slim"))?(f=v,f===c||f===!1):d)!==!1&&b!==c&&j.Helpers.$require_library("slim"),(b=j.Tilt["$registered?"](n))===!1||b===c?c:(p=u["$[]"](n.$to_sym()),(b=h.cache)!==!1&&b!==c?h.views["$[]="](l,o["$[]="](l,(b=(d=h.cache).$fetch,b._p=(g=function(){g._s||this;return j.Tilt.$new(a,c,p)},g._s=h,g),b).call(d,"view",a))):h.views["$[]="](l,j.Tilt.$new(a,c,p)))))},e._s=k,e),b).call(d),(b=m["$nil?"]())===!1||b===c,(b=k.cache)!==!1&&b!==c?k.cache.$store(o,"scan",a,l):c)},n._s=o,n),d).call(m)):c)},i.$render=function(a,b,d){var e,f,g=this;return null==d&&(d=h([],{})),f=g.views["$has_key?"](a),(e=f===c||f===!1)!=!1&&e!==c&&g.$raise("Couldn't find a view in @views for "+a),(e=g.chomp_result)!==!1&&e!==c?g.views["$[]"](a).$render(b,d).$chomp():g.views["$[]"](a).$render(b,d)},i.$views=function(){var a=this,b=c;return b=a.views.$dup(),b.$freeze(),b},i.$register_view=function(a,b){var c=this;return c.views["$[]="](a,b)},i.$load_eruby=function(b){var d,e,f;return(d=(e=b["$nil?"]())!==!1&&e!==c?e:(f=["erb","erubis"]["$include?"](b),f===c||f===!1))!==!1&&d!==c&&(b="erb"),b["$=="]("erb")?null==(d=a.Object._scope.ERB)?a.cm("ERB"):d:b["$=="]("erubis")?(j.Helpers.$require_library("erubis"),(null==(d=a.Object._scope.Erubis)?a.cm("Erubis"):d)._scope.FastEruby):c},a.defs(f,"$global_cache",function(){var b;return null==(b=a.cvars["@@global_cache"])?c:b}),a.defs(f,"$reset_global_cache",function(){var b,d;return(b=null==(d=a.cvars["@@global_cache"])?c:d)!==!1&&b!==c?(null==(b=a.cvars["@@global_cache"])?c:b).$clear():c}),a.defs(f,"$extract_view_mapping",function(b){var d,e=this,f=c,g=c;return d=a.to_ary(b.$to_s().$sub(j.RE_ASCIIDOCTOR_NAMESPACE,"").$sub(j.RE_TEMPLATE_CLASS_SUFFIX,"").$split("::").$reverse()),f=null==d[0]?c:d[0],g=null==d[1]?c:d[1],f=e.$camelcase_to_underscore(f),((d=g["$nil?"]())===!1||d===c)&&(g=g.$downcase()),[f,g]}),a.defs(f,"$camelcase_to_underscore",function(a){return a.$gsub(j.RE_CAMELCASE_BOUNDARY_1,"1_2").$gsub(j.RE_CAMELCASE_BOUNDARY_2,"1_2").$downcase()}),c}(i,null),function(b,f){function i(){}{var j,k=i=g(b,f,"TemplateCache",i),l=i._proto;i._scope}return l.cache=c,k.$attr_reader("cache"),l.$initialize=function(){var a=this;return a.cache=h([],{})},l["$cached?"]=function(a){var b=this;return a=e.call(arguments,0),b.cache["$has_key?"](a)},l.$fetch=j=function(b){var f,g,h,i,k=this,l=j._p,m=l||c;return b=e.call(arguments,0),j._p=null,m!==c?(f=b,g=k.cache,(h=g["$[]"](f))!==!1&&h!==c?h:g["$[]="](f,(i=a.$yieldX(m,[]))===d?d.$v:i)):k.cache["$[]"](b)},l.$store=function(a,b){var c=this;return b=e.call(arguments,1),c.cache["$[]="](b,a)},l.$clear=function(){var a=this;return a.cache=h([],{})},c}(i,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.range;return function(b){var h=e(b,"Asciidoctor"),i=(h._proto,h._scope);!function(b,e){function h(){}var i,j,k,l=h=f(b,e,"Section",h),m=h._proto,n=h._scope;return m.level=m.document=m.parent=m.number=m.title=m.numbered=m.blocks=c,l.$attr_accessor("index"),l.$attr_accessor("number"),l.$attr_accessor("sectname"),l.$attr_accessor("special"),l.$attr_accessor("numbered"),m.$initialize=i=function(b,d,e){{var f,g,h,j=this;i._p}return null==b&&(b=c),null==d&&(d=c),null==e&&(e=!0),i._p=null,a.find_super_dispatcher(j,"initialize",i,null).apply(j,[b,"section"]),j.template_name="section",(f=d["$nil?"]())!==!1&&f!==c?(g=b["$nil?"](),(f=g===c||g===!1)!=!1&&f!==c?j.level=b.$level()["$+"](1):(f=j.level["$nil?"]())!==!1&&f!==c&&(j.level=1)):j.level=d,j.numbered=(f=e!==!1&&e!==c)?j.level["$>"](0):f,j.special=(h=b["$nil?"](),g=h===c||h===!1,f=g!==!1&&g!==c?b.$context()["$=="]("section"):g,f!==!1&&f!==c?b.$special():f),j.index=0,j.number=1},a.defn(l,"$name",m.$title),m.$generate_id=function(){var a,b,d=this,e=c,f=c,h=c,i=c,j=c;if((a=d.document.$attributes()["$has_key?"]("sectids"))!==!1&&a!==c){if(e=(a=d.document.$attributes()["$[]"]("idseparator"))!==!1&&a!==c?a:"_",f=(a=d.document.$attributes()["$[]"]("idprefix"))!==!1&&a!==c?a:"_",h=""+f+d.$title().$downcase().$gsub(n.REGEXP["$[]"]("illegal_sectid_chars"),e).$tr_s(e,e).$chomp(e),b=f["$empty?"](),(a=b!==!1&&b!==c?h["$start_with?"](e):b)!==!1&&a!==c)for(h=h["$[]"](g(1,-1,!1));(b=h["$start_with?"](e))!==!1&&b!==c;)h=h["$[]"](g(1,-1,!1));for(i=h,j=2;(b=d.document.$references()["$[]"]("ids")["$has_key?"](i))!==!1&&b!==c;)i=""+h+e+j,j=j["$+"](1);return i}return c},m.$sectnum=function(a,b){var d,e,f,g,h,i=this;return null==a&&(a="."),null==b&&(b=c),(d=b)!==!1&&d!==c?d:b=function(){return b["$=="](!1)?"":a}(),h=i.level["$nil?"](),g=h===c||h===!1,f=g!==!1&&g!==c?i.level["$>"](1):g,e=f!==!1&&f!==c?(g=i.parent["$nil?"](),g===c||g===!1):f,(d=e!==!1&&e!==c?i.parent.$context()["$=="]("section"):e)!==!1&&d!==c?""+i.parent.$sectnum(a)+i.number+b:""+i.number+b},m["$<<"]=j=function(b){var e=d.call(arguments,0),f=this,g=j._p;return j._p=null,a.find_super_dispatcher(f,"<<",j,g).apply(f,e),b.$context()["$=="]("section")?f.$assign_index(b):c},m.$to_s=k=function(){var b,e=d.call(arguments,0),f=this,g=k._p;return k._p=null,(b=f.title)!==!1&&b!==c?(b=f.numbered)!==!1&&b!==c?""+a.find_super_dispatcher(f,"to_s",k,g).apply(f,e).$to_s()+" - "+f.$sectnum()+" "+f.title+" [blocks:"+f.blocks.$size()+"]":""+a.find_super_dispatcher(f,"to_s",k,g).apply(f,e).$to_s()+" - "+f.title+" [blocks:"+f.blocks.$size()+"]":a.find_super_dispatcher(f,"to_s",k,g).apply(f,e).$to_s()},c}(h,i.AbstractBlock)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice),e=a.module,f=a.klass,g=a.hash2,h=a.range;return function(b){var i=e(b,"Asciidoctor"),j=(i._proto,i._scope);!function(b,d){function e(){}var h,i=e=f(b,d,"Table",e),j=e._proto,k=e._scope;return j.attributes=j.document=j.has_header_option=j.rows=j.columns=c,function(a,b){function d(){}{var e=d=f(a,b,"Rows",d),g=d._proto;d._scope}return e.$attr_accessor("head","foot","body"),g.$initialize=function(a,b,c){var d=this;return null==a&&(a=[]),null==b&&(b=[]),null==c&&(c=[]),d.head=a,d.foot=b,d.body=c},g["$[]"]=function(a){var b=this;return b.$send(a)},c}(i,null),a.cdecl(k,"DEFAULT_DATA_FORMAT","psv"),a.cdecl(k,"DATA_FORMATS",["psv","dsv","csv"]),a.cdecl(k,"DEFAULT_DELIMITERS",g(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","})),a.cdecl(k,"TEXT_STYLES",g(["d","s","e","m","h","l","v","a"],{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"})),a.cdecl(k,"ALIGNMENTS",g(["h","v"],{h:g(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:g(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})})),i.$attr_accessor("columns"),i.$attr_accessor("rows"),i.$attr_accessor("has_header_option"),j.$initialize=h=function(b,d){var e,f,g,i,j=this,l=(h._p,c),m=c;return h._p=null,a.find_super_dispatcher(j,"initialize",h,null).apply(j,[b,"table"]),j.rows=k.Rows.$new(),j.columns=[],j.has_header_option=d["$has_key?"]("header-option"),l=d["$[]"]("width"),m=l.$to_i().$abs(),(e=(f=(g=m["$=="](0))?(i=l["$=="]("0"),i===c||i===!1):g)!==!1&&f!==c?f:m["$>"](100))!==!1&&e!==c&&(m=100),j.attributes["$[]="]("tablepcwidth",m),(e=j.document.$attributes()["$has_key?"]("pagewidth"))!==!1&&e!==c?(e="tableabswidth",f=j.attributes,(g=f["$[]"](e))!==!1&&g!==c?g:f["$[]="](e,j.attributes["$[]"]("tablepcwidth").$to_f()["$/"](100)["$*"](j.document.$attributes()["$[]"]("pagewidth")).$round())):c},j["$header_row?"]=function(){var a,b=this;return a=b.has_header_option,a!==!1&&a!==c?b.rows.$body().$size()["$=="](0):a},j.$create_columns=function(a){var b,d,e,f,g,h=this,i=c,j=c;return i=0,h.columns=(b=(d=a).$opalInject,b._p=(e=function(a,b){var d=e._s||this;return null==a&&(a=c),null==b&&(b=c),i=i["$+"](b["$[]"]("width")),a["$<<"](k.Column.$new(d,a.$size(),b)),a},e._s=h,e),b).call(d,[]),f=h.columns["$empty?"](),(b=f===c||f===!1)!=!1&&b!==c&&(h.attributes["$[]="]("colcount",h.columns.$size()),j=100["$/"](h.columns.$size()).$floor(),(b=(f=h.columns).$each,b._p=(g=function(a){g._s||this;return null==a&&(a=c),a.$assign_width(i,j)},g._s=h,g),b).call(f)),c},j.$partition_header_footer=function(a){var b,d,e,f,g,h=this,i=c;return h.attributes["$[]="]("rowcount",h.rows.$body().$size()),e=h.rows.$body()["$empty?"](),d=e===c||e===!1,(b=d!==!1&&d!==c?h.has_header_option:d)!==!1&&b!==c&&(i=h.rows.$body().$shift(),(b=(d=i).$each,b._p=(f=function(a){f._s||this;return null==a&&(a=c),a["$style="](c)},f._s=h,f),b).call(d),h.rows["$head="]([i])),g=h.rows.$body()["$empty?"](),e=g===c||g===!1,(b=e!==!1&&e!==c?a["$has_key?"]("footer-option"):e)!==!1&&b!==c&&h.rows["$foot="]([h.rows.$body().$pop()]),c},c}(i,j.AbstractBlock),function(b,d){function e(){}{var h,i=e=f(b,d,"Column",e),j=e._proto;e._scope}return j.attributes=c,i.$attr_accessor("style"),j.$initialize=h=function(b,d,e){{var f,i,j,k=this;h._p}return null==e&&(e=g([],{})),h._p=null,a.find_super_dispatcher(k,"initialize",h,null).apply(k,[b,"column"]),k.style=e["$[]"]("style"),e["$[]="]("colnumber",d["$+"](1)),f="width",i=e,(j=i["$[]"](f))!==!1&&j!==c?j:i["$[]="](f,1),f="halign",i=e,(j=i["$[]"](f))!==!1&&j!==c?j:i["$[]="](f,"left"),f="valign",i=e,(j=i["$[]"](f))!==!1&&j!==c?j:i["$[]="](f,"top"),k.$update_attributes(e)},a.defn(i,"$table",j.$parent),j.$assign_width=function(a,b){var d,e=this,f=c;return f=a["$>"](0)?e.attributes["$[]"]("width").$to_f()["$/"](a)["$*"](100).$floor():b,e.attributes["$[]="]("colpcwidth",f),(d=e.$parent().$attributes()["$has_key?"]("tableabswidth"))!==!1&&d!==c&&e.attributes["$[]="]("colabswidth",f.$to_f()["$/"](100)["$*"](e.$parent().$attributes()["$[]"]("tableabswidth")).$round()),c},c}(j.Table,j.AbstractNode),function(b,e){function i(){}var j,k,l=i=f(b,e,"Cell",i),m=i._proto,n=i._scope;return m.style=m.document=m.text=m.inner_document=m.colspan=m.rowspan=m.attributes=c,l.$attr_accessor("style"),l.$attr_accessor("colspan"),l.$attr_accessor("rowspan"),a.defn(l,"$column",m.$parent),l.$attr_reader("inner_document"),m.$initialize=j=function(b,d,e,f){var i,k,l,m=this,o=(j._p,c),p=c,q=c,r=c;return null==e&&(e=g([],{})),null==f&&(f=c),j._p=null,a.find_super_dispatcher(m,"initialize",j,null).apply(m,[b,"cell"]),m.text=d,m.style=c,m.colspan=c,m.rowspan=c,k=b["$nil?"](),(i=k===c||k===!1)!=!1&&i!==c&&(m.style=b.$attributes()["$[]"]("style"),m.$update_attributes(b.$attributes())),k=e["$nil?"](),(i=k===c||k===!1)!=!1&&i!==c&&(m.colspan=e.$delete("colspan"),m.rowspan=e.$delete("rowspan"),(i=e["$has_key?"]("style"))!==!1&&i!==c&&(m.style=e["$[]"]("style")),m.$update_attributes(e)),(i=(k=m.style["$=="]("asciidoc"))?(l=b.$table()["$header_row?"](),l===c||l===!1):k)!==!1&&i!==c?(o=m.document.$attributes().$delete("doctitle"),p=m.text.$split(n.LINE_SPLIT),((i=(k=p["$empty?"]())!==!1&&k!==c?k:(l=p.$first()["$include?"]("::"),l===c||l===!1))===!1||i===c)&&(q=p["$[]"](h(0,0,!1)),r=n.PreprocessorReader.$new(m.document,q).$readlines(),k=r["$=="](q),(i=k===c||k===!1)!=!1&&i!==c&&(p.$shift(),(i=p).$unshift.apply(i,[].concat(r)))),m.inner_document=n.Document.$new(p,g(["header_footer","parent","cursor"],{header_footer:!1,parent:m.document,cursor:f})),(k=o["$nil?"]())!==!1&&k!==c?c:m.document.$attributes()["$[]="]("doctitle",o)):c},m.$text=function(){var a=this;return a.$apply_normal_subs(a.text).$strip()},m.$content=function(){var a,b,d,e=this;return e.style["$=="]("asciidoc")?e.inner_document.$render():(a=(b=e.$text().$split(n.BLANK_LINE_PATTERN)).$map,a._p=(d=function(a){var b,e,f,h=d._s||this;return null==h.style&&(h.style=c),null==a&&(a=c),f=h.style,(b=(e=f===c||f===!1)!=!1&&e!==c?e:h.style["$=="]("header"))!==!1&&b!==c?a:n.Inline.$new(h.$parent(),"quoted",a,g(["type"],{type:h.style})).$render()},d._s=e,d),a).call(b)},m.$to_s=k=function(){var b,e=d.call(arguments,0),f=this,g=k._p;return k._p=null,""+a.find_super_dispatcher(f,"to_s",k,g).apply(f,e).$to_s()+" - [text: "+f.text+", colspan: "+((b=f.colspan)!==!1&&b!==c?b:1)+", rowspan: "+((b=f.rowspan)!==!1&&b!==c?b:1)+", attributes: "+f.attributes+"]"},c}(j.Table,j.AbstractNode),function(a,b){function d(){}var e=d=f(a,b,"ParserContext",d),i=d._proto,j=d._scope;return i.format=i.delimiter=i.delimiter_re=i.buffer=i.cell_specs=i.cell_open=i.last_cursor=i.table=i.current_row=i.col_count=i.col_visits=i.active_rowspans=i.linenum=c,e.$attr_accessor("table"),e.$attr_accessor("format"),e.$attr_reader("col_count"),e.$attr_accessor("buffer"),e.$attr_reader("delimiter"),e.$attr_reader("delimiter_re"),i.$initialize=function(a,b,d){var e,f,h,i,k=this;return null==d&&(d=g([],{})),k.reader=a,k.table=b,k.last_cursor=a.$cursor(),(e=d["$has_key?"]("format"))!==!1&&e!==c?(k.format=d["$[]"]("format"),f=j.Table._scope.DATA_FORMATS["$include?"](k.format),(e=f===c||f===!1)!=!1&&e!==c&&k.$raise("Illegal table format: "+k.format)):k.format=j.Table._scope.DEFAULT_DATA_FORMAT,f=(h=k.format["$=="]("psv"))?(i=d["$has_key?"]("separator"),i===c||i===!1):h,k.delimiter=(e=f!==!1&&f!==c?b.$document()["$nested?"]():f)!==!1&&e!==c?"!":d.$fetch("separator",j.Table._scope.DEFAULT_DELIMITERS["$[]"](k.format)),k.delimiter_re=new RegExp(""+j.Regexp.$escape(k.delimiter)),k.col_count=function(){return(e=b.$columns()["$empty?"]())!==!1&&e!==c?-1:b.$columns().$size()}(),k.buffer="",k.cell_specs=[],k.cell_open=!1,k.active_rowspans=[0],k.col_visits=0,k.current_row=[],k.linenum=-1},i["$starts_with_delimiter?"]=function(a){var b=this;return a["$start_with?"](b.delimiter)},i.$match_delimiter=function(a){var b=this;return a.$match(b.delimiter_re)},i.$skip_matched_delimiter=function(a,b){var d=this;return null==b&&(b=!1),d.buffer=""+d.buffer+function(){return b!==!1&&b!==c?a.$pre_match().$chop():a.$pre_match()}()+d.delimiter,a.$post_match()},i["$buffer_has_unclosed_quotes?"]=function(a){var b,d,e,f=this,g=c;return null==a&&(a=c),g=(""+f.buffer+a).$strip(),d=g["$start_with?"]('"'),b=d!==!1&&d!==c?(e=g["$start_with?"]('""'),e===c||e===!1):d,b!==!1&&b!==c?(d=g["$end_with?"]('"'),d===c||d===!1):b},i["$buffer_quoted?"]=function(){var a,b,d=this;return d.buffer=d.buffer.$lstrip(),a=d.buffer["$start_with?"]('"'),a!==!1&&a!==c?(b=d.buffer["$start_with?"]('""'),b===c||b===!1):a},i.$take_cell_spec=function(){var a=this;return a.cell_specs.$shift()},i.$push_cell_spec=function(a){var b,d=this;return null==a&&(a=g([],{})),d.cell_specs["$<<"]((b=a)!==!1&&b!==c?b:g([],{})),c},i.$keep_cell_open=function(){var a=this;return a.cell_open=!0,c},i.$mark_cell_closed=function(){var a=this;return a.cell_open=!1,c},i["$cell_open?"]=function(){var a=this;return a.cell_open},i["$cell_closed?"]=function(){var a,b=this;return a=b.cell_open,a===c||a===!1},i.$close_open_cell=function(a){var b,d=this;return null==a&&(a=g([],{})),d.$push_cell_spec(a),(b=d["$cell_open?"]())!==!1&&b!==c&&d.$close_cell(!0),d.$advance(),c},i.$close_cell=function(a){var b,d,e,f,i=this,k=c,l=c,m=c;return null==a&&(a=!1),k=i.buffer.$strip(),i.buffer="",i.$format()["$=="]("psv")?(l=i.$take_cell_spec(),(b=l["$nil?"]())!==!1&&b!==c?(i.$warn("asciidoctor: ERROR: "+i.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),l=g([],{}),m=1):(m=l.$fetch("repeatcol",1),l.$delete("repeatcol"))):(l=c,m=1,i.$format()["$=="]("csv")&&(e=k["$empty?"](),d=e===c||e===!1,(b=d!==!1&&d!==c?k["$include?"]('"'):d)!==!1&&b!==c&&(d=k["$start_with?"]('"'),(b=d!==!1&&d!==c?k["$end_with?"]('"'):d)!==!1&&b!==c&&(k=k["$[]"](h(1,-2,!1)).$strip()),k=k.$tr_s('"','"')))),(b=(d=1).$upto,b._p=(f=function(b){var d,e,g,h,i,n=f._s||this,o=c,p=c;return null==n.col_count&&(n.col_count=c),null==n.table&&(n.table=c),null==n.current_row&&(n.current_row=c),null==n.last_cursor&&(n.last_cursor=c),null==n.reader&&(n.reader=c),null==n.col_visits&&(n.col_visits=c),null==n.linenum&&(n.linenum=c),null==b&&(b=c),n.col_count["$=="](-1)?(n.table.$columns()["$<<"](j.Table._scope.Column.$new(n.table,n.current_row.$size()["$+"](b)["$-"](1))),o=n.table.$columns().$last()):o=n.table.$columns()["$[]"](n.current_row.$size()),p=j.Table._scope.Cell.$new(o,k,l,n.last_cursor),n.last_cursor=n.reader.$cursor(),((d=(e=p.$rowspan()["$nil?"]())!==!1&&e!==c?e:p.$rowspan()["$=="](1))===!1||d===c)&&n.$activate_rowspan(p.$rowspan(),(d=p.$colspan())!==!1&&d!==c?d:1),n.col_visits=n.col_visits["$+"]((d=p.$colspan())!==!1&&d!==c?d:1),n.current_row["$<<"](p),e=n["$end_of_row?"](),(d=e!==!1&&e!==c?(i=n.col_count["$=="](-1),(g=(h=i===c||i===!1)!=!1&&h!==c?h:n.linenum["$>"](0))!==!1&&g!==c?g:(h=a!==!1&&a!==c)?b["$=="](m):h):e)!==!1&&d!==c?n.$close_row():c
},f._s=i,f),b).call(d,m),i.open_cell=!1,c},i.$close_row=function(){var a,b,d,e=this;return e.table.$rows().$body()["$<<"](e.current_row),e.col_count["$=="](-1)&&(e.col_count=e.col_visits),e.col_visits=0,e.current_row=[],e.active_rowspans.$shift(),a=0,b=e.active_rowspans,(d=b["$[]"](a))!==!1&&d!==c?d:b["$[]="](a,0),c},i.$activate_rowspan=function(a,b){var d,e,f,g=this;return(d=(e=1..$upto(a["$-"](1))).$each,d._p=(f=function(a){var d,e=f._s||this;return null==e.active_rowspans&&(e.active_rowspans=c),null==a&&(a=c),e.active_rowspans["$[]="](a,((d=e.active_rowspans["$[]"](a))!==!1&&d!==c?d:0)["$+"](b))},f._s=g,f),d).call(e),c},i["$end_of_row?"]=function(){var a,b=this;return(a=b.col_count["$=="](-1))!==!1&&a!==c?a:b.$effective_col_visits()["$=="](b.col_count)},i.$effective_col_visits=function(){var a=this;return a.col_visits["$+"](a.active_rowspans.$first())},i.$advance=function(){var a=this;return a.linenum=a.linenum["$+"](1)},c}(j.Table,null)}(b)}(Opal),function(a){var b=a.top,c=a.nil,d=(a.breaker,a.slice,a.klass),e=a.hash2;return function(b,f){function g(){}var h,i=g=d(b,f,"Template",g),j=g._proto,k=g._scope;return j.name=j.body=c,i._cache=e([],{}),a.defs(i,"$[]",function(a){var b=this;return null==b._cache&&(b._cache=c),b._cache["$[]"](a)}),a.defs(i,"$[]=",function(a,b){var d=this;return null==d._cache&&(d._cache=c),d._cache["$[]="](a,b)}),a.defs(i,"$paths",function(){var a=this;return null==a._cache&&(a._cache=c),a._cache.$keys()}),i.$attr_reader("body"),j.$initialize=h=function(a){var b,d=this,e=h._p,f=e||c;return h._p=null,b=[a,f],d.name=b[0],d.body=b[1],k.Template["$[]="](a,d)},j.$inspect=function(){var a=this;return"#<Template: '"+a.name+"'>"},j.$render=function(a){var b,c,d=this;return null==a&&(a=d),(b=(c=a).$instance_exec,b._p=d.body.$to_proc(),b).call(c,k.OutputBuffer.$new())},function(a,b){function e(){}{var f=(e=d(a,b,"OutputBuffer",e),e._proto);e._scope}return f.buffer=c,f.$initialize=function(){var a=this;return a.buffer=[]},f.$append=function(a){var b=this;return b.buffer["$<<"](a)},f["$append="]=function(a){var b=this;return b.buffer["$<<"](a)},f.$join=function(){var a=this;return a.buffer.$join()},c}(i,null)}(b,null)}(Opal),function(a){var b=a.top,c=(a.nil,a.breaker,a.slice,a.klass),d=a.module;return function(b,e){function f(){}{var g=f=c(b,e,"ERB",f);f._proto,f._scope}return function(b){var c=d(b,"Util"),e=c._proto,f=(c._scope,{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}),g=/[&<>"']/g;e.$html_escape=function(a){return(""+a).replace(g,function(a){return f[a]})},a.defn(c,"$h",e.$html_escape),c.$module_function("h"),c.$module_function("html_escape"),a.donate(c,["$html_escape","$h"])}(g)}(b,null)}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$attr","$role","$attr?","$icon_uri","$title?","$title","$content","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c=d._s||this;return null==c.id&&(c.id=g),null==c.document&&(c.document=g),null==c.caption&&(c.caption=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=c.id,b!==!1&&b!==g?' id="'+c.id+'"':b)),a.$append(' class="'),a["$append="](["admonitionblock",c.$attr("name"),c.$role()].$compact()["$*"](" ")),a.$append('">\n<table>\n<tr>\n<td class="icon">'),(b=c.document["$attr?"]("icons","font"))!==!1&&b!==g?(a.$append('\n<i class="icon-'),a["$append="](c.$attr("name")),a.$append('" title="'),a["$append="](c.caption),a.$append('"></i>')):(b=c.document["$attr?"]("icons"))!==!1&&b!==g?(a.$append('\n<img src="'),a["$append="](c.$icon_uri(c.$attr("name"))),a.$append('" alt="'),a["$append="](c.caption),a.$append('">')):(a.$append('\n<div class="title">'),a["$append="](c.caption),a.$append("</div>")),a.$append('\n</td>\n<td class="content">'),(b=c["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](c.$title()),a.$append("</div>")),a.$append("\n"),a["$append="](c.$content()),a.$append("\n</td>\n</tr>\n</table>\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_admonition")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$captioned_title","$media_uri","$attr","$option?","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c=d._s||this;return null==c.id&&(c.id=g),null==c.style&&(c.style=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=c.id,b!==!1&&b!==g?' id="'+c.id+'"':b)),a.$append(' class="'),a["$append="](["audioblock",c.style,c.$role()].$compact()["$*"](" ")),a.$append('">'),(b=c["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](c.$captioned_title()),a.$append("</div>")),a.$append('\n<div class="content">\n<audio src="'),a["$append="](c.$media_uri(c.$attr("target"))),a.$append('"'),(b=c["$option?"]("autoplay"))!==!1&&b!==g&&a.$append(" autoplay"),((b=c["$option?"]("nocontrols"))===!1||b===g)&&a.$append(" controls"),(b=c["$option?"]("loop"))!==!1&&b!==g&&a.$append(" loop"),a.$append(">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_audio")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$attr?","$each_with_index","$+","$icon_uri","$text","$items","$each","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f,h,i=d._s||this,j=g;return null==i.id&&(i.id=g),null==i.style&&(i.style=g),null==i.document&&(i.document=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=i.id,b!==!1&&b!==g?' id="'+i.id+'"':b)),a.$append(' class="'),a["$append="](["colist",i.style,i.$role()].$compact()["$*"](" ")),a.$append('">'),(b=i["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](i.$title()),a.$append("</div>")),(b=i.document["$attr?"]("icons"))!==!1&&b!==g?(j=i.document["$attr?"]("icons","font"),a.$append("\n<table>"),(b=(c=i.$items()).$each_with_index,b._p=(e=function(b,c){var d=e._s||this,f=g;return null==b&&(b=g),null==c&&(c=g),f=c["$+"](1),a.$append("\n<tr>\n<td>"),j!==!1&&j!==g?(a.$append('<i class="conum" data-value="'),a["$append="](f),a.$append('"></i><b>'),a["$append="](f),a.$append("</b>")):(a.$append('<img src="'),a["$append="](d.$icon_uri("callouts/"+f)),a.$append('" alt="'),a["$append="](f),a.$append('">')),a.$append("</td>\n<td>"),a["$append="](b.$text()),a.$append("</td>\n</tr>")},e._s=i,e),b).call(c),a.$append("\n</table>")):(a.$append("\n<ol>"),(b=(f=i.$items()).$each,b._p=(h=function(b){h._s||this;return null==b&&(b=g),a.$append("\n<li>\n<p>"),a["$append="](b.$text()),a.$append("</p>\n</li>")},h._s=i,h),b).call(f),a.$append("\n</ol>")),a.$append("\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_colist")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$===","$append=","$*","$compact","$role","$title?","$title","$each","$text","$nil?","$text?","$blocks?","$content","$dd","$items","$attr?","$chomp","$attr","$option?","$last","$==","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f,h,i,j,k=d._s||this,l=g;return null==k.style&&(k.style=g),null==k.id&&(k.id=g),null==a&&(a=g),a.$append(""),a.$append(""),l=k.style,"qanda"["$==="](l)?(a.$append("<div"),a["$append="]((b=k.id,b!==!1&&b!==g?' id="'+k.id+'"':b)),a.$append(' class="'),a["$append="](["qlist","qanda",k.$role()].$compact()["$*"](" ")),a.$append('">'),(b=k["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](k.$title()),a.$append("</div>")),a.$append("\n<ol>"),(b=(c=k.$items()).$each,b._p=(e=function(b,c){var d,f,h,i=e._s||this;return null==b&&(b=g),null==c&&(c=g),a.$append("\n<li>"),(d=(f=[].concat(b)).$each,d._p=(h=function(b){h._s||this;return null==b&&(b=g),a.$append("\n<p><em>"),a["$append="](b.$text()),a.$append("</em></p>")},h._s=i,h),d).call(f),((d=c["$nil?"]())===!1||d===g)&&((d=c["$text?"]())!==!1&&d!==g&&(a.$append("\n<p>"),a["$append="](c.$text()),a.$append("</p>")),(d=c["$blocks?"]())!==!1&&d!==g&&(a.$append("\n"),a["$append="](i.$dd().$content()),a.$append(""))),a.$append("\n</li>")},e._s=k,e),b).call(c),a.$append("\n</ol>\n</div>")):"horizontal"["$==="](l)?(a.$append("<div"),a["$append="]((b=k.id,b!==!1&&b!==g?' id="'+k.id+'"':b)),a.$append(' class="'),a["$append="](["hdlist",k.$role()].$compact()["$*"](" ")),a.$append('">'),(b=k["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](k.$title()),a.$append("</div>")),a.$append("\n<table>"),(b=(f=k["$attr?"]("labelwidth"))!==!1&&f!==g?f:k["$attr?"]("itemwidth"))!==!1&&b!==g&&(a.$append("\n<colgroup>\n<col"),a["$append="](function(){return(b=k["$attr?"]("labelwidth"))!==!1&&b!==g?' style="width: '+k.$attr("labelwidth").$chomp("%")+'%;"':g}()),a.$append(">\n<col"),a["$append="](function(){return(b=k["$attr?"]("itemwidth"))!==!1&&b!==g?' style="width: '+k.$attr("itemwidth").$chomp("%")+'%;"':g}()),a.$append(">\n</colgroup>")),(b=(f=k.$items()).$each,b._p=(h=function(b,c){var d,e,f,i=h._s||this,j=g;return null==b&&(b=g),null==c&&(c=g),a.$append('\n<tr>\n<td class="hdlist1'),a["$append="](function(){return(d=i["$option?"]("strong"))!==!1&&d!==g?" strong":g}()),a.$append('">'),b=[].concat(b),j=b.$last(),(d=(e=b).$each,d._p=(f=function(b){{var c,d;f._s||this}return null==b&&(b=g),a.$append("\n"),a["$append="](b.$text()),a.$append(""),d=b["$=="](j),(c=d===g||d===!1)!=!1&&c!==g?a.$append("\n<br>"):g},f._s=i,f),d).call(e),a.$append('\n</td>\n<td class="hdlist2">'),((d=c["$nil?"]())===!1||d===g)&&((d=c["$text?"]())!==!1&&d!==g&&(a.$append("\n<p>"),a["$append="](c.$text()),a.$append("</p>")),(d=c["$blocks?"]())!==!1&&d!==g&&(a.$append("\n"),a["$append="](c.$content()),a.$append(""))),a.$append("\n</td>\n</tr>")},h._s=k,h),b).call(f),a.$append("\n</table>\n</div>")):(a.$append("<div"),a["$append="]((b=k.id,b!==!1&&b!==g?' id="'+k.id+'"':b)),a.$append(' class="'),a["$append="](["dlist",k.style,k.$role()].$compact()["$*"](" ")),a.$append('">'),(b=k["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](k.$title()),a.$append("</div>")),a.$append("\n<dl>"),(b=(i=k.$items()).$each,b._p=(j=function(b,c){var d,e,f,h=j._s||this;return null==b&&(b=g),null==c&&(c=g),(d=(e=[].concat(b)).$each,d._p=(f=function(b){var c,d,e=f._s||this;return null==e.style&&(e.style=g),null==b&&(b=g),a.$append("\n<dt"),a["$append="](function(){return d=e.style,(c=d===g||d===!1)!=!1&&c!==g?' class="hdlist1"':g}()),a.$append(">"),a["$append="](b.$text()),a.$append("</dt>")},f._s=h,f),d).call(e),(d=c["$nil?"]())!==!1&&d!==g?g:(a.$append("\n<dd>"),(d=c["$text?"]())!==!1&&d!==g&&(a.$append("\n<p>"),a["$append="](c.$text()),a.$append("</p>")),(d=c["$blocks?"]())!==!1&&d!==g&&(a.$append("\n"),a["$append="](c.$content()),a.$append("")),a.$append("\n</dd>"))},j._s=k,j),b).call(i),a.$append("\n</dl>\n</div>")),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_dlist")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$captioned_title","$content","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c=d._s||this;return null==c.id&&(c.id=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=c.id,b!==!1&&b!==g?' id="'+c.id+'"':b)),a.$append(' class="'),a["$append="](["exampleblock",c.$role()].$compact()["$*"](" ")),a.$append('">'),(b=c["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](c.$captioned_title()),a.$append("</div>")),a.$append('\n<div class="content">\n'),a["$append="](c.$content()),a.$append("\n</div>\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_example")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$+","$*","$compact","$role","$title","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c=d._s||this;return null==c.level&&(c.level=g),null==c.id&&(c.id=g),null==c.style&&(c.style=g),null==a&&(a=g),a.$append(""),a.$append(""),a["$append="]("<h"+c.level["$+"](1)+(b=c.id,b!==!1&&b!==g?' id="'+c.id+'"':b)+' class="'+[c.style,c.$role()].$compact()["$*"](" ")+'">'+c.$title()+"</h"+c.level["$+"](1)+">"),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_floating_title")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$attr?","$attr","$image_uri","$title?","$captioned_title","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e=d._s||this;return null==e.id&&(e.id=g),null==e.style&&(e.style=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=e.id,b!==!1&&b!==g?' id="'+e.id+'"':b)),a.$append(' class="'),a["$append="](["imageblock",e.style,e.$role()].$compact()["$*"](" ")),a.$append('"'),(b=(c=e["$attr?"]("align"))!==!1&&c!==g?c:e["$attr?"]("float"))!==!1&&b!==g&&(a.$append(' style="'),a["$append="]([function(){return(b=e["$attr?"]("align"))!==!1&&b!==g?"text-align: "+e.$attr("align")+";":g}(),function(){return(b=e["$attr?"]("float"))!==!1&&b!==g?"float: "+e.$attr("float")+";":g}()].$compact()["$*"](" ")),a.$append('"')),a.$append('>\n<div class="content">'),(b=e["$attr?"]("link"))!==!1&&b!==g?(a.$append('\n<a class="image" href="'),a["$append="](e.$attr("link")),a.$append('"><img src="'),a["$append="](e.$image_uri(e.$attr("target"))),a.$append('" alt="'),a["$append="](e.$attr("alt")),a.$append('"'),a["$append="](function(){return(b=e["$attr?"]("width"))!==!1&&b!==g?' width="'+e.$attr("width")+'"':g}()),a.$append(""),a["$append="](function(){return(b=e["$attr?"]("height"))!==!1&&b!==g?' height="'+e.$attr("height")+'"':g}()),a.$append("></a>")):(a.$append('\n<img src="'),a["$append="](e.$image_uri(e.$attr("target"))),a.$append('" alt="'),a["$append="](e.$attr("alt")),a.$append('"'),a["$append="](function(){return(b=e["$attr?"]("width"))!==!1&&b!==g?' width="'+e.$attr("width")+'"':g}()),a.$append(""),a["$append="](function(){return(b=e["$attr?"]("height"))!==!1&&b!==g?' height="'+e.$attr("height")+'"':g}()),a.$append(">")),a.$append("\n</div>"),(b=e["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](e.$captioned_title()),a.$append("</div>")),a.$append("\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_image")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$captioned_title","$attr?","$option?","$==","$attr","$===","$<<","$empty?","$content","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e=d._s||this,f=g,h=g,i=g,j=g,k=g,l=g;return null==e.id&&(e.id=g),null==e.document&&(e.document=g),null==e.style&&(e.style=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=e.id,b!==!1&&b!==g?' id="'+e.id+'"':b)),a.$append(' class="'),a["$append="](["listingblock",e.$role()].$compact()["$*"](" ")),a.$append('">'),(b=e["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](e.$captioned_title()),a.$append("</div>")),a.$append('\n<div class="content">'),c=e.document["$attr?"]("prewrap"),f=(b=c===g||c===!1)!=!1&&b!==g?b:e["$option?"]("nowrap"),e.style["$=="]("source")?(h=e.$attr("language"),i=function(){return h!==!1&&h!==g?[h,"language-"+h]:[]}(),j=["highlight"],k=g,l=e.$attr("source-highlighter"),"coderay"["$==="](l)?j=["CodeRay"]:"pygments"["$==="](l)?j=["pygments","highlight"]:"prettify"["$==="](l)?(j=["prettyprint"],(b=e["$attr?"]("linenums"))!==!1&&b!==g&&j["$<<"]("linenums"),h!==!1&&h!==g&&j["$<<"](h),h!==!1&&h!==g&&j["$<<"]("language-"+h),i=[]):"html-pipeline"["$==="](l)&&(k=h,j=i=[],f=!1),f!==!1&&f!==g&&j["$<<"]("nowrap"),a.$append("\n<pre"),a["$append="](function(){return(b=j["$empty?"]())!==!1&&b!==g?g:' class="'+j["$*"](" ")+'"'}()),a.$append(""),a["$append="]((b=k!==!1&&k!==g)?' lang="'+k+'"':b),a.$append("><code"),a["$append="](function(){return(b=i["$empty?"]())!==!1&&b!==g?g:' class="'+i["$*"](" ")+'"'}()),a.$append(">"),a["$append="](e.$content()),a.$append("</code></pre>")):(a.$append("\n<pre"),a["$append="](function(){return f!==!1&&f!==g?' class="nowrap"':g}()),a.$append(">"),a["$append="](e.$content()),a.$append("</pre>")),a.$append("\n</div>\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_listing")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$attr?","$option?","$content","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f=d._s||this;return null==f.id&&(f.id=g),null==f.document&&(f.document=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=f.id,b!==!1&&b!==g?' id="'+f.id+'"':b)),a.$append(' class="'),a["$append="](["literalblock",f.$role()].$compact()["$*"](" ")),a.$append('">'),(b=f["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](f.$title()),a.$append("</div>")),a.$append('\n<div class="content">\n<pre'),a["$append="](function(){return e=f.document["$attr?"]("prewrap"),(b=(c=e===g||e===!1)!=!1&&c!==g?c:f["$option?"]("nowrap"))!==!1&&b!==g?' class="nowrap"':g}()),a.$append(">"),a["$append="](f.$content()),a.$append("</pre>\n</div>\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_literal")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$attr?","$attr","$list_marker_keyword","$each","$text","$blocks?","$content","$items","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f=d._s||this,h=g;return null==f.id&&(f.id=g),null==f.style&&(f.style=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=f.id,b!==!1&&b!==g?' id="'+f.id+'"':b)),a.$append(' class="'),a["$append="](["olist",f.style,f.$role()].$compact()["$*"](" ")),a.$append('">'),(b=f["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](f.$title()),a.$append("</div>")),a.$append('\n<ol class="'),a["$append="](f.style),a.$append('"'),a["$append="](function(){return(b=f["$attr?"]("start"))!==!1&&b!==g?' start="'+f.$attr("start")+'"':g}()),a.$append(""),a["$append="]((b=h=f.$list_marker_keyword(),b!==!1&&b!==g?' type="'+h+'"':b)),a.$append(">"),(b=(c=f.$items()).$each,b._p=(e=function(b){{var c;e._s||this}return null==b&&(b=g),a.$append("\n<li>\n<p>"),a["$append="](b.$text()),a.$append("</p>"),(c=b["$blocks?"]())!==!1&&c!==g&&(a.$append("\n"),a["$append="](b.$content()),a.$append("")),a.$append("\n</li>")},e._s=f,e),b).call(c),a.$append("\n</ol>\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_olist")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$==","$doctype","$puts","$append=","$*","$compact","$role","$title?","$title","$content","$context","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f,h,i=d._s||this;return null==i.style&&(i.style=g),null==i.parent&&(i.parent=g),null==i.document&&(i.document=g),null==i.id&&(i.id=g),null==i.level&&(i.level=g),null==a&&(a=g),a.$append(""),a.$append(""),i.style["$=="]("abstract")?(b=(c=i.parent["$=="](i.document))?i.document.$doctype()["$=="]("book"):c)!==!1&&b!==g?i.$puts("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."):(a.$append("<div"),a["$append="]((b=i.id,b!==!1&&b!==g?' id="'+i.id+'"':b)),a.$append(' class="'),a["$append="](["quoteblock","abstract",i.$role()].$compact()["$*"](" ")),a.$append('">'),(b=i["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](i.$title()),a.$append("</div>")),a.$append("\n<blockquote>\n"),a["$append="](i.$content()),a.$append("\n</blockquote>\n</div>")):(b=(c=i.style["$=="]("partintro"))?(h=i.level["$=="](0),(e=(f=h===g||h===!1)!=!1&&f!==g?f:(h=i.parent.$context()["$=="]("section"),h===g||h===!1))!==!1&&e!==g?e:(f=i.document.$doctype()["$=="]("book"),f===g||f===!1)):c)!==!1&&b!==g?i.$puts("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."):(a.$append("<div"),a["$append="]((b=i.id,b!==!1&&b!==g?' id="'+i.id+'"':b)),a.$append(' class="'),a["$append="](["openblock",function(){return i.style["$=="]("open")?g:i.style}(),i.$role()].$compact()["$*"](" ")),a.$append('">'),(b=i["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](i.$title()),a.$append("</div>")),a.$append('\n<div class="content">\n'),a["$append="](i.$content()),a.$append("\n</div>\n</div>")),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_open")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){d._s||this;return null==a&&(a=g),a.$append('<div style="page-break-after: always;"></div>\n'),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_page_break")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$content","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c=d._s||this;return null==c.id&&(c.id=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=c.id,b!==!1&&b!==g?' id="'+c.id+'"':b)),a.$append(' class="'),a["$append="](["paragraph",c.$role()].$compact()["$*"](" ")),a.$append('">'),(b=c["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](c.$title()),a.$append("</div>")),a.$append("\n<p>"),a["$append="](c.$content()),a.$append("</p>\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_paragraph")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$content","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b=d._s||this;return null==a&&(a=g),a.$append(""),a.$append(""),a["$append="](b.$content()),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_pass")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$content","$attr?","$attr","$outline","$to_i","$join"]),(b=(c=f.Template).$new,b._p=(d=function(b){var c,e,f=d._s||this;return null==f.document&&(f.document=g),null==b&&(b=g),b.$append(""),b.$append('<div id="preamble">\n<div class="sectionbody">\n'),b["$append="](f.$content()),b.$append("\n</div>"),e=f["$attr?"]("toc"),(c=e!==!1&&e!==g?f["$attr?"]("toc-placement","preamble"):e)!==!1&&c!==g&&(b.$append('\n<div id="toc" class="'),b["$append="](f.$attr("toc-class","toc")),b.$append('">\n<div id="toctitle">'),b["$append="](f.$attr("toc-title")),b.$append("</div>\n"),b["$append="]((null==(c=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):c)._scope.HTML5._scope.DocumentTemplate.$outline(f.document,f.$attr("toclevels",2).$to_i())),b.$append("\n</div>")),b.$append("\n</div>\n"),b.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_preamble")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$content","$attr?","$attr","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e=d._s||this;return null==e.id&&(e.id=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=e.id,b!==!1&&b!==g?' id="'+e.id+'"':b)),a.$append(' class="'),a["$append="](["quoteblock",e.$role()].$compact()["$*"](" ")),a.$append('">'),(b=e["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](e.$title()),a.$append("</div>")),a.$append("\n<blockquote>\n"),a["$append="](e.$content()),a.$append("\n</blockquote>"),(b=(c=e["$attr?"]("attribution"))!==!1&&c!==g?c:e["$attr?"]("citetitle"))!==!1&&b!==g&&(a.$append('\n<div class="attribution">'),(b=e["$attr?"]("citetitle"))!==!1&&b!==g&&(a.$append("\n<cite>"),a["$append="](e.$attr("citetitle")),a.$append("</cite>")),(b=e["$attr?"]("attribution"))!==!1&&b!==g&&((b=e["$attr?"]("citetitle"))!==!1&&b!==g&&a.$append("<br>"),a.$append("\n"),a["$append="]("&#8212; "+e.$attr("attribution")),a.$append("")),a.$append("\n</div>")),a.$append("\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_quote")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){d._s||this;return null==a&&(a=g),a.$append("<hr>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_ruler")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$content","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c=d._s||this;return null==c.id&&(c.id=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=c.id,b!==!1&&b!==g?' id="'+c.id+'"':b)),a.$append(' class="'),a["$append="](["sidebarblock",c.$role()].$compact()["$*"](" ")),a.$append('">\n<div class="content">'),(b=c["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](c.$title()),a.$append("</div>")),a.$append("\n"),a["$append="](c.$content()),a.$append("\n</div>\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_sidebar")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$attr","$role","$attr?","$option?","$title?","$captioned_title","$zero?","$times","$size","$each","$==","$text","$style","$===","$content","$colspan","$rowspan","$[]","$select","$empty?","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f,h,i,j,k,l,m,n=d._s||this;return null==n.id&&(n.id=g),null==n.columns&&(n.columns=g),null==a&&(a=g),a.$append(""),a.$append("<table"),a["$append="]((b=n.id,b!==!1&&b!==g?' id="'+n.id+'"':b)),a.$append(' class="'),a["$append="](["tableblock","frame-"+n.$attr("frame","all"),"grid-"+n.$attr("grid","all"),n.$role()].$compact()["$*"](" ")),a.$append('"'),(b=(c=n["$attr?"]("float"))!==!1&&c!==g?c:(e=n["$option?"]("autowidth"),e===g||e===!1))!==!1&&b!==g&&(a.$append(' style="'),a["$append="]([function(){return(b=n["$option?"]("autowidth"))!==!1&&b!==g?g:"width: "+n.$attr("tablepcwidth")+"%;"}(),function(){return(b=n["$attr?"]("float"))!==!1&&b!==g?"float: "+n.$attr("float")+";":g}()].$compact()["$*"](" ")),a.$append('"')),a.$append(">"),(b=n["$title?"]())!==!1&&b!==g&&(a.$append('\n<caption class="title">'),a["$append="](n.$captioned_title()),a.$append("</caption>")),((b=n.$attr("rowcount")["$zero?"]())===!1||b===g)&&(a.$append("\n<colgroup>"),(b=n["$option?"]("autowidth"))!==!1&&b!==g?(b=(c=n.columns.$size()).$times,b._p=(f=function(){f._s||this;return a.$append("\n<col>")},f._s=n,f),b).call(c):(b=(e=n.columns).$each,b._p=(h=function(b){h._s||this;return null==b&&(b=g),a.$append('\n<col style="width: '),a["$append="](b.$attr("colpcwidth")),a.$append('%;">')},h._s=n,h),b).call(e),a.$append("\n</colgroup>"),(b=(i=(k=(l=["head","foot","body"]).$select,k._p=(m=function(a){var b,c=m._s||this;return null==c.rows&&(c.rows=g),null==a&&(a=g),b=c.rows["$[]"](a)["$empty?"](),b===g||b===!1},m._s=n,m),k).call(l)).$each,b._p=(j=function(b){var c,d,e,f=j._s||this;return null==f.rows&&(f.rows=g),null==b&&(b=g),a.$append("\n<t"),a["$append="](b),a.$append(">"),(c=(d=f.rows["$[]"](b)).$each,c._p=(e=function(c){var d,f,h,i=e._s||this;return null==c&&(c=g),a.$append("\n<tr>"),(d=(f=c).$each,d._p=(h=function(c){var d,e,f,i,j,k=h._s||this,l=g,m=g,n=g;return null==k.document&&(k.document=g),null==c&&(c=g),b["$=="]("head")?l=c.$text():(m=c.$style(),l="verse"["$==="](m)||"literal"["$==="](m)?c.$text():c.$content()),n=function(){return(d=k.document["$attr?"]("cellbgcolor"))!==!1&&d!==g?"background-color: "+k.document.$attr("cellbgcolor")+";":g}(),a.$append("\n<"),a["$append="](function(){return b["$=="]("head")?"th":"td"}()),a.$append(' class="'),a["$append="](["tableblock","halign-"+c.$attr("halign"),"valign-"+c.$attr("valign")]["$*"](" ")),a.$append('"'),a["$append="](function(){return(d=c.$colspan())!==!1&&d!==g?' colspan="'+c.$colspan()+'"':g}()),a.$append(""),a["$append="](function(){return(d=c.$rowspan())!==!1&&d!==g?' rowspan="'+c.$rowspan()+'"':g}()),a.$append(""),a["$append="](function(){return n!==!1&&n!==g?' style="'+n+'"':g}()),a.$append(">"),b["$=="]("head")?(a.$append(""),a["$append="](l),a.$append("")):(m=c.$style(),"asciidoc"["$==="](m)?(a.$append("<div>"),a["$append="](l),a.$append("</div>")):"verse"["$==="](m)?(a.$append('<div class="verse">'),a["$append="](l),a.$append("</div>")):"literal"["$==="](m)?(a.$append('<div class="literal"><pre>'),a["$append="](l),a.$append("</pre></div>")):"header"["$==="](m)?(d=(e=l).$each,d._p=(f=function(b){f._s||this;return null==b&&(b=g),a.$append('<p class="tableblock header">'),a["$append="](b),a.$append("</p>")},f._s=k,f),d).call(e):(d=(i=l).$each,d._p=(j=function(b){j._s||this;return null==b&&(b=g),a.$append('<p class="tableblock">'),a["$append="](b),a.$append("</p>")},j._s=k,j),d).call(i)),a.$append("</"),a["$append="](function(){return b["$=="]("head")?"th":"td"}()),a.$append(">")},h._s=i,h),d).call(f),a.$append("\n</tr>")},e._s=f,e),c).call(d),a.$append("\n</t"),a["$append="](b),a.$append(">")},j._s=n,j),b).call(i)),a.$append("\n</table>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_table")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$attr?","$attr","$title?","$title","$to_i","$embedded?","$append=","$outline","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,h,i=d._s||this,j=g,k=g,l=g,m=g,n=g;return null==i.document&&(i.document=g),null==i.id&&(i.id=g),null==a&&(a=g),a.$append(""),a.$append(""),(b=i.document["$attr?"]("toc"))!==!1&&b!==g&&(j=i.id,k=i.$attr("role",i.document.$attr("toc-class","toc")),l=g,m=function(){return(b=i["$title?"]())!==!1&&b!==g?i.$title():i.document.$attr("toc-title")}(),n=function(){return(b=i["$attr?"]("levels"))!==!1&&b!==g?i.$attr("levels").$to_i():i.document.$attr("toclevels",2).$to_i()}(),e=j,c=e===g||e===!1,(b=c!==!1&&c!==g?(e=i.document["$embedded?"]())!==!1&&e!==g?e:(h=i.document["$attr?"]("toc-placement"),h===g||h===!1):c)!==!1&&b!==g&&(j="toc",l="toctitle"),a.$append("<div"),a["$append="]((b=j!==!1&&j!==g)?' id="'+j+'"':b),a.$append(' class="'),a["$append="](k),a.$append('">'),m!==!1&&m!==g&&(a.$append('\n<div class="title"'),a["$append="]((b=l!==!1&&l!==g)?' id="'+l+'"':b),a.$append(">"),a["$append="](m),a.$append("</div>")),a.$append("\n"),a["$append="](f.Asciidoctor._scope.HTML5._scope.DocumentTemplate.$outline(i.document,n)),a.$append("")),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_toc")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$option?","$attr?","$append=","$*","$compact","$role","$title?","$title","$each","$text","$blocks?","$content","$items","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f=d._s||this,h=g,i=g,j=g,k=g;return null==f.document&&(f.document=g),null==f.id&&(f.id=g),null==f.style&&(f.style=g),null==a&&(a=g),a.$append(""),a.$append(""),(b=h=function(){return(c=f["$option?"]("checklist"))!==!1&&c!==g?"checklist":g}())!==!1&&b!==g&&((b=f["$option?"]("interactive"))!==!1&&b!==g?(i='<input type="checkbox" data-item-complete="1" checked>',j='<input type="checkbox" data-item-complete="0">'):(b=f.document["$attr?"]("icons","font"))!==!1&&b!==g?(i='<i class="icon-check"></i>',j='<i class="icon-check-empty"></i>'):(i='<input type="checkbox" data-item-complete="1" checked disabled>',j='<input type="checkbox" data-item-complete="0" disabled>')),a.$append("<div"),a["$append="]((b=f.id,b!==!1&&b!==g?' id="'+f.id+'"':b)),a.$append(' class="'),a["$append="](["ulist",h,f.style,f.$role()].$compact()["$*"](" ")),a.$append('">'),(b=f["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](f.$title()),a.$append("</div>")),a.$append("\n<ul"),a["$append="](function(){return(b=k=(c=h)!==!1&&c!==g?c:f.style)!==!1&&b!==g?' class="'+k+'"':g
}()),a.$append(">"),(b=(c=f.$items()).$each,b._p=(e=function(b){{var c,d;e._s||this}return null==b&&(b=g),a.$append("\n<li>\n<p>"),(c=(d=h!==!1&&h!==g)?b["$attr?"]("checkbox"):d)!==!1&&c!==g?(a.$append(""),a["$append="](""+function(){return(c=b["$attr?"]("checked"))!==!1&&c!==g?i:j}()+" "+b.$text()),a.$append("")):(a.$append(""),a["$append="](b.$text()),a.$append("")),a.$append("</p>"),(c=b["$blocks?"]())!==!1&&c!==g&&(a.$append("\n"),a["$append="](b.$content()),a.$append("")),a.$append("\n</li>")},e._s=f,e),b).call(c),a.$append("\n</ul>\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_ulist")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$title","$content","$attr?","$attr","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e=d._s||this;return null==e.id&&(e.id=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=e.id,b!==!1&&b!==g?' id="'+e.id+'"':b)),a.$append(' class="'),a["$append="](["verseblock",e.$role()].$compact()["$*"](" ")),a.$append('">'),(b=e["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](e.$title()),a.$append("</div>")),a.$append('\n<pre class="content">'),a["$append="](e.$content()),a.$append("</pre>"),(b=(c=e["$attr?"]("attribution"))!==!1&&c!==g?c:e["$attr?"]("citetitle"))!==!1&&b!==g&&(a.$append('\n<div class="attribution">'),(b=e["$attr?"]("citetitle"))!==!1&&b!==g&&(a.$append("\n<cite>"),a["$append="](e.$attr("citetitle")),a.$append("</cite>")),(b=e["$attr?"]("attribution"))!==!1&&b!==g&&((b=e["$attr?"]("citetitle"))!==!1&&b!==g&&a.$append("<br>"),a.$append("\n"),a["$append="]("&#8212; "+e.$attr("attribution")),a.$append("")),a.$append("\n</div>")),a.$append("\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_verse")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$title?","$captioned_title","$attr","$===","$attr?","$option?","$<<","$media_uri","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c=d._s||this,e=g,f=g,h=g,i=g,j=g,k=g,l=g;return null==c.id&&(c.id=g),null==c.style&&(c.style=g),null==a&&(a=g),a.$append(""),a.$append("<div"),a["$append="]((b=c.id,b!==!1&&b!==g?' id="'+c.id+'"':b)),a.$append(' class="'),a["$append="](["videoblock",c.style,c.$role()].$compact()["$*"](" ")),a.$append('">'),(b=c["$title?"]())!==!1&&b!==g&&(a.$append('\n<div class="title">'),a["$append="](c.$captioned_title()),a.$append("</div>")),a.$append('\n<div class="content">'),e=c.$attr("poster"),"vimeo"["$==="](e)?(f=function(){return(b=c["$attr?"]("start"))!==!1&&b!==g?"#at="+c.$attr("start"):g}(),h="?",i=function(){return(b=c["$option?"]("autoplay"))!==!1&&b!==g?""+h+"autoplay=1":g}(),i!==!1&&i!==g&&(h="&amp;"),j=function(){return(b=c["$option?"]("loop"))!==!1&&b!==g?""+h+"loop=1":g}(),k="//player.vimeo.com/video/"+c.$attr("target")+f+i+j,a.$append("\n<iframe"),a["$append="](function(){return(b=c["$attr?"]("width"))!==!1&&b!==g?' width="'+c.$attr("width")+'"':g}()),a.$append(""),a["$append="](function(){return(b=c["$attr?"]("height"))!==!1&&b!==g?' height="'+c.$attr("height")+'"':g}()),a.$append(' src="'),a["$append="](k),a.$append('" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>')):"youtube"["$==="](e)?(l=["rel=0"],(b=c["$attr?"]("start"))!==!1&&b!==g&&l["$<<"]("start="+c.$attr("start")),(b=c["$attr?"]("end"))!==!1&&b!==g&&l["$<<"]("end="+c.$attr("end")),(b=c["$option?"]("autoplay"))!==!1&&b!==g&&l["$<<"]("autoplay=1"),(b=c["$option?"]("loop"))!==!1&&b!==g&&l["$<<"]("loop=1"),(b=c["$option?"]("nocontrols"))!==!1&&b!==g&&l["$<<"]("controls=0"),k="//www.youtube.com/embed/"+c.$attr("target")+"?"+l["$*"]("&amp;"),a.$append("\n<iframe"),a["$append="](function(){return(b=c["$attr?"]("width"))!==!1&&b!==g?' width="'+c.$attr("width")+'"':g}()),a.$append(""),a["$append="](function(){return(b=c["$attr?"]("height"))!==!1&&b!==g?' height="'+c.$attr("height")+'"':g}()),a.$append(' src="'),a["$append="](k),a.$append('" frameborder="0"'),a["$append="](function(){return(b=c["$option?"]("nofullscreen"))!==!1&&b!==g?g:" allowfullscreen"}()),a.$append("></iframe>")):(a.$append('\n<video src="'),a["$append="](c.$media_uri(c.$attr("target"))),a.$append('"'),a["$append="](function(){return(b=c["$attr?"]("width"))!==!1&&b!==g?' width="'+c.$attr("width")+'"':g}()),a.$append(""),a["$append="](function(){return(b=c["$attr?"]("height"))!==!1&&b!==g?' height="'+c.$attr("height")+'"':g}()),a.$append(""),(b=c["$attr?"]("poster"))!==!1&&b!==g&&(a.$append(' poster="'),a["$append="](c.$media_uri(c.$attr("poster"))),a.$append('"')),(b=c["$option?"]("autoplay"))!==!1&&b!==g&&a.$append(" autoplay"),((b=c["$option?"]("nocontrols"))===!1||b===g)&&a.$append(" controls"),(b=c["$option?"]("loop"))!==!1&&b!==g&&a.$append(" loop"),a.$append(">\nYour browser does not support the video tag.\n</video>")),a.$append("\n</div>\n</div>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/block_video")}(Opal),function(a){var b,c,d,e=a.top,f=a,g=a.nil,h=(a.breaker,a.slice,a.hash2),i=a.range;return a.add_stubs(["$new","$append","$append=","$attr?","$attr","$each","$doctitle","$include?","$>=","$normalize_web_path","$default_asciidoctor_stylesheet","$read_asset","$normalize_system_path","$nil?","$===","$==","$default_coderay_stylesheet","$pygments_stylesheet","$[]","$empty?","$docinfo","$*","$compact","$noheader","$doctype","$outline","$to_i","$has_header?","$notitle","$title","$sub_macros","$>","$downcase","$content","$footnotes?","$index","$text","$footnotes","$nofooter","$join"]),(b=(c=f.Template).$new,b._p=(d=function(b){var c,e,f,j,k,l,m,n,o=d._s||this,p=g,q=g,r=g;return null==o.safe&&(o.safe=g),null==o.id&&(o.id=g),null==o.header&&(o.header=g),null==b&&(b=g),b.$append(""),b.$append("<!DOCTYPE html>\n<html"),b["$append="](function(){return(c=o["$attr?"]("nolang"))!==!1&&c!==g?g:' lang="'+o.$attr("lang","en")+'"'}()),b.$append('>\n<head>\n<meta http-equiv="Content-Type" content="text/html; charset='),b["$append="](o.$attr("encoding")),b.$append('">\n<meta name="generator" content="Asciidoctor '),b["$append="](o.$attr("asciidoctor-version")),b.$append('">\n<meta name="viewport" content="width=device-width, initial-scale=1.0">'),(c=(e=["description","keywords","author","copyright"]).$each,c._p=(f=function(a){var c,d=f._s||this;return null==a&&(a=g),(c=d["$attr?"](a))!==!1&&c!==g?(b.$append('\n<meta name="'),b["$append="](a),b.$append('" content="'),b["$append="](d.$attr(a)),b.$append('">')):g},f._s=o,f),c).call(e),b.$append("\n<title>"),b["$append="]((c=o.$doctitle(h(["sanitize"],{sanitize:!0})))!==!1&&c!==g?c:o.$attr("untitled-label")),b.$append("</title>"),(c=(null==(j=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):j)._scope.DEFAULT_STYLESHEET_KEYS["$include?"](o.$attr("stylesheet")))!==!1&&c!==g?(c=(j=o.safe["$>="]((null==(k=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):k)._scope.SafeMode._scope.SECURE))!==!1&&j!==g?j:o["$attr?"]("linkcss"))!==!1&&c!==g?(b.$append('\n<link rel="stylesheet" href="'),b["$append="](o.$normalize_web_path((null==(c=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):c)._scope.DEFAULT_STYLESHEET_NAME,o.$attr("stylesdir",""))),b.$append('">')):(b.$append("\n<style>\n"),b["$append="]((null==(c=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):c)._scope.HTML5.$default_asciidoctor_stylesheet()),b.$append("\n</style>")):(c=o["$attr?"]("stylesheet"))!==!1&&c!==g&&((c=(j=o.safe["$>="]((null==(k=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):k)._scope.SafeMode._scope.SECURE))!==!1&&j!==g?j:o["$attr?"]("linkcss"))!==!1&&c!==g?(b.$append('\n<link rel="stylesheet" href="'),b["$append="](o.$normalize_web_path(o.$attr("stylesheet"),o.$attr("stylesdir",""))),b.$append('">')):(b.$append("\n<style>\n"),b["$append="](o.$read_asset(o.$normalize_system_path(o.$attr("stylesheet"),o.$attr("stylesdir","")),!0)),b.$append("\n</style>"))),(c=o["$attr?"]("icons","font"))!==!1&&c!==g&&(j=o.$attr("iconfont-remote","")["$nil?"](),(c=j===g||j===!1)!=!1&&c!==g?(b.$append('\n<link rel="stylesheet" href="'),b["$append="](o.$attr("iconfont-cdn","http://cdnjs.cloudflare.com/ajax/libs/font-awesome/3.2.1/css/font-awesome.min.css")),b.$append('">')):(b.$append('\n<link rel="stylesheet" href="'),b["$append="](o.$normalize_web_path(""+o.$attr("iconfont-name","font-awesome")+".css",o.$attr("stylesdir",""))),b.$append('">'))),p=o.$attr("source-highlighter"),"coderay"["$==="](p)?o.$attr("coderay-css","class")["$=="]("class")&&((c=(j=o.safe["$>="]((null==(k=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):k)._scope.SafeMode._scope.SECURE))!==!1&&j!==g?j:o["$attr?"]("linkcss"))!==!1&&c!==g?(b.$append('\n<link rel="stylesheet" href="'),b["$append="](o.$normalize_web_path("asciidoctor-coderay.css",o.$attr("stylesdir",""))),b.$append('">')):(b.$append("\n<style>\n"),b["$append="]((null==(c=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):c)._scope.HTML5.$default_coderay_stylesheet()),b.$append("\n</style>"))):"pygments"["$==="](p)?o.$attr("pygments-css","class")["$=="]("class")&&((c=(j=o.safe["$>="]((null==(k=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):k)._scope.SafeMode._scope.SECURE))!==!1&&j!==g?j:o["$attr?"]("linkcss"))!==!1&&c!==g?(b.$append('\n<link rel="stylesheet" href="'),b["$append="](o.$normalize_web_path("asciidoctor-pygments.css",o.$attr("stylesdir",""))),b.$append('">')):(b.$append("\n<style>\n"),b["$append="]((null==(c=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):c)._scope.HTML5.$pygments_stylesheet(o.$attr("pygments-style"))),b.$append("\n</style>"))):"highlightjs"["$==="](p)?(b.$append('\n<link rel="stylesheet" href="'),b["$append="](o.$attr("highlightjsdir","http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4")),b.$append("/styles/"),b["$append="](o.$attr("highlightjs-theme","googlecode")),b.$append('.min.css">\n<script src="'),b["$append="](o.$attr("highlightjsdir","http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4")),b.$append('/highlight.min.js"></script>\n<script src="'),b["$append="](o.$attr("highlightjsdir","http://cdnjs.cloudflare.com/ajax/libs/highlight.js/7.4")),b.$append('/lang/common.min.js"></script>\n<script>hljs.initHighlightingOnLoad()</script>')):"prettify"["$==="](p)&&(b.$append('\n<link rel="stylesheet" href="'),b["$append="](o.$attr("prettifydir","http://cdnjs.cloudflare.com/ajax/libs/prettify/r298")),b.$append("/"),b["$append="](o.$attr("prettify-theme","prettify")),b.$append('.min.css">\n<script src="'),b["$append="](o.$attr("prettifydir","http://cdnjs.cloudflare.com/ajax/libs/prettify/r298")),b.$append("/prettify.min.js\"></script>\n<script>document.addEventListener('DOMContentLoaded', prettyPrint)</script>")),(c=o["$attr?"]("math"))!==!1&&c!==g&&(b.$append('\n<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  tex2jax: {\n    inlineMath: ['),b["$append="]((null==(c=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):c)._scope.INLINE_MATH_DELIMITERS["$[]"]("latexmath")),b.$append("],\n    displayMath: ["),b["$append="]((null==(c=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):c)._scope.BLOCK_MATH_DELIMITERS["$[]"]("latexmath")),b.$append("],\n    ignoreClass: 'nomath|nolatexmath'\n  },\n  asciimath2jax: {\n    delimiters: ["),b["$append="]((null==(c=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):c)._scope.BLOCK_MATH_DELIMITERS["$[]"]("asciimath")),b.$append("],\n    ignoreClass: 'nomath|noasciimath'\n  }\n});\n</script>\n<script type=\"text/javascript\" src=\"http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_HTMLorMML\"></script>\n<script>document.addEventListener('DOMContentLoaded', MathJax.Hub.TypeSet)</script>")),b.$append(""),b["$append="](function(){return(c=(q=o.$docinfo())["$empty?"]())!==!1&&c!==g?g:"\n"+q}()),b.$append("\n</head>\n<body"),b["$append="]((c=o.id,c!==!1&&c!==g?' id="'+o.id+'"':c)),b.$append(' class="'),b["$append="]([o.$attr("doctype"),function(){return k=o["$attr?"]("toc-class"),j=k!==!1&&k!==g?o["$attr?"]("toc"):k,(c=j!==!1&&j!==g?o["$attr?"]("toc-placement","auto"):j)!==!1&&c!==g?""+o.$attr("toc-class")+" toc-"+o.$attr("toc-position","left"):g}()].$compact()["$*"](" ")),b.$append('"'),b["$append="](function(){return(c=o["$attr?"]("max-width"))!==!1&&c!==g?' style="max-width: '+o.$attr("max-width")+';"':g}()),b.$append(">"),((c=o.$noheader())===!1||c===g)&&(b.$append('\n<div id="header">'),o.$doctype()["$=="]("manpage")?(b.$append("\n<h1>"),b["$append="](o.$doctitle()),b.$append(" Manual Page</h1>"),j=o["$attr?"]("toc"),(c=j!==!1&&j!==g?o["$attr?"]("toc-placement","auto"):j)!==!1&&c!==g&&(b.$append('\n<div id="toc" class="'),b["$append="](o.$attr("toc-class","toc")),b.$append('">\n<div id="toctitle">'),b["$append="](o.$attr("toc-title")),b.$append("</div>\n"),b["$append="]((null==(c=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):c)._scope.HTML5._scope.DocumentTemplate.$outline(o,o.$attr("toclevels",2).$to_i())),b.$append("\n</div>")),b.$append("\n<h2>"),b["$append="](o.$attr("manname-title")),b.$append('</h2>\n<div class="sectionbody">\n<p>'),b["$append="](""+o.$attr("manname")+" - "+o.$attr("manpurpose")),b.$append("</p>\n</div>")):((c=o["$has_header?"]())!==!1&&c!==g&&(((c=o.$notitle())===!1||c===g)&&(b.$append("\n<h1>"),b["$append="](o.header.$title()),b.$append("</h1>")),(c=o["$attr?"]("author"))!==!1&&c!==g&&(b.$append('\n<span id="author" class="author">'),b["$append="](o.$attr("author")),b.$append("</span><br>"),(c=o["$attr?"]("email"))!==!1&&c!==g&&(b.$append('\n<span id="email" class="email">'),b["$append="](o.$sub_macros(o.$attr("email"))),b.$append("</span><br>")),(r=o.$attr("authorcount").$to_i())["$>"](1)&&(c=(j=i(2,r,!1)).$each,c._p=(l=function(a){var c,d=l._s||this;return null==a&&(a=g),b.$append('\n<span id="author'),b["$append="](a),b.$append('" class="author">'),b["$append="](d.$attr("author_"+a)),b.$append("</span><br>"),(c=d["$attr?"]("email_"+a))!==!1&&c!==g?(b.$append('\n<span id="email'),b["$append="](a),b.$append('" class="email">'),b["$append="](d.$sub_macros(d.$attr("email_"+a))),b.$append("</span><br>")):g},l._s=o,l),c).call(j)),(c=o["$attr?"]("revnumber"))!==!1&&c!==g&&(b.$append('\n<span id="revnumber">'),b["$append="](((c=o.$attr("version-label"))!==!1&&c!==g?c:"").$downcase()),b.$append(" "),b["$append="](o.$attr("revnumber")),b.$append(""),b["$append="](function(){return(c=o["$attr?"]("revdate"))!==!1&&c!==g?",":""}()),b.$append("</span>")),(c=o["$attr?"]("revdate"))!==!1&&c!==g&&(b.$append('\n<span id="revdate">'),b["$append="](o.$attr("revdate")),b.$append("</span>")),(c=o["$attr?"]("revremark"))!==!1&&c!==g&&(b.$append('\n<br>\n<span id="revremark">'),b["$append="](o.$attr("revremark")),b.$append("</span>"))),k=o["$attr?"]("toc"),(c=k!==!1&&k!==g?o["$attr?"]("toc-placement","auto"):k)!==!1&&c!==g&&(b.$append('\n<div id="toc" class="'),b["$append="](o.$attr("toc-class","toc")),b.$append('">\n<div id="toctitle">'),b["$append="](o.$attr("toc-title")),b.$append("</div>\n"),b["$append="]((null==(c=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):c)._scope.HTML5._scope.DocumentTemplate.$outline(o,o.$attr("toclevels",2).$to_i())),b.$append("\n</div>"))),b.$append("\n</div>")),b.$append('\n<div id="content">\n'),b["$append="](o.$content()),b.$append("\n</div>"),m=o["$footnotes?"](),((c=(k=m===g||m===!1)!=!1&&k!==g?k:o["$attr?"]("nofootnotes"))===!1||c===g)&&(b.$append('\n<div id="footnotes">\n<hr>'),(c=(k=o.$footnotes()).$each,c._p=(n=function(a){n._s||this;return null==a&&(a=g),b.$append('\n<div class="footnote" id="_footnote_'),b["$append="](a.$index()),b.$append('">\n<a href="#_footnoteref_'),b["$append="](a.$index()),b.$append('">'),b["$append="](a.$index()),b.$append("</a>. "),b["$append="](a.$text()),b.$append("\n</div>")},n._s=o,n),c).call(k),b.$append("\n</div>")),b.$append(""),((c=o.$nofooter())===!1||c===g)&&(b.$append('\n<div id="footer">\n<div id="footer-text">'),(c=o["$attr?"]("revnumber"))!==!1&&c!==g&&(b.$append("\n"),b["$append="](""+o.$attr("version-label")+" "+o.$attr("revnumber")),b.$append("<br>")),(c=o["$attr?"]("last-update-label"))!==!1&&c!==g&&(b.$append("\n"),b["$append="](""+o.$attr("last-update-label")+" "+o.$attr("docdatetime")),b.$append("")),b.$append(""),b["$append="](function(){return(c=(q=o.$docinfo("footer"))["$empty?"]())!==!1&&c!==g?g:"\n"+q}()),b.$append("\n</div>\n</div>")),b.$append("\n</body>\n</html>\n"),b.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/document")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$notitle","$has_header?","$append=","$title","$content","$footnotes?","$attr?","$each","$index","$text","$footnotes","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f,h=d._s||this;return null==h.id&&(h.id=g),null==h.header&&(h.header=g),null==a&&(a=g),a.$append(""),a.$append(""),e=h.$notitle(),c=e===g||e===!1,(b=c!==!1&&c!==g?h["$has_header?"]():c)!==!1&&b!==g&&(a.$append("<h1"),a["$append="]((b=h.id,b!==!1&&b!==g?' id="'+h.id+'"':b)),a.$append(">"),a["$append="](h.header.$title()),a.$append("</h1>")),a.$append(""),a["$append="](h.$content()),a.$append(""),c=h["$footnotes?"](),(b=c!==!1&&c!==g?(e=h["$attr?"]("nofootnotes"),e===g||e===!1):c)!==!1&&b!==g&&(a.$append('\n<div id="footnotes">\n<hr>'),(b=(c=h.$footnotes()).$each,b._p=(f=function(b){f._s||this;return null==b&&(b=g),a.$append(""),a["$append="]('\n<div class="footnote" id="_footnote_'+b.$index()+'">\n<a href="#_footnoteref_'+b.$index()+'">'+b.$index()+"</a>. "+b.$text()+"\n</div>"),a.$append("")},f._s=h,f),b).call(c),a.$append("\n</div>")),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/embedded")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$===","$attr","$append=","$tr_s","$fetch","$[]","$references","$role?","$role","$attr?","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c=d._s||this,e=g,f=g;return null==c.type&&(c.type=g),null==c.target&&(c.target=g),null==c.text&&(c.text=g),null==c.document&&(c.document=g),null==a&&(a=g),a.$append(""),a.$append(""),e=c.type,"xref"["$==="](e)?(f=(b=c.$attr("refid"))!==!1&&b!==g?b:c.target,a.$append(""),a["$append="]('<a href="'+c.target+'">'+((b=c.text)!==!1&&b!==g?b:c.document.$references()["$[]"]("ids").$fetch(f,"["+f+"]").$tr_s("\n"," "))+"</a>"),a.$append("")):"ref"["$==="](e)?(a.$append(""),a["$append="]('<a id="'+c.target+'"></a>'),a.$append("")):"bibref"["$==="](e)?(a.$append(""),a["$append="]('<a id="'+c.target+'"></a>['+c.target+"]"),a.$append("")):(a.$append(""),a["$append="]('<a href="'+c.target+'"'+function(){return(b=c["$role?"]())!==!1&&b!==g?' class="'+c.$role()+'"':g}()+function(){return(b=c["$attr?"]("window"))!==!1&&b!==g?' target="'+c.$attr("window")+'"':g}()+">"+c.text+"</a>"),a.$append("")),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/inline_anchor")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b=d._s||this;return null==b.text&&(b.text=g),null==a&&(a=g),a.$append(""),a["$append="](b.text),a.$append("<br>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/inline_break")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b=d._s||this;return null==b.text&&(b.text=g),null==a&&(a=g),a.$append(""),a.$append('<b class="button">'),a["$append="](b.text),a.$append("</b>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/inline_button")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$attr?","$append=","$icon_uri","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c=d._s||this;return null==c.document&&(c.document=g),null==c.text&&(c.text=g),null==a&&(a=g),a.$append(""),a.$append(""),(b=c.document["$attr?"]("icons","font"))!==!1&&b!==g?(a.$append('<i class="conum" data-value="'),a["$append="](c.text),a.$append('"></i><b>('),a["$append="](c.text),a.$append(")</b>")):(b=c.document["$attr?"]("icons"))!==!1&&b!==g?(a.$append('<img src="'),a["$append="](c.$icon_uri("callouts/"+c.text)),a.$append('" alt="'),a["$append="](c.text),a.$append('">')):(a.$append("<b>("),a["$append="](c.text),a.$append(")</b>")),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/inline_callout")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$attr","$==","$append=","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c=d._s||this,e=g;return null==c.type&&(c.type=g),null==c.id&&(c.id=g),null==a&&(a=g),a.$append(""),a.$append(""),e=c.$attr("index"),c.type["$=="]("xref")?(a.$append(""),a["$append="]('<span class="footnoteref">[<a class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</span>"),a.$append("")):(a.$append(""),a["$append="]('<span class="footnote"'+(b=c.id,b!==!1&&b!==g?' id="_footnote_'+c.id+'"':b)+'>[<a id="_footnoteref_'+e+'" class="footnote" href="#_footnote_'+e+'" title="View footnote.">'+e+"</a>]</span>"),a.$append("")),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/inline_footnote")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$*","$compact","$role","$attr?","$attr","$==","$<<","$icon_uri","$image_uri","$join","$map"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f,h=d._s||this,i=g,j=g,k=g,l=g,m=g;return null==h.type&&(h.type=g),null==h.document&&(h.document=g),null==h.target&&(h.target=g),null==a&&(a=g),a.$append(""),a.$append('<span class="'),a["$append="]([h.type,h.$role()].$compact()["$*"](" ")),a.$append('"'),a["$append="](function(){return(b=h["$attr?"]("float"))!==!1&&b!==g?' style="float: '+h.$attr("float")+';"':g}()),a.$append(">"),(b=(c=h.type["$=="]("icon"))?h.document["$attr?"]("icons","font"):c)!==!1&&b!==g?(i=["icon-"+h.target],(b=h["$attr?"]("size"))!==!1&&b!==g&&i["$<<"]("icon-"+h.$attr("size")),(b=h["$attr?"]("rotate"))!==!1&&b!==g&&i["$<<"]("icon-rotate-"+h.$attr("rotate")),(b=h["$attr?"]("flip"))!==!1&&b!==g&&i["$<<"]("icon-flip-"+h.$attr("flip")),j=function(){return(b=h["$attr?"]("title"))!==!1&&b!==g?' title="'+h.$attr("title")+'"':g}(),k='<i class="'+i["$*"](" ")+'"'+j+"></i>"):(b=(c=h.type["$=="]("icon"))?(e=h.document["$attr?"]("icons"),e===g||e===!1):c)!==!1&&b!==g?k="["+h.$attr("alt")+"]":(l=function(){return h.type["$=="]("icon")?h.$icon_uri(h.target):h.$image_uri(h.target)}(),m=(b=(c=["alt","width","height","title"]).$map,b._p=(f=function(a){var b,c=f._s||this;return null==a&&(a=g),(b=c["$attr?"](a))!==!1&&b!==g?" "+a+'="'+c.$attr(a)+'"':g},f._s=h,f),b).call(c).$join(),k='<img src="'+l+'"'+m+">"),(b=h["$attr?"]("link"))!==!1&&b!==g?(a.$append('<a class="image" href="'),a["$append="](h.$attr("link")),a.$append('"'),a["$append="](function(){return(b=h["$attr?"]("window"))!==!1&&b!==g?' target="'+h.$attr("window")+'"':g}()),a.$append(">"),a["$append="](k),a.$append("</a>")):(a.$append(""),a["$append="](k),a.$append("")),a.$append("</span>\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/inline_image")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$==","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b=d._s||this;return null==b.type&&(b.type=g),null==b.text&&(b.text=g),null==a&&(a=g),a.$append(""),a.$append(""),a["$append="](function(){return b.type["$=="]("visible")?b.text:g}()),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/inline_indexterm")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$attr","$==","$size","$append=","$first","$map","$+","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f=d._s||this,h=g,i=g;return null==a&&(a=g),a.$append(""),a.$append(""),h=f.$attr("keys"),h.$size()["$=="](1)?(a.$append("<kbd>"),a["$append="](h.$first()),a.$append("</kbd>")):(a.$append('<kbd class="keyseq">'),i=0,(b=(c=h).$map,b._p=(e=function(b){e._s||this;return null==b&&(b=g),a.$append(""),a["$append="](function(){return(i=i["$+"](1))["$=="](1)?g:"+"}()),a.$append("<kbd>"),a["$append="](b),a.$append("</kbd>")},e._s=f,e),b).call(c),a.$append("</kbd>")),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/inline_kbd")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$attr","$empty?","$chop","$join","$map","$append=","$nil?"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f,h=d._s||this,i=g,j=g,k=g,l=g;return null==a&&(a=g),a.$append(""),a.$append(""),i=h.$attr("menu"),j=h.$attr("submenus"),k=h.$attr("menuitem"),c=j["$empty?"](),(b=c===g||c===!1)!=!1&&b!==g?(l=(b=(c=j).$map,b._p=(e=function(a){e._s||this;return null==a&&(a=g),'<span class="submenu">'+a+"</span>&#160;&#9656; "},e._s=h,e),b).call(c).$join().$chop(),a.$append('<span class="menuseq"><span class="menu">'),a["$append="](i),a.$append("</span>&#160;&#9656; "),a["$append="](l),a.$append(' <span class="menuitem">'),a["$append="](k),a.$append("</span></span>")):(f=k["$nil?"](),(b=f===g||f===!1)!=!1&&b!==g?(a.$append('<span class="menuseq"><span class="menu">'),a["$append="](i),a.$append('</span>&#160;&#9656; <span class="menuitem">'),a["$append="](k),a.$append("</span></span>")):(a.$append('<span class="menu">'),a["$append="](i),a.$append("</span>"))),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/inline_menu")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$append=","$role","$===","$[]","$join"]),(b=(c=f.Template).$new,b._p=(d=function(b){var c,e,f=d._s||this,h=g,i=g,j=g,k=g,l=g;return null==f.id&&(f.id=g),null==f.type&&(f.type=g),null==f.text&&(f.text=g),null==b&&(b=g),b.$append(""),b.$append(""),b["$append="]((c=f.id,c!==!1&&c!==g?'<a id="'+f.id+'"></a>':c)),b.$append(""),h=function(){return(c=i=f.$role())!==!1&&c!==g?' class="'+i+'"':g}(),j=f.type,"emphasis"["$==="](j)?(b.$append(""),b["$append="]("<em"+h+">"+f.text+"</em>"),b.$append("")):"strong"["$==="](j)?(b.$append(""),b["$append="]("<strong"+h+">"+f.text+"</strong>"),b.$append("")):"monospaced"["$==="](j)?(b.$append(""),b["$append="]("<code"+h+">"+f.text+"</code>"),b.$append("")):"superscript"["$==="](j)?(b.$append(""),b["$append="]("<sup"+h+">"+f.text+"</sup>"),b.$append("")):"subscript"["$==="](j)?(b.$append(""),b["$append="]("<sub"+h+">"+f.text+"</sub>"),b.$append("")):"double"["$==="](j)?(b.$append(""),b["$append="](function(){return h!==!1&&h!==g?"<span"+h+">&#8220;"+f.text+"&#8221;</span>":"&#8220;"+f.text+"&#8221;"}()),b.$append("")):"single"["$==="](j)?(b.$append(""),b["$append="](function(){return h!==!1&&h!==g?"<span"+h+">&#8216;"+f.text+"&#8217;</span>":"&#8216;"+f.text+"&#8217;"}()),b.$append("")):"asciimath"["$==="](j)||"latexmath"["$==="](j)?(c=a.to_ary((null==(e=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):e)._scope.INLINE_MATH_DELIMITERS["$[]"](f.type)),k=null==c[0]?g:c[0],l=null==c[1]?g:c[1],b.$append(""),b["$append="](""+k+f.text+l),b.$append("")):(b.$append(""),b["$append="](function(){return h!==!1&&h!==g?"<span"+h+">"+f.text+"</span>":f.text}()),b.$append("")),b.$append("\n"),b.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/inline_quoted")}(Opal),function(a){{var b,c,d,e=a.top,f=a,g=a.nil;a.breaker,a.slice}return a.add_stubs(["$new","$append","$zero?","$attr?","$append=","$title","$content","$nil?","$<=","$to_i","$attr","$sectnum","$+","$*","$compact","$role","$captioned_title","$==","$join"]),(b=(c=f.Template).$new,b._p=(d=function(a){var b,c,e,f=d._s||this,h=g,i=g,j=g,k=g,l=g,m=g;return null==f.level&&(f.level=g),null==f.special&&(f.special=g),null==f.id&&(f.id=g),null==f.document&&(f.document=g),null==f.numbered&&(f.numbered=g),null==f.caption&&(f.caption=g),null==a&&(a=g),a.$append(""),a.$append(""),h=function(){return c=f.level["$zero?"](),(b=c!==!1&&c!==g?f.special:c)!==!1&&b!==g?1:f.level}(),i=j=k=g,(b=f.id)!==!1&&b!==g&&((b=f.document["$attr?"]("sectanchors"))!==!1&&b!==g?i='<a class="anchor" href="#'+f.id+'"></a>':(b=f.document["$attr?"]("sectlinks"))!==!1&&b!==g&&(j='<a class="link" href="#'+f.id+'">',k="</a>")),(b=h["$zero?"]())!==!1&&b!==g?(a.$append("<h1"),a["$append="]((b=f.id,b!==!1&&b!==g?' id="'+f.id+'"':b)),a.$append(' class="sect0">'),a["$append="](""+i+j+f.$title()+k),a.$append("</h1>\n"),a["$append="](f.$content()),a.$append("")):(l=function(){return e=f.numbered,c=e!==!1&&e!==g?f.caption["$nil?"]():e,(b=c!==!1&&c!==g?h["$<="](f.document.$attr("sectnumlevels",3).$to_i()):c)!==!1&&b!==g?""+f.$sectnum()+" ":g}(),m=h["$+"](1),a.$append('<div class="'),a["$append="](["sect"+h,f.$role()].$compact()["$*"](" ")),a.$append('">\n<h'),a["$append="](m),a.$append(""),a["$append="]((b=f.id,b!==!1&&b!==g?' id="'+f.id+'"':b)),a.$append(">"),a["$append="](""+i+j+l+f.$captioned_title()+k),a.$append("</h"),a["$append="](m),a.$append(">"),h["$=="](1)?(a.$append('\n<div class="sectionbody">\n'),a["$append="](f.$content()),a.$append("\n</div>")):(a.$append("\n"),a["$append="](f.$content()),a.$append("")),a.$append("\n</div>")),a.$append("\n"),a.$join()},d._s=e,d),b).call(c,"asciidoctor/backends/erb/html5/section")}(Opal),function(a){a.top,a.nil,a.breaker,a.slice;return!0}(Opal),function(a){var b,c=a.top,d=a,e=a.nil,f=(a.breaker,a.slice,a.gvars),g=a.module,h=a.hash2,i=a.range;return((b=null!=d.RUBY_ENGINE)==!1||b===e)&&a.cdecl(d,"RUBY_ENGINE","unknown"),a.cdecl(d,"RUBY_ENGINE_OPAL",d.RUBY_ENGINE["$=="]("opal")),a.cdecl(d,"RUBY_ENGINE_JRUBY",d.RUBY_ENGINE["$=="]("jruby")),(b=d.RUBY_ENGINE_OPAL)!==!1&&b!==e,f[":"].$unshift(d.File.$dirname("asciidoctor")),function(b){var c,d,f,j,k,l,m=g(b,"Asciidoctor"),n=(m._proto,m._scope);(c=null==(d=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):d)===!1||c===e,function(b){var c=g(b,"SafeMode"),d=(c._proto,c._scope);a.cdecl(d,"UNSAFE",0),a.cdecl(d,"SAFE",1),a.cdecl(d,"SERVER",10),a.cdecl(d,"SECURE",20)}(m),function(a){{var b=g(a,"Compliance");b._proto,b._scope}b.block_terminates_paragraph=!0,function(a){a._scope,a._proto;return a.$attr_accessor("block_terminates_paragraph")}(b.$singleton_class()),b.strict_verbatim_paragraphs=!0,function(a){a._scope,a._proto;return a.$attr_accessor("strict_verbatim_paragraphs")}(b.$singleton_class()),b.underline_style_section_titles=!0,function(a){a._scope,a._proto;return a.$attr_accessor("underline_style_section_titles")}(b.$singleton_class()),b.unwrap_standalone_preamble=!0,function(a){a._scope,a._proto;return a.$attr_accessor("unwrap_standalone_preamble")}(b.$singleton_class()),b.attribute_missing="skip",function(a){a._scope,a._proto;return a.$attr_accessor("attribute_missing")}(b.$singleton_class()),b.attribute_undefined="drop-line",function(a){a._scope,a._proto;return a.$attr_accessor("attribute_undefined")}(b.$singleton_class()),b.markdown_syntax=!0,function(a){a._scope,a._proto;return a.$attr_accessor("markdown_syntax")}(b.$singleton_class())}(m),a.cdecl(n,"LIB_PATH",(null==(c=a.Object._scope.File)?a.cm("File"):c).$expand_path((null==(c=a.Object._scope.File)?a.cm("File"):c).$dirname("asciidoctor"))),a.cdecl(n,"ROOT_PATH",(null==(c=a.Object._scope.File)?a.cm("File"):c).$dirname(n.LIB_PATH)),a.cdecl(n,"USER_HOME",function(){return(null==(c=a.Object._scope.RUBY_VERSION)?a.cm("RUBY_VERSION"):c)["$>="]("1.9")?(null==(c=a.Object._scope.Dir)?a.cm("Dir"):c).$home():n.ENV["$[]"]("HOME")}()),a.cdecl(n,"COERCE_ENCODING",(d=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f,c=d===e||d===!1,c!==!1&&c!==e?(null==(d=a.Object._scope.RUBY_VERSION)?a.cm("RUBY_VERSION"):d)["$>="]("1.9"):c)),a.cdecl(n,"FORCE_ENCODING",(c=n.COERCE_ENCODING,c!==!1&&c!==e?(d=(null==(f=a.Object._scope.Encoding)?a.cm("Encoding"):f).$default_external()["$=="]((null==(f=a.Object._scope.Encoding)?a.cm("Encoding"):f)._scope.UTF_8),d===e||d===!1):c)),a.cdecl(n,"BOM_BYTES_UTF_8","xefxbbxbf".$bytes().$to_a()),a.cdecl(n,"BOM_BYTES_UTF_16LE","xffxfe".$bytes().$to_a()),a.cdecl(n,"BOM_BYTES_UTF_16BE","xfexff".$bytes().$to_a()),a.cdecl(n,"FORCE_UNICODE_LINE_LENGTH",(null==(c=a.Object._scope.RUBY_VERSION)?a.cm("RUBY_VERSION"):c)["$<"]("1.9")),a.cdecl(n,"EOL","\n"),a.cdecl(n,"LINE_SPLIT",/\n/),a.cdecl(n,"DEFAULT_DOCTYPE","article"),a.cdecl(n,"DEFAULT_BACKEND","html5"),a.cdecl(n,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set()),a.cdecl(n,"DEFAULT_STYLESHEET_NAME","asciidoctor.css"),a.cdecl(n,"BACKEND_ALIASES",h(["html","docbook"],{html:"html5",docbook:"docbook45"})),a.cdecl(n,"DEFAULT_PAGE_WIDTHS",h(["docbook"],{docbook:425})),a.cdecl(n,"DEFAULT_EXTENSIONS",h(["html","docbook","asciidoc","markdown"],{html:".html",docbook:".xml",asciidoc:".ad",markdown:".md"})),a.cdecl(n,"ASCIIDOC_EXTENSIONS",h([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0})),a.cdecl(n,"SECTION_LEVELS",h(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4})),a.cdecl(n,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set()),a.cdecl(n,"PARAGRAPH_STYLES",["comment","example","literal","listing","normal","pass","quote","sidebar","source","verse","abstract","partintro"].$to_set()),a.cdecl(n,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set()),a.cdecl(n,"DELIMITED_BLOCKS",h(["--","----","....","====","****","____",'""',"++++","|===",",===",":===","!===","////","```","~~~"],{"--":["open",["comment","example","literal","listing","pass","quote","sidebar","source","verse","admonition","abstract","partintro"].$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["math","latexmath","asciimath"].$to_set()],"|===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],",===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],":===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"!===":["table",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"////":["comment",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"```":["fenced_code",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()],"~~~":["fenced_code",(null==(c=a.Object._scope.Set)?a.cm("Set"):c).$new()]})),a.cdecl(n,"DELIMITED_BLOCK_LEADERS",(c=(d=n.DELIMITED_BLOCKS.$keys()).$map,c._p=(j=function(a){j._s||this;
return null==a&&(a=e),a["$[]"](i(0,1,!1))},j._s=m,j),c).call(d).$to_set()),a.cdecl(n,"BREAK_LINES",h(["'","-","*","_","<"],{"'":"ruler","-":"ruler","*":"ruler",_:"ruler","<":"page_break"})),a.cdecl(n,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]),a.cdecl(n,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]),a.cdecl(n,"ORDERED_LIST_MARKER_PATTERNS",h(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/})),a.cdecl(n,"ORDERED_LIST_KEYWORDS",h(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"})),a.cdecl(n,"LIST_CONTINUATION","+"),a.cdecl(n,"LINE_BREAK"," +"),a.cdecl(n,"LINE_FEED_ENTITY","&#10;"),a.cdecl(n,"BLOCK_MATH_DELIMITERS",h(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]})),a.cdecl(n,"INLINE_MATH_DELIMITERS",h(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]})),a.cdecl(n,"FLEXIBLE_ATTRIBUTES",["numbered"]),(c=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f)!==!1&&c!==e?(a.cdecl(n,"CC_ALPHA","a-zA-Z"),a.cdecl(n,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(n,"CC_BLANK","[ 	]"),a.cdecl(n,"CC_GRAPH","[x21-x7E]"),a.cdecl(n,"CC_EOL","(?=\n|$)")):(a.cdecl(n,"CC_ALPHA","[:alpha:]"),a.cdecl(n,"CC_ALNUM","[:alnum:]"),a.cdecl(n,"CC_BLANK","[[:blank:]]"),a.cdecl(n,"CC_GRAPH","[[:graph:]]"),a.cdecl(n,"CC_EOL","$")),a.cdecl(n,"BLANK_LINE_PATTERN",new RegExp("^"+n.CC_BLANK+"*\\n")),a.cdecl(n,"PASS_PLACEHOLDER",h(["start","end","match","match_syn"],{start:function(){return(c=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f)!==!1&&c!==e?150..$chr():"u0096"}(),end:function(){return(c=null==(f=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):f)!==!1&&c!==e?151..$chr():"u0097"}(),match:/\u0096(\d+)\u0097/,match_syn:/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/})),a.cdecl(n,"REGEXP",h(["admonition_inline","anchor","anchor_embedded","anchor_macro","any_blk","any_list","attr_entry","blk_attr_list","attr_line","attr_ref","author_info","biblio_macro","callout_render","callout_quick_scan","callout_scan","colist","comment_blk","comment","ssv_or_csv_delim","space_delim","kbd_delim","escaped_space","digits","dlist","dlist_siblings","illegal_sectid_chars","footnote_macro","generic_blk_macro","kbd_btn_macro","menu_macro","menu_inline_macro","media_blk_macro","image_macro","indexterm_macro","leading_blanks","leading_parent_dirs","line_break","link_inline","link_macro","email_inline","lit_par","olist","break_line","break_line_plus","pass_macro","inline_math_macro","pass_macro_basic","pass_lit","revision_info","single_quote_esc","illegal_attr_name_chars","table_colspec","table_cellspec","trailing_digit","blk_title","dbl_quoted","m_dbl_quoted","section_float_style","section_title","section_name","section_underline","toc","ulist","xref_macro","ifdef_macro","eval_expr","include_macro","uri_sniff","uri_encode_chars","mantitle_manvolnum","manname_manpurpose"],{admonition_inline:new RegExp("^("+n.ADMONITION_STYLES.$to_a()["$*"]("|")+"):"+n.CC_BLANK),anchor:new RegExp("^\\[\\[(?:|(["+n.CC_ALPHA+":_][\\w:.-]*)(?:,"+n.CC_BLANK+"*(\\S.*))?)\\]\\]$"),anchor_embedded:new RegExp("^(.*?)"+n.CC_BLANK+"+(\\\\)?\\[\\[(["+n.CC_ALPHA+":_][\\w:.-]*)(?:,"+n.CC_BLANK+"*(\\S.*?))?\\]\\]$"),anchor_macro:new RegExp("\\\\?(?:\\[\\[(["+n.CC_ALPHA+":_][\\w:.-]*)(?:,"+n.CC_BLANK+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"),any_blk:/^(?:(?:-|\.|=|\*|_|\+|\/){4,}|[\|,;!]={3,}|(?:`|~){3,}.*)$/,any_list:new RegExp("^(?:<?\\d+>"+n.CC_BLANK+"+"+n.CC_GRAPH+"|"+n.CC_BLANK+"*(?:-|(?:\\*|\\.){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+n.CC_BLANK+"+"+n.CC_GRAPH+"|"+n.CC_BLANK+"*.*?(?::{2,4}|;;)(?:"+n.CC_BLANK+"+"+n.CC_GRAPH+"|$))"),attr_entry:new RegExp("^:(!?\\w.*?):(?:"+n.CC_BLANK+"+(.*))?$"),blk_attr_list:new RegExp("^\\[(|"+n.CC_BLANK+"*[\\w\\{,.#\"'%].*)\\]$"),attr_line:new RegExp("^\\[(|"+n.CC_BLANK+"*[\\w\\{,.#\"'%].*|\\[(?:|["+n.CC_ALPHA+":_][\\w:.-]*(?:,"+n.CC_BLANK+"*\\S.*)?)\\])\\]$"),attr_ref:/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/,author_info:/^(\w[\w\-'.]*)(?: +(\w[\w\-'.]*))?(?: +(\w[\w\-'.]*))?(?: +<([^>]+)>)?$/,biblio_macro:/\\?\[\[\[([\w:][\w:.-]*?)\]\]\]/,callout_render:new RegExp("(?:(?:\\/\\/|#|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+n.CC_EOL+")"),callout_quick_scan:new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+n.CC_EOL+")"),callout_scan:new RegExp("(?:(?:\\/\\/|#|;;) ?)?(\\\\)?<!?(--|)(\\d+)\\2>(?=(?: ?\\\\?<!?\\2\\d+\\2>)*"+n.CC_EOL+")"),colist:new RegExp("^<?(\\d+)>"+n.CC_BLANK+"+(.*)"),comment_blk:/^\/{4,}$/,comment:/^\/\/(?:[^\/]|$)/,ssv_or_csv_delim:/,|;/,space_delim:new RegExp("([^\\\\])"+n.CC_BLANK+"+"),kbd_delim:new RegExp("(?:\\+|,)(?="+n.CC_BLANK+"*[^\\1])"),escaped_space:new RegExp("\\\\("+n.CC_BLANK+")"),digits:/^\d+$/,dlist:new RegExp("^(?!\\/\\/)"+n.CC_BLANK+"*(.*?)(:{2,4}|;;)(?:"+n.CC_BLANK+"+(.*))?$"),dlist_siblings:h(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+n.CC_BLANK+"*((?:.*[^:])?)(::)(?:"+n.CC_BLANK+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+n.CC_BLANK+"*((?:.*[^:])?)(:::)(?:"+n.CC_BLANK+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+n.CC_BLANK+"*((?:.*[^:])?)(::::)(?:"+n.CC_BLANK+"+(.*))?$"),";;":new RegExp("^(?!\\/\\/)"+n.CC_BLANK+"*(.*)(;;)(?:"+n.CC_BLANK+"+(.*))?$")}),illegal_sectid_chars:/&(?:[a-zA-Z]{2,}|#\d{2,4}|#x[a-fA-F0-9]{2,4});|\W+?/,footnote_macro:/\\?(footnote(?:ref)?):\[(.*?[^\\])\]/i,generic_blk_macro:/^(\w[\w\-]*)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/,kbd_btn_macro:/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/,menu_macro:new RegExp("\\\\?menu:(\\w|\\w.*?\\S)\\["+n.CC_BLANK+"*(.+?)?\\]"),menu_inline_macro:new RegExp('\\\\?"(\\w[^"]*?'+n.CC_BLANK+"*&gt;"+n.CC_BLANK+'*[^" \\t][^"]*)"'),media_blk_macro:/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/,image_macro:/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/,indexterm_macro:/\\?(?:(indexterm2?):\[(.*?[^\\])\]|\(\((.+?)\)\)(?!\)))/i,leading_blanks:new RegExp("^("+n.CC_BLANK+"*)"),leading_parent_dirs:/^(?:\.\.\/)*/,line_break:new RegExp("^(.*)"+n.CC_BLANK+"\\+"+n.CC_EOL),link_inline:/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/,link_macro:/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/,email_inline:new RegExp("[\\\\>:]?\\w[\\w.%+-]*@["+n.CC_ALNUM+"]["+n.CC_ALNUM+".-]*\\.["+n.CC_ALPHA+"]{2,4}\\b"),lit_par:new RegExp("^("+n.CC_BLANK+"+.*)$"),olist:new RegExp("^"+n.CC_BLANK+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+n.CC_BLANK+"+(.*)$"),break_line:/^('|<){3,}$/,break_line_plus:/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/,pass_macro:/\\?(?:(\+{3}|\${2})(.*?)\1|pass:([a-z,]*)\[(.*?[^\\])\])/i,inline_math_macro:/\\?((?:latex|ascii)?math):([a-z,]*)\[(.*?[^\\])\]/i,pass_macro_basic:/^pass:([a-z,]*)\[(.*)\]$/,pass_lit:/(^|[^`\w])(?:\[([^\]]+?)\])?(\\?`([^`\s]|[^`\s].*?\S)`)(?![`\w])/i,revision_info:/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/,single_quote_esc:/(\w)\\'(\w)/,illegal_attr_name_chars:/[^\w\-]/,table_colspec:/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/,table_cellspec:h(["start","end"],{start:new RegExp("^"+n.CC_BLANK+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?\\|"),end:new RegExp(""+n.CC_BLANK+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$")}),trailing_digit:/\d+$/,blk_title:/^\.([^\s.].*)$/,dbl_quoted:/^("|)(.*)\1$/,m_dbl_quoted:/^("|)(.*)\1$/i,section_float_style:/^(?:float|discrete)\b/,section_title:new RegExp("^((?:=|#){1,6})"+n.CC_BLANK+"+(\\S.*?)(?:"+n.CC_BLANK+"+\\1)?$"),section_name:/^((?=.*\w+.*)[^.].*?)$/,section_underline:/^(?:=|-|~|\^|\+)+$/,toc:/^toc::\[(.*?)\]$/,ulist:new RegExp("^"+n.CC_BLANK+"*(-|\\*{1,5})"+n.CC_BLANK+"+(.*)$"),xref_macro:/\\?(?:&lt;&lt;([\w":].*?)&gt;&gt;|xref:([\w":].*?)\[(.*?)\])/i,ifdef_macro:/^[\\]?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/,eval_expr:new RegExp("^(\\S.*?)"+n.CC_BLANK+"*(==|!=|<=|>=|<|>)"+n.CC_BLANK+"*(\\S.*)$"),include_macro:/^\\?include::([^\[]+)\[(.*?)\]$/,uri_sniff:new RegExp("^["+n.CC_ALPHA+"]["+n.CC_ALNUM+".+-]*:/{0,2}"),uri_encode_chars:/[^\w\-.!~*';:@=+$,()\[\]]/,mantitle_manvolnum:/^(.*)\((.*)\)$/,manname_manpurpose:new RegExp("^(.*?)"+n.CC_BLANK+"+-"+n.CC_BLANK+"+(.*)$")})),a.cdecl(n,"INTRINSICS",(c=(f=null==(l=a.Object._scope.Hash)?a.cm("Hash"):l).$new,c._p=(k=function(a,b){k._s||this;return null==a&&(a=e),null==b&&(b=e),n.STDERR.$puts("Missing intrinsic: "+b.$inspect()),"{"+b+"}"},k._s=m,k),c).call(f).$merge(h(["startsb","endsb","vbar","caret","asterisk","tilde","plus","apostrophe","backslash","backtick","empty","sp","space","two-colons","two-semicolons","nbsp","deg","zwsp","quot","apos","lsquo","rsquo","ldquo","rdquo","wj","brvbar","amp","lt","gt"],{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",apostrophe:"'",backslash:"\\",backtick:"`",empty:"",sp:" ",space:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",amp:"&",lt:"<",gt:">"}))),a.cdecl(n,"SPECIAL_CHARS",h(["<",">","&"],{"<":"&lt;",">":"&gt;","&":"&amp;"})),a.cdecl(n,"SPECIAL_CHARS_PATTERN",new RegExp("["+n.SPECIAL_CHARS.$keys().$join()+"]")),a.cdecl(n,"QUOTE_SUBS",[["strong","unconstrained",/\\?(?:\[([^\]]+?)\])?\*\*(.+?)\*\*/i],["strong","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?\*(\S|\S.*?\S)\*(?=\W|$)/i],["double","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?``(\S|\S.*?\S)''(?=\W|$)/i],["emphasis","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?'(\S|\S.*?\S)'(?=\W|$)/i],["single","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?`(\S|\S.*?\S)'(?=\W|$)/i],["monospaced","unconstrained",/\\?(?:\[([^\]]+?)\])?\+\+(.+?)\+\+/i],["monospaced","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?\+(\S|\S.*?\S)\+(?=\W|$)/i],["emphasis","unconstrained",/\\?(?:\[([^\]]+?)\])?\_\_(.+?)\_\_/i],["emphasis","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?_(\S|\S.*?\S)_(?=\W|$)/i],["none","unconstrained",/\\?(?:\[([^\]]+?)\])?##(.+?)##/i],["none","constrained",/(^|[^\w;:}])(?:\[([^\]]+?)\])?#(\S|\S.*?\S)#(?=\W|$)/i],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(.+?)\^/i],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\~(.+?)\~/i]]),a.cdecl(n,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[/(\w)\\?--(?=\w)/,"&#8212;","leading"],[/\\?\.\.\./,"&#8230;","leading"],[new RegExp("(["+n.CC_ALPHA+"])\\\\?'(?!')"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,4}|#x[a-fA-F0-9]{2,4});)/,"","bounding"]]),a.defs(m,"$load",function(b,c){var d,f,g,i,j,k,l,m,o=this,p=e,q=e,r=e,s=e,t=e,u=e,v=e,w=e,x=e,y=e,z=e,A=e;if(null==c&&(c=h([],{})),(d=p=c.$fetch("monitor",!1))!==!1&&d!==e&&(q=(null==(d=a.Object._scope.Time)?a.cm("Time"):d).$now().$to_f()),d="attributes",f=c,r=(g=f["$[]"](d))!==!1&&g!==e?g:f["$[]="](d,h([],{})),((d=(f=r["$is_a?"](null==(g=a.Object._scope.Hash)?a.cm("Hash"):g))!==!1&&f!==e?f:(g=null==(i=a.Object._scope.RUBY_ENGINE_JRUBY)?a.cm("RUBY_ENGINE_JRUBY"):i,g!==!1&&g!==e?r["$is_a?"]((null==(i=a.Object._scope.Java)?a.cm("Java"):i)._scope.JavaUtil._scope.Map):g))===!1||d===e)&&((d=r["$is_a?"](null==(f=a.Object._scope.Array)?a.cm("Array"):f))!==!1&&d!==e?r=c["$[]="]("attributes",(d=(f=r).$opalInject,d._p=(j=function(b,c){var d,f=(j._s||this,e),g=e;return null==b&&(b=e),null==c&&(c=e),d=a.to_ary(c.$split("=",2)),f=null==d[0]?e:d[0],g=null==d[1]?e:d[1],b["$[]="](f,(d=g)!==!1&&d!==e?d:""),b},j._s=o,j),d).call(f,h([],{}))):(d=r["$is_a?"](null==(g=a.Object._scope.String)?a.cm("String"):g))!==!1&&d!==e?(r=r.$gsub(n.REGEXP["$[]"]("space_delim"),"\\10").$gsub(n.REGEXP["$[]"]("escaped_space"),"1"),r=c["$[]="]("attributes",(d=(g=r.$split("0")).$opalInject,d._p=(k=function(b,c){var d,f=(k._s||this,e),g=e;return null==b&&(b=e),null==c&&(c=e),d=a.to_ary(c.$split("=",2)),f=null==d[0]?e:d[0],g=null==d[1]?e:d[1],b["$[]="](f,(d=g)!==!1&&d!==e?d:""),b},k._s=o,k),d).call(g,h([],{})))):(i=r["$respond_to?"]("keys"),(d=i!==!1&&i!==e?r["$respond_to?"]("[]"):i)!==!1&&d!==e?(s=r,r=c["$[]="]("attributes",h([],{})),(d=(i=s.$keys()).$each,d._p=(l=function(a){l._s||this;return null==a&&(a=e),r["$[]="](a,s["$[]"](a))},l._s=o,l),d).call(i)):o.$raise(null==(d=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):d,"illegal type for attributes option: "+r.$class().$ancestors()))),t=e,(d=b["$is_a?"](null==(m=a.Object._scope.File)?a.cm("File"):m))!==!1&&d!==e)t=b.$readlines(),u=b.$mtime(),v=(null==(d=a.Object._scope.File)?a.cm("File"):d).$expand_path(b.$path()),r["$[]="]("docfile",v),r["$[]="]("docdir",(null==(d=a.Object._scope.File)?a.cm("File"):d).$dirname(v)),r["$[]="]("docname",(null==(d=a.Object._scope.File)?a.cm("File"):d).$basename(v,(null==(d=a.Object._scope.File)?a.cm("File"):d).$extname(v))),r["$[]="]("docdate",w=u.$strftime("%Y-%m-%d")),r["$[]="]("doctime",x=u.$strftime("%H:%M:%S %Z")),r["$[]="]("docdatetime",""+w+" "+x);else if((d=b["$respond_to?"]("readlines"))!==!1&&d!==e){try{b.$rewind()}catch(B){}t=b.$readlines()}else(d=b["$is_a?"](null==(m=a.Object._scope.String)?a.cm("String"):m))!==!1&&d!==e?t=b.$lines().$entries():(d=b["$is_a?"](null==(m=a.Object._scope.Array)?a.cm("Array"):m))!==!1&&d!==e?t=b.$dup():o.$raise(null==(d=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):d,"Unsupported input type: "+b.$class());return p!==!1&&p!==e&&(y=(null==(d=a.Object._scope.Time)?a.cm("Time"):d).$now().$to_f()["$-"](q),q=(null==(d=a.Object._scope.Time)?a.cm("Time"):d).$now().$to_f()),z=n.Document.$new(t,c),p!==!1&&p!==e&&(A=(null==(d=a.Object._scope.Time)?a.cm("Time"):d).$now().$to_f()["$-"](q),p["$[]="]("read",y),p["$[]="]("parse",A),p["$[]="]("load",y["$+"](A))),z}),a.defs(m,"$load_file",function(b,c){var d;return null==c&&(c=h([],{})),(null==(d=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):d).$load((null==(d=a.Object._scope.File)?a.cm("File"):d).$new(b),c)}),a.defs(m,"$render",function(b,c){var d,f,g,i,j,k,l,m,o,p,q,r,s=this,t=e,u=e,v=e,w=e,x=e,y=e,z=e,A=e,B=e,C=e,D=e,E=e,F=e,G=e,H=e,I=e,J=e,K=e,L=e,M=e,N=e,O=e,P=e,Q=e,R=e,S=e;return null==c&&(c=h([],{})),t=(d=c.$delete("in_place"))!==!1&&d!==e?d:!1,u=c.$delete("to_file"),v=c.$delete("to_dir"),w=(d=c.$delete("mkdirs"))!==!1&&d!==e?d:!1,x=c.$fetch("monitor",!1),y=(d=t!==!1&&t!==e)?b["$is_a?"](null==(f=a.Object._scope.File)?a.cm("File"):f):d,z=(d=u)!==!1&&d!==e?d:v,f=u["$nil?"](),d=f===e||f===!1,A=d!==!1&&d!==e?u["$respond_to?"]("write"):d,(d=(f=y!==!1&&y!==e)?z:f)!==!1&&d!==e&&s.$raise(null==(d=a.Object._scope.ArgumentError)?a.cm("ArgumentError"):d,"the option :in_place cannot be used with either the :to_dir or :to_file option"),g=c["$has_key?"]("header_footer"),f=g===e||g===!1,(d=f!==!1&&f!==e?(g=y)!==!1&&g!==e?g:z:f)!==!1&&d!==e&&c["$[]="]("header_footer",!0),B=(null==(d=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):d).$load(b,c),u["$=="]("/dev/null")?B:(y!==!1&&y!==e?u=(null==(d=a.Object._scope.File)?a.cm("File"):d).$join((null==(d=a.Object._scope.File)?a.cm("File"):d).$dirname(b.$path()),""+B.$attributes()["$[]"]("docname")+B.$attributes()["$[]"]("outfilesuffix")):(g=A,f=g===e||g===!1,(d=f!==!1&&f!==e?z:f)!==!1&&d!==e&&(C=function(){return(null==(d=a.Object._scope.File)?a.cm("File"):d).$expand_path((d=c["$has_key?"]("base_dir"))!==!1&&d!==e?c["$[]"]("base_dir"):(null==(d=a.Object._scope.Dir)?a.cm("Dir"):d).$pwd())}(),D=function(){return B.$safe()["$>="](n.SafeMode._scope.SAFE)?C:e}(),v!==!1&&v!==e?(v=B.$normalize_system_path(v,C,D,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),u!==!1&&u!==e?(u=B.$normalize_system_path(u,v,e,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),v=(null==(d=a.Object._scope.File)?a.cm("File"):d).$dirname(u)):u=(null==(d=a.Object._scope.File)?a.cm("File"):d).$join(v,""+B.$attributes()["$[]"]("docname")+B.$attributes()["$[]"]("outfilesuffix"))):u!==!1&&u!==e&&(u=B.$normalize_system_path(u,C,D,h(["target_name","recover"],{target_name:"to_dir",recover:!1})),v=(null==(d=a.Object._scope.File)?a.cm("File"):d).$dirname(u)),f=(null==(g=a.Object._scope.File)?a.cm("File"):g)["$directory?"](v),(d=f===e||f===!1)!=!1&&d!==e&&(w!==!1&&w!==e?(null==(d=a.Object._scope.FileUtils)?a.cm("FileUtils"):d).$mkdir_p(v):s.$raise(null==(d=a.Object._scope.IOError)?a.cm("IOError"):d,"target directory does not exist: "+v)))),x!==!1&&x!==e&&(E=(null==(d=a.Object._scope.Time)?a.cm("Time"):d).$now().$to_f()),F=B.$render(),x!==!1&&x!==e&&(G=(null==(d=a.Object._scope.Time)?a.cm("Time"):d).$now().$to_f()["$-"](E),x["$[]="]("render",G),x["$[]="]("load_render",x["$[]"]("load")["$+"](G))),u!==!1&&u!==e?(x!==!1&&x!==e&&(E=(null==(d=a.Object._scope.Time)?a.cm("Time"):d).$now().$to_f()),A!==!1&&A!==e?(u.$write(F.$rstrip()),u.$write(n.EOL)):((d=(f=null==(g=a.Object._scope.File)?a.cm("File"):g).$open,d._p=(i=function(a){i._s||this;return null==a&&(a=e),a.$write(F)},i._s=s,i),d).call(f,u,"w"),B.$attributes()["$[]="]("outfile",H=(null==(d=a.Object._scope.File)?a.cm("File"):d).$expand_path(u)),B.$attributes()["$[]="]("outdir",(null==(d=a.Object._scope.File)?a.cm("File"):d).$dirname(H))),x!==!1&&x!==e&&(I=(null==(d=a.Object._scope.Time)?a.cm("Time"):d).$now().$to_f()["$-"](E),x["$[]="]("write",I),x["$[]="]("total",x["$[]"]("load_render")["$+"](I))),m=A,l=m===e||m===!1,k=l!==!1&&l!==e?B.$safe()["$<"](n.SafeMode._scope.SECURE):l,j=k!==!1&&k!==e?B["$attr?"]("basebackend-html"):k,g=j!==!1&&j!==e?B["$attr?"]("linkcss"):j,(d=g!==!1&&g!==e?B["$attr?"]("copycss"):g)!==!1&&d!==e&&(J=n.DEFAULT_STYLESHEET_KEYS["$include?"](K=B.$attr("stylesheet")),g=J,d=g===e||g===!1,L=d!==!1&&d!==e?(g=K.$to_s()["$empty?"](),g===e||g===!1):d,d=B["$attr?"]("source-highlighter","coderay"),M=d!==!1&&d!==e?B.$attr("coderay-css","class")["$=="]("class"):d,d=B["$attr?"]("source-highlighter","pygments"),N=d!==!1&&d!==e?B.$attr("pygments-css","class")["$=="]("class"):d,(d=(g=(j=(k=J)!==!1&&k!==e?k:L)!==!1&&j!==e?j:M)!==!1&&g!==e?g:N)!==!1&&d!==e&&(O=B.$attr("outdir"),P=B.$normalize_system_path(B.$attr("stylesdir"),O,function(){return B.$safe()["$>="](n.SafeMode._scope.SAFE)?O:e}()),w!==!1&&w!==e&&n.Helpers.$mkdir_p(P),J!==!1&&J!==e&&(d=(g=null==(j=a.Object._scope.File)?a.cm("File"):j).$open,d._p=(o=function(a){o._s||this;return null==a&&(a=e),a.$write(n.HTML5.$default_asciidoctor_stylesheet())},o._s=s,o),d).call(g,(null==(j=a.Object._scope.File)?a.cm("File"):j).$join(P,n.DEFAULT_STYLESHEET_NAME),"w"),L!==!1&&L!==e&&(Q=B.$normalize_system_path((d=(Q=B.$attr("copycss"))["$empty?"]())!==!1&&d!==e?K:Q),R=B.$normalize_system_path(K,P,function(){return B.$safe()["$>="](n.SafeMode._scope.SAFE)?O:e}()),((d=(j=Q["$=="](R))!==!1&&j!==e?j:(S=B.$read_asset(Q))["$nil?"]())===!1||d===e)&&(d=(j=null==(k=a.Object._scope.File)?a.cm("File"):k).$open,d._p=(p=function(a){p._s||this;return null==a&&(a=e),a.$write(S)},p._s=s,p),d).call(j,R,"w")),M!==!1&&M!==e&&(d=(k=null==(l=a.Object._scope.File)?a.cm("File"):l).$open,d._p=(q=function(a){q._s||this;return null==a&&(a=e),a.$write(n.HTML5.$default_coderay_stylesheet())},q._s=s,q),d).call(k,(null==(l=a.Object._scope.File)?a.cm("File"):l).$join(P,"asciidoctor-coderay.css"),"w"),N!==!1&&N!==e&&(d=(l=null==(m=a.Object._scope.File)?a.cm("File"):m).$open,d._p=(r=function(a){r._s||this;return null==a&&(a=e),a.$write(n.HTML5.$pygments_stylesheet(B.$attr("pygments-style")))},r._s=s,r),d).call(l,(null==(m=a.Object._scope.File)?a.cm("File"):m).$join(P,"asciidoctor-pygments.css"),"w"))),B):F)}),a.defs(m,"$render_file",function(b,c){var d;return null==c&&(c=h([],{})),(null==(d=a.Object._scope.Asciidoctor)?a.cm("Asciidoctor"):d).$render((null==(d=a.Object._scope.File)?a.cm("File"):d).$new(b),c)}),(c=null==(l=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):l)===!1||c===e,(c=null==(l=a.Object._scope.RUBY_ENGINE_OPAL)?a.cm("RUBY_ENGINE_OPAL"):l)!==!1&&c!==e}(c)}(Opal);
'use strict';

 angular.module('aql.asciidoc', []).
 	directive('asciidoc', function(){
		return {
			restrict: 'AE', // E = Element, A = Attribute, C = Class, M = Comment header_footer
			link: function(scope, element, attrs) {
 				var options;
 				var transform;
 				var nowatch;
 				var watch;

 				// If options are define
				if (attrs.asciidocOpts) {
					options = scope.$eval(attrs.asciidocOpts);
				}

				// If nowatch is define
				if (attrs.asciidocNoWatch) {
					nowatch = scope.$eval(attrs.asciidocNoWatch);
				}

				if (attrs.asciidoc) {
					watch = scope.$watch(attrs.asciidoc, function (newVal) {
						if (newVal) {
				            var html = newVal ? Opal.Asciidoctor.$render(newVal, options) : '';
				            element.html(html);

				            // If a transformer is define, use to complete link href or image src for example
			 				if (attrs.asciidocTransformer) {
			 					transform = scope.$eval(attrs.asciidocTransformer);
			 					transform(element);
			 				}

			 				// Stop watching value
			 				if (nowatch) {
				            	watch();
				            }	
				            
						}
			          });
				} else {		
					element.html(Opal.Asciidoctor.$render(element.text(), options));

		            // If a transformer is define, use to complete link href or image src for example
	 				if (attrs.asciidocTransformer) {
	 					transform = scope.$eval(attrs.asciidocTransformer);
	 					transform(element);
	 				}
				}

			}
		};
	});